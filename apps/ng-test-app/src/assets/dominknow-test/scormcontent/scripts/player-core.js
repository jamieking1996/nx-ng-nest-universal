 
/*

 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
*/
window.Modernizr=function(a,c,b){function k(a,h){return typeof a===h}function l(a,h){for(var c in a){var k=a[c];if(!~(""+k).indexOf("-")&&t[k]!==b)return"pfx"==h?k:!0}return!1}function p(a,h,c){var n=a.charAt(0).toUpperCase()+a.slice(1),m=(a+" "+C.join(n+" ")+n).split(" ");if(k(h,"string")||k(h,"undefined"))h=l(m,h);else a:{m=(a+" "+A.join(n+" ")+n).split(" "),a=m;for(var t in a)if(n=h[a[t]],n!==b){h=!1===c?a[t]:k(n,"function")?n.bind(c||h):n;break a}h=!1}return h}function m(){q.input=function(h){for(var b=
0,k=h.length;b<k;b++)B[h[b]]=h[b]in y;return B.list&&(B.list=!!c.createElement("datalist")&&!!a.HTMLDataListElement),B}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));q.inputtypes=function(a){for(var k=0,n,m,t,r=a.length;k<r;k++)y.setAttribute("type",m=a[k]),(n="text"!==y.type)&&(y.value=x,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(m)&&y.style.WebkitAppearance!==b?(h.appendChild(y),t=c.defaultView,n=t.getComputedStyle&&"textfield"!==
t.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,h.removeChild(y)):/^(search|tel)$/.test(m)||(/^(url|email)$/.test(m)?n=y.checkValidity&&!1===y.checkValidity():n=y.value!=x)),w[a[k]]=!!n;return w}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var q={},h=c.documentElement,n=c.createElement("modernizr"),t=n.style,y=c.createElement("input"),x=":)",z={}.toString,r=" -webkit- -moz- -o- -ms- ".split(" "),C=["Webkit","Moz","O","ms"],A=["webkit",
"moz","o","ms"],n={},w={},B={},E=[],D=E.slice,F,H=function(a,b,k,n){var m,t,r,l,x=c.createElement("div"),y=c.body,p=y||c.createElement("body");if(parseInt(k,10))for(;k--;)r=c.createElement("div"),r.id=n?n[k]:"modernizr"+(k+1),x.appendChild(r);return m=['\x26#173;\x3cstyle id\x3d"smodernizr"\x3e',a,"\x3c/style\x3e"].join(""),x.id="modernizr",(y?x:p).innerHTML+=m,p.appendChild(x),y||(p.style.background="",p.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(p)),t=b(x,
a),y?x.parentNode.removeChild(x):(p.parentNode.removeChild(p),h.style.overflow=l),!!t},G=function(){var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(h,n){n=n||c.createElement(a[h]||"div");h="on"+h;var m=h in n;return m||(n.setAttribute||(n=c.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(h,""),m=k(n[h],"function"),k(n[h],"undefined")||(n[h]=b),n.removeAttribute(h))),m}}(),L={}.hasOwnProperty,I;k(L,"undefined")||
k(L.call,"undefined")?I=function(a,h){return h in a&&k(a.constructor.prototype[h],"undefined")}:I=function(a,h){return L.call(a,h)};Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if("function"!=typeof h)throw new TypeError;var b=D.call(arguments,1),c=function(){if(this instanceof c){var k=function(){};k.prototype=h.prototype;var k=new k,n=h.apply(k,b.concat(D.call(arguments)));return Object(n)===n?n:k}return h.apply(a,b.concat(D.call(arguments)))};return c});n.flexbox=function(){return p("flexWrap")};
n.flexboxlegacy=function(){return p("boxDirection")};n.canvas=function(){var a=c.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")};n.canvastext=function(){return!!q.canvas&&!!k(c.createElement("canvas").getContext("2d").fillText,"function")};n.webgl=function(){return!!a.WebGLRenderingContext};n.touch=function(){var h;return"ontouchstart"in a||a.DocumentTouch&&c instanceof DocumentTouch?h=!0:H(["@media (",r.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),
function(a){h=9===a.offsetTop}),h};n.geolocation=function(){return"geolocation"in navigator};n.postmessage=function(){return!!a.postMessage};n.websqldatabase=function(){return!!a.openDatabase};n.indexedDB=function(){return!!p("indexedDB",a)};n.hashchange=function(){return G("hashchange",a)&&(c.documentMode===b||7<c.documentMode)};n.history=function(){return!!a.history&&!!history.pushState};n.draganddrop=function(){var a=c.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a};
n.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a};n.rgba=function(){t.cssText="background-color:rgba(150,255,150,.5)";return!!~(""+t.backgroundColor).indexOf("rgba")};n.hsla=function(){t.cssText="background-color:hsla(120,40%,100%,.5)";return!!~(""+t.backgroundColor).indexOf("rgba")||!!~(""+t.backgroundColor).indexOf("hsla")};n.multiplebgs=function(){t.cssText="background:url(https://),url(https://),red url(https://)";return/(url\s*\(.*?){3}/.test(t.background)};n.backgroundsize=
function(){return p("backgroundSize")};n.borderimage=function(){return p("borderImage")};n.borderradius=function(){return p("borderRadius")};n.boxshadow=function(){return p("boxShadow")};n.textshadow=function(){return""===c.createElement("div").style.textShadow};n.opacity=function(){t.cssText=r.join("opacity:.55;")+"";return/^0.55$/.test(t.opacity)};n.cssanimations=function(){return p("animationName")};n.csscolumns=function(){return p("columnCount")};n.cssgradients=function(){t.cssText=("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:"+
r.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);return!!~(""+t.backgroundImage).indexOf("gradient")};n.cssreflections=function(){return p("boxReflect")};n.csstransforms=function(){return!!p("transform")};n.csstransforms3d=function(){var a=!!p("perspective");return a&&"webkitPerspective"in h.style&&H("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(h,b){a=9===h.offsetLeft&&3===h.offsetHeight}),a};n.csstransitions=
function(){return p("transition")};n.fontface=function(){var a;return H('@font-face {font-family:"font";src:url("https://")}',function(h,b){h=c.getElementById("smodernizr");h=(h=h.sheet||h.styleSheet)?h.cssRules&&h.cssRules[0]?h.cssRules[0].cssText:h.cssText||"":"";a=/src/i.test(h)&&0===h.indexOf(b.split(" ")[0])}),a};n.generatedcontent=function(){var a;return H(['#modernizr{font:0/0 a}#modernizr:after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(h){a=3<=h.offsetHeight}),a};
n.video=function(){var a=c.createElement("video"),h=!1;try{if(h=!!a.canPlayType)h=new Boolean(h),h.ogg=a.canPlayType('video/ogg; codecs\x3d"theora"').replace(/^no$/,""),h.h264=a.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(/^no$/,""),h.webm=a.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/^no$/,"")}catch(b){}return h};n.audio=function(){var a=c.createElement("audio"),h=!1;try{if(h=!!a.canPlayType)h=new Boolean(h),h.ogg=a.canPlayType('audio/ogg; codecs\x3d"vorbis"').replace(/^no$/,
""),h.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),h.wav=a.canPlayType('audio/wav; codecs\x3d"1"').replace(/^no$/,""),h.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(b){}return h};n.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(a){return!1}};n.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(a){return!1}};
n.webworkers=function(){return!!a.Worker};n.applicationcache=function(){return!!a.applicationCache};n.svg=function(){return!!c.createElementNS&&!!c.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};n.inlinesvg=function(){var a=c.createElement("div");return a.innerHTML="\x3csvg/\x3e","http://www.w3.org/2000/svg"==(a.firstChild&&a.firstChild.namespaceURI)};n.smil=function(){return!!c.createElementNS&&/SVGAnimate/.test(z.call(c.createElementNS("http://www.w3.org/2000/svg","animate")))};
n.svgclippaths=function(){return!!c.createElementNS&&/SVGClipPath/.test(z.call(c.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var N in n)I(n,N)&&(F=N.toLowerCase(),q[F]=n[N](),E.push((q[F]?"":"no-")+F));q.input||m();q.addTest=function(a,c){if("object"==typeof a)for(var k in a)I(a,k)&&q.addTest(k,a[k]);else{a=a.toLowerCase();if(q[a]!==b)return q;c="function"==typeof c?c():c;h.className+=" "+(c?"":"no-")+a;q[a]=c}return q};t.cssText="";return n=y=null,function(a,h){function b(){var a=
C.elements;return"string"==typeof a?a.split(" "):a}function c(a){var h=q[a[y]];return h||(h={},p++,a[y]=p,q[p]=h),h}function k(a,b,n){b||(b=h);if(w)return b.createElement(a);n||(n=c(b));var m;return n.cache[a]?m=n.cache[a].cloneNode():l.test(a)?m=(n.cache[a]=n.createElem(a)).cloneNode():m=n.createElem(a),!m.canHaveChildren||r.test(a)||m.tagUrn?m:n.frag.appendChild(m)}function n(a,h){h.cache||(h.cache={},h.createElem=a.createElement,h.createFrag=a.createDocumentFragment,h.frag=h.createFrag());a.createElement=
function(b){return C.shivMethods?k(b,a,h):h.createElem(b)};a.createDocumentFragment=Function("h,f","return function(){var n\x3df.cloneNode(),c\x3dn.createElement;h.shivMethods\x26\x26("+b().join().replace(/[\w\-]+/g,function(a){return h.createElem(a),h.frag.createElement(a),'c("'+a+'")'})+");return n}")(C,h.frag)}function m(a){a||(a=h);var b=c(a);if(C.shivCSS&&!x&&!b.hasCSS){var k,t=a;k=t.createElement("p");t=t.getElementsByTagName("head")[0]||t.documentElement;k=(k.innerHTML="x\x3cstyle\x3earticle,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}\x3c/style\x3e",
t.insertBefore(k.lastChild,t.firstChild));b.hasCSS=!!k}return w||n(a,b),a}var t=a.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,l=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,x,y="_html5shiv",p=0,q={},w;(function(){try{var a=h.createElement("a");a.innerHTML="\x3cxyz\x3e\x3c/xyz\x3e";x="hidden"in a;var b;if(!(b=1==a.childNodes.length)){h.createElement("a");var c=h.createDocumentFragment();b="undefined"==
typeof c.cloneNode||"undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}w=b}catch(k){w=x=!0}})();var C={elements:t.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==t.shivCSS,supportsUnknownElements:w,shivMethods:!1!==t.shivMethods,type:"default",shivDocument:m,createElement:k,createDocumentFragment:function(a,
k){a||(a=h);if(w)return a.createDocumentFragment();k=k||c(a);a=k.frag.cloneNode();k=0;for(var n=b(),m=n.length;k<m;k++)a.createElement(n[k]);return a}};a.html5=C;m(h)}(this,c),q._version="2.8.3",q._prefixes=r,q._domPrefixes=A,q._cssomPrefixes=C,q.mq=function(h){var b=a.matchMedia||a.msMatchMedia;if(b)return b(h)&&b(h).matches||!1;var c;return H("@media "+h+" { #modernizr { position: absolute; } }",function(h){c="absolute"==(a.getComputedStyle?getComputedStyle(h,null):h.currentStyle).position}),c},
q.hasEvent=G,q.testProp=function(a){return l([a])},q.testAllProps=p,q.testStyles=H,q.prefixed=function(a,h,b){return h?p(a,h,b):p(a,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+E.join(" ")),q}(this,this.document);
(function(a,c,b){function k(a){return"[object Function]"==r.call(a)}function l(a){return"string"==typeof a}function p(){}function m(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function q(){var a=C.shift();A=1;a?a.t?x(function(){("c"==a.t?O.injectCss:O.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),q()):A=0}function h(a,h,b,k,n,t,r){function l(b){if(!p&&m(y.readyState)&&(F.r=p=1,!A&&q(),y.onload=y.onreadystatechange=null,b)){"img"!=a&&x(function(){E.removeChild(y)},50);for(var c in L[h])L[h].hasOwnProperty(c)&&
L[h][c].onload()}}r=r||O.errorTimeout;var y=c.createElement(a),p=0,w=0,F={t:b,s:h,e:n,a:t,x:r};1===L[h]&&(w=1,L[h]=[]);"object"==a?y.data=h:(y.src=h,y.type=a);y.width=y.height="0";y.onerror=y.onload=y.onreadystatechange=function(){l.call(this,w)};C.splice(k,0,F);"img"!=a&&(w||2===L[h]?(E.insertBefore(y,B?null:z),x(l,r)):L[h].push(y))}function n(a,b,c,k,n){return A=0,b=b||"j",l(a)?h("c"==b?F:D,a,b,this.i++,c,k,n):(C.splice(this.i++,0,a),1==C.length&&q()),this}function t(){var a=O;return a.loader={load:n,
i:0},a}var y=c.documentElement,x=a.setTimeout,z=c.getElementsByTagName("script")[0],r={}.toString,C=[],A=0,w="MozAppearance"in y.style,B=w&&!!c.createRange().compareNode,E=B?y:z.parentNode,y=a.opera&&"[object Opera]"==r.call(a.opera),y=!!c.attachEvent&&!y,D=w?"object":y?"script":"img",F=y?"script":D,H=Array.isArray||function(a){return"[object Array]"==r.call(a)},G=[],L={},I={timeout:function(a,h){return h.length&&(a.timeout=h[0]),a}},N,O;O=function(a){function h(a){a=a.split("!");var b=G.length,c=
a.pop(),k=a.length,c={url:c,origUrl:c,prefixes:a},n,m,t;for(m=0;m<k;m++)t=a[m].split("\x3d"),(n=I[t.shift()])&&(c=n(c,t));for(m=0;m<b;m++)c=G[m](c);return c}function c(a,n,m,r,l){var x=h(a),y=x.autoCallback;x.url.split(".").pop().split("?").shift();x.bypass||(n&&(n=k(n)?n:n[a]||n[r]||n[a.split("/").pop().split("?")[0]]),x.instead?x.instead(a,n,m,r,l):(L[x.url]?x.noexec=!0:L[x.url]=1,m.load(x.url,x.forceCSS||!x.forceJS&&"css"==x.url.split(".").pop().split("?").shift()?"c":b,x.noexec,x.attrs,x.timeout),
(k(n)||k(y))&&m.load(function(){t();n&&n(x.origUrl,l,r);y&&y(x.origUrl,l,r);L[x.url]=2})))}function n(a,h){function b(a,n){if(a)if(l(a))n||(r=function(){var a=[].slice.call(arguments);x.apply(this,a);y()}),c(a,r,h,0,m);else{if(Object(a)===a)for(w in q=function(){var h=0,b;for(b in a)a.hasOwnProperty(b)&&h++;return h}(),a)a.hasOwnProperty(w)&&(!n&&!--q&&(k(r)?r=function(){var a=[].slice.call(arguments);x.apply(this,a);y()}:r[w]=function(a){return function(){var h=[].slice.call(arguments);a&&a.apply(this,
h);y()}}(x[w])),c(a[w],r,h,w,m))}else!n&&y()}var m=!!a.test,t=a.load||a.both,r=a.callback||p,x=r,y=a.complete||p,q,w;b(m?a.yep:a.nope,!!t);t&&b(t)}var m,r,x=this.yepnope.loader;if(l(a))c(a,0,x,0);else if(H(a))for(m=0;m<a.length;m++)r=a[m],l(r)?c(r,0,x,0):H(r)?O(r):Object(r)===r&&n(r,x);else Object(a)===a&&n(a,x)};O.addPrefix=function(a,h){I[a]=h};O.addFilter=function(a){G.push(a)};O.errorTimeout=1E4;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",
N=function(){c.removeEventListener("DOMContentLoaded",N,0);c.readyState="complete"},0));a.yepnope=t();a.yepnope.executeStack=q;a.yepnope.injectJs=function(a,h,b,k,n,r){var t=c.createElement("script"),l,y;k=k||O.errorTimeout;t.src=a;for(y in b)t.setAttribute(y,b[y]);h=r?q:h||p;t.onreadystatechange=t.onload=function(){!l&&m(t.readyState)&&(l=1,h(),t.onload=t.onreadystatechange=null)};x(function(){l||(l=1,h(1))},k);n?t.onload():z.parentNode.insertBefore(t,z)};a.yepnope.injectCss=function(a,h,b,k,n,m){k=
c.createElement("link");var t;h=m?q:h||p;k.href=a;k.rel="stylesheet";k.type="text/css";for(t in b)k.setAttribute(t,b[t]);n||(z.parentNode.insertBefore(k,z),x(h,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
!function(a,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,c){function b(a){var h=a.length,b=u.type(a);return"function"===b||u.isWindow(a)?!1:1===a.nodeType&&h?!0:"array"===b||0===h||"number"==typeof h&&0<h&&h-1 in a}function k(a,h,b){if(u.isFunction(h))return u.grep(a,function(a,c){return!!h.call(a,c,
a)!==b});if(h.nodeType)return u.grep(a,function(a){return a===h!==b});if("string"==typeof h){if(la.test(h))return u.filter(h,a,b);h=u.filter(h,a)}return u.grep(a,function(a){return 0<=u.inArray(a,h)!==b})}function l(a,h){do a=a[h];while(a&&1!==a.nodeType);return a}function p(a){var h=ya[a]={};return u.each(a.match(fa)||[],function(a,b){h[b]=!0}),h}function m(){M.addEventListener?(M.removeEventListener("DOMContentLoaded",q,!1),a.removeEventListener("load",q,!1)):(M.detachEvent("onreadystatechange",
q),a.detachEvent("onload",q))}function q(){(M.addEventListener||"load"===event.type||"complete"===M.readyState)&&(m(),u.ready())}function h(a,h,b){if(void 0===b&&1===a.nodeType){var c="data-"+h.replace(ja,"-$1").toLowerCase();if(b=a.getAttribute(c),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:ra.test(b)?u.parseJSON(b):b}catch(k){}u.data(a,h,b)}else b=void 0}return b}function n(a){for(var h in a)if(("data"!==h||!u.isEmptyObject(a[h]))&&"toJSON"!==h)return!1;return!0}
function t(a,h,b,c){if(u.acceptData(a)){var k,n,m=u.expando,t=a.nodeType,r=t?u.cache:a,l=t?a[m]:a[m]&&m;if(l&&r[l]&&(c||r[l].data)||void 0!==b||"string"!=typeof h)return l||(l=t?a[m]=ga.pop()||u.guid++:m),r[l]||(r[l]=t?{}:{toJSON:u.noop}),("object"==typeof h||"function"==typeof h)&&(c?r[l]=u.extend(r[l],h):r[l].data=u.extend(r[l].data,h)),n=r[l],c||(n.data||(n.data={}),n=n.data),void 0!==b&&(n[u.camelCase(h)]=b),"string"==typeof h?(k=n[h],null==k&&(k=n[u.camelCase(h)])):k=n,k}}function y(a,h,b){if(u.acceptData(a)){var c,
k,m=a.nodeType,t=m?u.cache:a,r=m?a[u.expando]:u.expando;if(t[r]){if(h&&(c=b?t[r]:t[r].data)){u.isArray(h)?h=h.concat(u.map(h,u.camelCase)):h in c?h=[h]:(h=u.camelCase(h),h=h in c?[h]:h.split(" "));for(k=h.length;k--;)delete c[h[k]];if(b?!n(c):!u.isEmptyObject(c))return}(b||(delete t[r].data,n(t[r])))&&(m?u.cleanData([a],!0):P.deleteExpando||t!=t.window?delete t[r]:t[r]=null)}}}function x(){return!0}function z(){return!1}function r(){try{return M.activeElement}catch(a){}}function C(a){var h=kb.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;h.length;)a.createElement(h.pop());return a}function A(a,h){var b,c,k=0,n="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(h||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(h||"*"):void 0;if(!n)for(n=[],b=a.childNodes||a;null!=(c=b[k]);k++)!h||u.nodeName(c,h)?n.push(c):u.merge(n,A(c,h));return void 0===h||h&&u.nodeName(a,h)?u.merge([a],n):n}function w(a){Na.test(a.type)&&(a.defaultChecked=a.checked)}function B(a,
h){return u.nodeName(a,"table")&&u.nodeName(11!==h.nodeType?h:h.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function E(a){return a.type=(null!==u.find.attr(a,"type"))+"/"+a.type,a}function D(a){var h=Gb.exec(a.type);return h?a.type=h[1]:a.removeAttribute("type"),a}function F(a,h){for(var b,c=0;null!=(b=a[c]);c++)u._data(b,"globalEval",!h||u._data(h[c],"globalEval"))}function H(a,h){if(1===h.nodeType&&u.hasData(a)){var b,c,k;c=u._data(a);
a=u._data(h,c);var n=c.events;if(n)for(b in delete a.handle,a.events={},n)for(c=0,k=n[b].length;k>c;c++)u.event.add(h,b,n[b][c]);a.data&&(a.data=u.extend({},a.data))}}function G(h,b){var c;h=u(b.createElement(h)).appendTo(b.body);b=a.getDefaultComputedStyle&&(c=a.getDefaultComputedStyle(h[0]))?c.display:u.css(h[0],"display");return h.detach(),b}function L(a){var h=M,b=lb[a];return b||(b=G(a,h),"none"!==b&&b||(Oa=(Oa||u("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(h.documentElement),
h=(Oa[0].contentWindow||Oa[0].contentDocument).document,h.write(),h.close(),b=G(a,h),Oa.detach()),lb[a]=b),b}function I(a,h){return{get:function(){var b=a();if(null!=b)return b?void delete this.get:(this.get=h).apply(this,arguments)}}}function N(a,h){if(h in a)return h;for(var b=h.charAt(0).toUpperCase()+h.slice(1),c=h,k=mb.length;k--;)if(h=mb[k]+b,h in a)return h;return c}function O(a,h){for(var b,c,k,n=[],m=0,t=a.length;t>m;m++)c=a[m],c.style&&(n[m]=u._data(c,"olddisplay"),b=c.style.display,h?(n[m]||
"none"!==b||(c.style.display=""),""===c.style.display&&ua(c)&&(n[m]=u._data(c,"olddisplay",L(c.nodeName)))):(k=ua(c),(b&&"none"!==b||!k)&&u._data(c,"olddisplay",k?b:u.css(c,"display"))));for(m=0;t>m;m++)c=a[m],c.style&&(h&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=h?n[m]||"":"none"));return a}function J(a,h,b){return(a=Hb.exec(h))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):h}function Y(a,h,b,c,k){h=b===(c?"border":"content")?4:"width"===h?1:0;for(var n=0;4>h;h+=2)"margin"===b&&(n+=
u.css(a,b+za[h],!0,k)),c?("content"===b&&(n-=u.css(a,"padding"+za[h],!0,k)),"margin"!==b&&(n-=u.css(a,"border"+za[h]+"Width",!0,k))):(n+=u.css(a,"padding"+za[h],!0,k),"padding"!==b&&(n+=u.css(a,"border"+za[h]+"Width",!0,k)));return n}function V(a,h,b){var c=!0,k="width"===h?a.offsetWidth:a.offsetHeight,n=Da(a),m=P.boxSizing&&"border-box"===u.css(a,"boxSizing",!1,n);if(0>=k||null==k){if(k=Ea(a,h,n),(0>k||null==k)&&(k=a.style[h]),Qa.test(k))return k;c=m&&(P.boxSizingReliable()||k===a.style[h]);k=parseFloat(k)||
0}return k+Y(a,h,b||(m?"border":"content"),c,n)+"px"}function S(a,h,b,c,k){return new S.prototype.init(a,h,b,c,k)}function Q(){return setTimeout(function(){Ka=void 0}),Ka=u.now()}function T(a,h){var b,c={height:a},k=0;for(h=h?1:0;4>k;k+=2-h)b=za[k],c["margin"+b]=c["padding"+b]=a;return h&&(c.opacity=c.width=a),c}function R(a,h,b){for(var c,k=(Pa[h]||[]).concat(Pa["*"]),n=0,m=k.length;m>n;n++)if(c=k[n].call(b,h,a))return c}function K(a,h){var b,c,k,n,m;for(b in a)if(c=u.camelCase(b),k=h[c],n=a[b],
u.isArray(n)&&(k=n[1],n=a[b]=n[0]),b!==c&&(a[c]=n,delete a[b]),m=u.cssHooks[c],m&&"expand"in m)for(b in n=m.expand(n),delete a[c],n)b in a||(a[b]=n[b],h[b]=k);else h[c]=k}function Z(a,h,b){var c,k=0,n=Ra.length,m=u.Deferred().always(function(){delete t.elem}),t=function(){if(c)return!1;for(var h=Ka||Q(),h=Math.max(0,r.startTime+r.duration-h),b=1-(h/r.duration||0),k=0,n=r.tweens.length;n>k;k++)r.tweens[k].run(b);return m.notifyWith(a,[r,b,h]),1>b&&n?h:(m.resolveWith(a,[r]),!1)},r=m.promise({elem:a,
props:u.extend({},h),opts:u.extend(!0,{specialEasing:{}},b),originalProperties:h,originalOptions:b,startTime:Ka||Q(),duration:b.duration,tweens:[],createTween:function(h,b){h=u.Tween(a,r.opts,h,b,r.opts.specialEasing[h]||r.opts.easing);return r.tweens.push(h),h},stop:function(h){var b=0,k=h?r.tweens.length:0;if(c)return this;for(c=!0;k>b;b++)r.tweens[b].run(1);return h?m.resolveWith(a,[r,h]):m.rejectWith(a,[r,h]),this}});b=r.props;for(K(b,r.opts.specialEasing);n>k;k++)if(h=Ra[k].call(r,a,b,r.opts))return h;
return u.map(b,R,r),u.isFunction(r.opts.start)&&r.opts.start.call(a,r),u.fx.timer(u.extend(t,{elem:a,anim:r,queue:r.opts.queue})),r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always)}function X(a){return function(h,b){"string"!=typeof h&&(b=h,h="*");var c=0,k=h.toLowerCase().match(fa)||[];if(u.isFunction(b))for(;h=k[c++];)"+"===h.charAt(0)?(h=h.slice(1)||"*",(a[h]=a[h]||[]).unshift(b)):(a[h]=a[h]||[]).push(b)}}function aa(a,h,b,c){function k(r){var t;
return n[r]=!0,u.each(a[r]||[],function(a,r){a=r(h,b,c);return"string"!=typeof a||m||n[a]?m?!(t=a):void 0:(h.dataTypes.unshift(a),k(a),!1)}),t}var n={},m=a===Xa;return k(h.dataTypes[0])||!n["*"]&&k("*")}function da(a,h){var b,c,k=u.ajaxSettings.flatOptions||{};for(c in h)void 0!==h[c]&&((k[c]?a:b||(b={}))[c]=h[c]);return b&&u.extend(!0,a,b),a}function U(a,h,b,c){var k;if(u.isArray(h))u.each(h,function(h,k){b||Ib.test(a)?c(a,k):U(a+"["+("object"==typeof k?h:"")+"]",k,b,c)});else if(b||"object"!==u.type(h))c(a,
h);else for(k in h)U(a+"["+k+"]",h[k],b,c)}function ha(){try{return new a.XMLHttpRequest}catch(h){}}function ia(a){return u.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ga=[],ka=ga.slice,ma=ga.concat,pa=ga.push,qa=ga.indexOf,ta={},na=ta.toString,ea=ta.hasOwnProperty,P={},u=function(a,h){return new u.fn.init(a,h)},Ya=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Za=/^-ms-/,$a=/-([\da-z])/gi,ab=function(a,h){return h.toUpperCase()};u.fn=u.prototype={jquery:"1.11.1",constructor:u,selector:"",
length:0,toArray:function(){return ka.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ka.call(this)},pushStack:function(a){a=u.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,h){return u.each(this,a,h)},map:function(a){return this.pushStack(u.map(this,function(h,b){return a.call(h,b,h)}))},slice:function(){return this.pushStack(ka.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var h=this.length;a=+a+(0>a?h:0);return this.pushStack(0<=a&&h>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:pa,sort:ga.sort,splice:ga.splice};u.extend=u.fn.extend=function(){var a,h,b,c,k,n,m=arguments[0]||{},r=1,t=arguments.length,l=!1;"boolean"==typeof m&&(l=m,m=arguments[r]||{},r++);"object"==typeof m||u.isFunction(m)||(m={});for(r===t&&(m=this,r--);t>r;r++)if(null!=(k=arguments[r]))for(c in k)a=m[c],b=k[c],m!==b&&(l&&b&&(u.isPlainObject(b)||
(h=u.isArray(b)))?(h?(h=!1,n=a&&u.isArray(a)?a:[]):n=a&&u.isPlainObject(a)?a:{},m[c]=u.extend(l,n,b)):void 0!==b&&(m[c]=b));return m};u.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===u.type(a)},isArray:Array.isArray||function(a){return"array"===u.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!u.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var h in a)return!1;
return!0},isPlainObject:function(a){var h;if(!a||"object"!==u.type(a)||a.nodeType||u.isWindow(a))return!1;try{if(a.constructor&&!ea.call(a,"constructor")&&!ea.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}if(P.ownLast)for(h in a)return ea.call(a,h);for(h in a);return void 0===h||ea.call(a,h)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ta[na.call(a)]||"object":typeof a},globalEval:function(h){h&&u.trim(h)&&(a.execScript||function(h){a.eval.call(a,
h)})(h)},camelCase:function(a){return a.replace(Za,"ms-").replace($a,ab)},nodeName:function(a,h){return a.nodeName&&a.nodeName.toLowerCase()===h.toLowerCase()},each:function(a,h,c){var k,n=0,m=a.length,r=b(a);if(c)if(r)for(;m>n&&(k=h.apply(a[n],c),!1!==k);n++);else for(n in a){if(k=h.apply(a[n],c),!1===k)break}else if(r)for(;m>n&&(k=h.call(a[n],n,a[n]),!1!==k);n++);else for(n in a)if(k=h.call(a[n],n,a[n]),!1===k)break;return a},trim:function(a){return null==a?"":(a+"").replace(Ya,"")},makeArray:function(a,
h){h=h||[];return null!=a&&(b(Object(a))?u.merge(h,"string"==typeof a?[a]:a):pa.call(h,a)),h},inArray:function(a,h,b){var c;if(h){if(qa)return qa.call(h,a,b);c=h.length;for(b=b?0>b?Math.max(0,c+b):b:0;c>b;b++)if(b in h&&h[b]===a)return b}return-1},merge:function(a,h){for(var b=+h.length,c=0,k=a.length;b>c;)a[k++]=h[c++];if(b!==b)for(;void 0!==h[c];)a[k++]=h[c++];return a.length=k,a},grep:function(a,h,b){for(var c=[],k=0,n=a.length,m=!b;n>k;k++)b=!h(a[k],k),b!==m&&c.push(a[k]);return c},map:function(a,
h,c){var k,n=0,m=a.length,r=[];if(b(a))for(;m>n;n++)k=h(a[n],n,c),null!=k&&r.push(k);else for(n in a)k=h(a[n],n,c),null!=k&&r.push(k);return ma.apply([],r)},guid:1,proxy:function(a,h){var b,c,k;return"string"==typeof h&&(k=a[h],h=a,a=k),u.isFunction(a)?(b=ka.call(arguments,2),c=function(){return a.apply(h||this,b.concat(ka.call(arguments)))},c.guid=a.guid=a.guid||u.guid++,c):void 0},now:function(){return+new Date},support:P});u.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,h){ta["[object "+h+"]"]=h.toLowerCase()});var La=function(a){function h(a,b,c,k){var n,m,r,t,l;if((b?b.ownerDocument||b:na)!==R&&Q(b),b=b||R,c=c||[],!a||"string"!=typeof a)return c;if(1!==(t=b.nodeType)&&9!==t)return[];if(Z&&!k){if(n=$a.exec(a))if(r=n[1])if(9===t){if(m=b.getElementById(r),!m||!m.parentNode)return c;if(m.id===r)return c.push(m),c}else{if(b.ownerDocument&&(m=b.ownerDocument.getElementById(r))&&T(b,m)&&m.id===r)return c.push(m),c}else{if(n[2])return da.apply(c,b.getElementsByTagName(a)),
c;if((r=n[3])&&F.getElementsByClassName&&b.getElementsByClassName)return da.apply(c,b.getElementsByClassName(r)),c}if(F.qsa&&(!O||!O.test(a))){if(m=n=ja,r=b,l=9===t&&a,1===t&&"object"!==b.nodeName.toLowerCase()){t=D(a);(n=b.getAttribute("id"))?m=n.replace(ab,"\\$\x26"):b.setAttribute("id",m);m="[id\x3d'"+m+"'] ";for(r=t.length;r--;)t[r]=m+p(t[r]);r=pa.test(a)&&x(b.parentNode)||b;l=t.join(",")}if(l)try{return da.apply(c,r.querySelectorAll(l)),c}catch(y){}finally{n||b.removeAttribute("id")}}}return I(a.replace(ua,
"$1"),b,c,k)}function b(){function a(b,c){return h.push(b+" ")>E.cacheLength&&delete a[h.shift()],a[b+" "]=c}var h=[];return a}function c(a){return a[ja]=!0,a}function k(a){var h=R.createElement("div");try{return!!a(h)}catch(b){return!1}finally{h.parentNode&&h.parentNode.removeChild(h)}}function n(a,h){var b=a.split("|");for(a=a.length;a--;)E.attrHandle[b[a]]=h}function m(a,h){var b=h&&a,c=b&&1===a.nodeType&&1===h.nodeType&&(~h.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;
if(b)for(;b=b.nextSibling;)if(b===h)return-1;return a?1:-1}function r(a){return function(h){return"input"===h.nodeName.toLowerCase()&&h.type===a}}function t(a){return function(h){var b=h.nodeName.toLowerCase();return("input"===b||"button"===b)&&h.type===a}}function l(a){return c(function(h){return h=+h,c(function(b,c){for(var k,n=a([],b.length,h),m=n.length;m--;)b[k=n[m]]&&(b[k]=!(c[k]=b[k]))})})}function x(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function y(){}function p(a){for(var h=
0,b=a.length,c="";b>h;h++)c+=a[h].value;return c}function q(a,h,b){var c=h.dir,k=b&&"parentNode"===c,n=V++;return h.first?function(h,b,n){for(;h=h[c];)if(1===h.nodeType||k)return a(h,b,n)}:function(h,b,m){var r,t,l=[X,n];if(m)for(;h=h[c];){if((1===h.nodeType||k)&&a(h,b,m))return!0}else for(;h=h[c];)if(1===h.nodeType||k){if(t=h[ja]||(h[ja]={}),(r=t[c])&&r[0]===X&&r[1]===n)return l[2]=r[2];if(t[c]=l,l[2]=a(h,b,m))return!0}}}function w(a){return 1<a.length?function(h,b,c){for(var k=a.length;k--;)if(!a[k](h,
b,c))return!1;return!0}:a[0]}function C(a,h,b,c,k){for(var n,m=[],r=0,t=a.length,l=null!=h;t>r;r++)(n=a[r])&&(!b||b(n,c,k))&&(m.push(n),l&&h.push(r));return m}function z(a,b,k,n,m,r){return n&&!n[ja]&&(n=z(n)),m&&!m[ja]&&(m=z(m,r)),c(function(c,r,t,l){var x,y,p=[],q=[],w=r.length,z;if(!(z=c)){z=b||"*";for(var A=t.nodeType?[t]:t,Ja=[],B=0,u=A.length;u>B;B++)h(z,A[B],Ja);z=Ja}z=!a||!c&&b?z:C(z,p,a,t,l);A=k?m||(c?a:w||n)?[]:r:z;if(k&&k(z,A,t,l),n)for(x=C(A,q),n(x,[],t,l),t=x.length;t--;)(y=x[t])&&(A[q[t]]=
!(z[q[t]]=y));if(c){if(m||a){if(m){x=[];for(t=A.length;t--;)(y=A[t])&&x.push(z[t]=y);m(null,A=[],x,l)}for(t=A.length;t--;)(y=A[t])&&-1<(x=m?ia.call(c,y):p[t])&&(c[x]=!(r[x]=y))}}else A=C(A===r?A.splice(w,A.length):A),m?m(null,r,A,l):da.apply(r,A)})}function A(a){var h,b,c,k=a.length,n=E.relative[a[0].type];b=n||E.relative[" "];for(var m=n?1:0,r=q(function(a){return a===h},b,!0),t=q(function(a){return-1<ia.call(h,a)},b,!0),l=[function(a,b,c){return!n&&(c||b!==N)||((h=b).nodeType?r(a,b,c):t(a,b,c))}];k>
m;m++)if(b=E.relative[a[m].type])l=[q(w(l),b)];else{if(b=E.filter[a[m].type].apply(null,a[m].matches),b[ja]){for(c=++m;k>c&&!E.relative[a[c].type];c++);return z(1<m&&w(l),1<m&&p(a.slice(0,m-1).concat({value:" "===a[m-2].type?"*":""})).replace(ua,"$1"),b,c>m&&A(a.slice(m,c)),k>c&&A(a=a.slice(c)),k>c&&p(a))}l.push(b)}return w(l)}function B(a,b){var k=0<b.length,n=0<a.length,m=function(c,m,r,t,l){var x,y,p,q=0,w="0",z=c&&[],A=[],Ja=N,B=c||n&&E.find.TAG("*",l),u=X+=null==Ja?1:Math.random()||.1,F=B.length;
for(l&&(N=m!==R&&m);w!==F&&null!=(x=B[w]);w++){if(n&&x){for(y=0;p=a[y++];)if(p(x,m,r)){t.push(x);break}l&&(X=u)}k&&((x=!p&&x)&&q--,c&&z.push(x))}if(q+=w,k&&w!==q){for(y=0;p=b[y++];)p(z,A,m,r);if(c){if(0<q)for(;w--;)z[w]||A[w]||(A[w]=ga.call(t));A=C(A)}da.apply(t,A);l&&!c&&0<A.length&&1<q+b.length&&h.uniqueSort(t)}return l&&(X=u,N=Ja),z};return k?c(m):m}var u,F,E,G,H,D,L,I,N,K,S,Q,R,ea,Z,O,J,P,T,ja="sizzle"+-new Date,na=a.document,X=0,V=0,ta=b(),Y=b(),aa=b(),fa=function(a,h){return a===h&&(S=!0),0},
U={}.hasOwnProperty,ha=[],ga=ha.pop,ya=ha.push,da=ha.push,Ga=ha.slice,ia=ha.indexOf||function(a){for(var h=0,b=this.length;b>h;h++)if(this[h]===a)return h;return-1},xa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ka="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+xa+"))|)[\\x20\\t\\r\\n\\f]*\\]",M=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ka+")*)|.*)\\)|)",ua=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,za=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,qa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ba=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Ya=new RegExp(M),Za=new RegExp("^"+xa+"$"),W={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ka),PSEUDO:new RegExp("^"+M),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},wa=/^(?:input|select|textarea|button)$/i,Na=/^h\d$/i,Aa=/^[^{]+\{\s*\[native \w/,$a=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/[+~]/,ab=/'|\\/g,ma=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ra=function(a,h,b){a="0x"+h-65536;
return a!==a||b?h:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{da.apply(ha=Ga.call(na.childNodes),na.childNodes),ha[na.childNodes.length].nodeType}catch(lc){da={apply:ha.length?function(a,h){ya.apply(a,Ga.call(h))}:function(a,h){for(var b=a.length,c=0;a[b++]=h[c++];);a.length=b-1}}}F=h.support={};H=h.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};Q=h.setDocument=function(a){var h,b=a?a.ownerDocument||a:na;a=b.defaultView;
return b!==R&&9===b.nodeType&&b.documentElement?(R=b,ea=b.documentElement,Z=!H(b),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){Q()},!1):a.attachEvent&&a.attachEvent("onunload",function(){Q()})),F.attributes=k(function(a){return a.className="i",!a.getAttribute("className")}),F.getElementsByTagName=k(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),F.getElementsByClassName=Aa.test(b.getElementsByClassName)&&k(function(a){return a.innerHTML=
"\x3cdiv class\x3d'a'\x3e\x3c/div\x3e\x3cdiv class\x3d'a i'\x3e\x3c/div\x3e",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),F.getById=k(function(a){return ea.appendChild(a).id=ja,!b.getElementsByName||!b.getElementsByName(ja).length}),F.getById?(E.find.ID=function(a,h){if("undefined"!==typeof h.getElementById&&Z)return(a=h.getElementById(a))&&a.parentNode?[a]:[]},E.filter.ID=function(a){var h=a.replace(ma,ra);return function(a){return a.getAttribute("id")===h}}):(delete E.find.ID,
E.filter.ID=function(a){var h=a.replace(ma,ra);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===h}}),E.find.TAG=F.getElementsByTagName?function(a,h){return"undefined"!==typeof h.getElementsByTagName?h.getElementsByTagName(a):void 0}:function(a,h){var b=[],c=0;h=h.getElementsByTagName(a);if("*"===a){for(;a=h[c++];)1===a.nodeType&&b.push(a);return b}return h},E.find.CLASS=F.getElementsByClassName&&function(a,h){return"undefined"!==typeof h.getElementsByClassName&&
Z?h.getElementsByClassName(a):void 0},J=[],O=[],(F.qsa=Aa.test(b.querySelectorAll))&&(k(function(a){a.innerHTML="\x3cselect msallowclip\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowclip^\x3d'']").length&&O.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||O.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||O.push(":checked")}),k(function(a){var h=b.createElement("input");h.setAttribute("type","hidden");a.appendChild(h).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&O.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");a.querySelectorAll(":enabled").length||O.push(":enabled",":disabled");a.querySelectorAll("*,:x");O.push(",.*:")})),(F.matchesSelector=Aa.test(P=ea.matches||ea.webkitMatchesSelector||ea.mozMatchesSelector||ea.oMatchesSelector||ea.msMatchesSelector))&&
k(function(a){F.disconnectedMatch=P.call(a,"div");P.call(a,"[s!\x3d'']:x");J.push("!\x3d",M)}),O=O.length&&new RegExp(O.join("|")),J=J.length&&new RegExp(J.join("|")),h=Aa.test(ea.compareDocumentPosition),T=h||Aa.test(ea.contains)?function(a,h){var b=9===a.nodeType?a.documentElement:a;h=h&&h.parentNode;return a===h||!(!h||1!==h.nodeType||!(b.contains?b.contains(h):a.compareDocumentPosition&&16&a.compareDocumentPosition(h)))}:function(a,h){if(h)for(;h=h.parentNode;)if(h===a)return!0;return!1},fa=h?
function(a,h){if(a===h)return S=!0,0;var c=!a.compareDocumentPosition-!h.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(h.ownerDocument||h)?a.compareDocumentPosition(h):1,1&c||!F.sortDetached&&h.compareDocumentPosition(a)===c?a===b||a.ownerDocument===na&&T(na,a)?-1:h===b||h.ownerDocument===na&&T(na,h)?1:K?ia.call(K,a)-ia.call(K,h):0:4&c?-1:1)}:function(a,h){if(a===h)return S=!0,0;var c=0,k=a.parentNode,n=h.parentNode,r=[a],t=[h];if(!k||!n)return a===b?-1:h===b?1:k?-1:n?1:K?ia.call(K,
a)-ia.call(K,h):0;if(k===n)return m(a,h);for(;a=a.parentNode;)r.unshift(a);for(a=h;a=a.parentNode;)t.unshift(a);for(;r[c]===t[c];)c++;return c?m(r[c],t[c]):r[c]===na?-1:t[c]===na?1:0},b):R};h.matches=function(a,b){return h(a,null,null,b)};h.matchesSelector=function(a,b){if((a.ownerDocument||a)!==R&&Q(a),b=b.replace(ba,"\x3d'$1']"),!(!F.matchesSelector||!Z||J&&J.test(b)||O&&O.test(b)))try{var c=P.call(a,b);if(c||F.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(k){}return 0<
h(b,R,null,[a]).length};h.contains=function(a,h){return(a.ownerDocument||a)!==R&&Q(a),T(a,h)};h.attr=function(a,h){(a.ownerDocument||a)!==R&&Q(a);var b=E.attrHandle[h.toLowerCase()],b=b&&U.call(E.attrHandle,h.toLowerCase())?b(a,h,!Z):void 0;return void 0!==b?b:F.attributes||!Z?a.getAttribute(h):(b=a.getAttributeNode(h))&&b.specified?b.value:null};h.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};h.uniqueSort=function(a){var h,b=[],c=0,k=0;if(S=!F.detectDuplicates,K=!F.sortStable&&
a.slice(0),a.sort(fa),S){for(;h=a[k++];)h===a[k]&&(c=b.push(k));for(;c--;)a.splice(b[c],1)}return K=null,a};G=h.getText=function(a){var h,b="",c=0;if(h=a.nodeType)if(1===h||9===h||11===h){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=G(a)}else{if(3===h||4===h)return a.nodeValue}else for(;h=a[c++];)b+=G(h);return b};E=h.selectors={cacheLength:50,createPseudo:c,match:W,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},
"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ma,ra),a[3]=(a[3]||a[4]||a[5]||"").replace(ma,ra),"~\x3d"===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||h.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&h.error(a[0]),a},PSEUDO:function(a){var h,b=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?
a[2]=a[4]||a[5]||"":b&&Ya.test(b)&&(h=D(b,!0))&&(h=b.indexOf(")",b.length-h)-b.length)&&(a[0]=a[0].slice(0,h),a[2]=b.slice(0,h)),a.slice(0,3))}},filter:{TAG:function(a){var h=a.replace(ma,ra).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===h}},CLASS:function(a){var h=ta[a+" "];return h||(h=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),ta(a,function(a){return h.test("string"==typeof a.className&&a.className||"undefined"!==
typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,b,c){return function(k){k=h.attr(k,a);return null==k?"!\x3d"===b:b?(k+="","\x3d"===b?k===c:"!\x3d"===b?k!==c:"^\x3d"===b?c&&0===k.indexOf(c):"*\x3d"===b?c&&-1<k.indexOf(c):"$\x3d"===b?c&&k.slice(-c.length)===c:"~\x3d"===b?-1<(" "+k+" ").indexOf(c):"|\x3d"===b?k===c||k.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,h,b,c,k){var n="nth"!==a.slice(0,3),m="last"!==a.slice(-4),r="of-type"===h;return 1===c&&0===k?function(a){return!!a.parentNode}:
function(h,b,t){var l,x,y,p,q;b=n!==m?"nextSibling":"previousSibling";var w=h.parentNode,C=r&&h.nodeName.toLowerCase();t=!t&&!r;if(w){if(n){for(;b;){for(x=h;x=x[b];)if(r?x.nodeName.toLowerCase()===C:1===x.nodeType)return!1;q=b="only"===a&&!q&&"nextSibling"}return!0}if(q=[m?w.firstChild:w.lastChild],m&&t)for(t=w[ja]||(w[ja]={}),l=t[a]||[],p=l[0]===X&&l[1],y=l[0]===X&&l[2],x=p&&w.childNodes[p];x=++p&&x&&x[b]||(y=p=0)||q.pop();){if(1===x.nodeType&&++y&&x===h){t[a]=[X,p,y];break}}else if(t&&(l=(h[ja]||
(h[ja]={}))[a])&&l[0]===X)y=l[1];else for(;(x=++p&&x&&x[b]||(y=p=0)||q.pop())&&((r?x.nodeName.toLowerCase()!==C:1!==x.nodeType)||!++y||(t&&((x[ja]||(x[ja]={}))[a]=[X,y]),x!==h)););return y-=k,y===c||0===y%c&&0<=y/c}}},PSEUDO:function(a,b){var k,n=E.pseudos[a]||E.setFilters[a.toLowerCase()]||h.error("unsupported pseudo: "+a);return n[ja]?n(b):1<n.length?(k=[a,a,"",b],E.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,h){for(var c,k=n(a,b),m=k.length;m--;)c=ia.call(a,k[m]),a[c]=!(h[c]=k[m])}):
function(a){return n(a,0,k)}):n}},pseudos:{not:c(function(a){var h=[],b=[],k=L(a.replace(ua,"$1"));return k[ja]?c(function(a,h,b,c){var n;b=k(a,null,c,[]);for(c=a.length;c--;)(n=b[c])&&(a[c]=!(h[c]=n))}):function(a,c,n){return h[0]=a,k(h,null,n,b),!b.pop()}}),has:c(function(a){return function(b){return 0<h(a,b).length}}),contains:c(function(a){return function(h){return-1<(h.textContent||h.innerText||G(h)).indexOf(a)}}),lang:c(function(a){return Za.test(a||"")||h.error("unsupported lang: "+a),a=a.replace(ma,
ra).toLowerCase(),function(h){var b;do if(b=Z?h.lang:h.getAttribute("xml:lang")||h.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((h=h.parentNode)&&1===h.nodeType);return!1}}),target:function(h){var b=a.location&&a.location.hash;return b&&b.slice(1)===h.id},root:function(a){return a===ea},focus:function(a){return a===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var h=a.nodeName.toLowerCase();return"input"===h&&!!a.checked||"option"===h&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!E.pseudos.empty(a)},header:function(a){return Na.test(a.nodeName)},input:function(a){return wa.test(a.nodeName)},button:function(a){var h=a.nodeName.toLowerCase();return"input"===
h&&"button"===a.type||"button"===h},text:function(a){var h;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(h=a.getAttribute("type"))||"text"===h.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,h){return[h-1]}),eq:l(function(a,h,b){return[0>b?b+h:b]}),even:l(function(a,h){for(var b=0;h>b;b+=2)a.push(b);return a}),odd:l(function(a,h){for(var b=1;h>b;b+=2)a.push(b);return a}),lt:l(function(a,h,b){for(h=0>b?b+h:b;0<=--h;)a.push(h);return a}),gt:l(function(a,h,b){for(b=
0>b?b+h:b;++b<h;)a.push(b);return a})}};E.pseudos.nth=E.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[u]=r(u);for(u in{submit:!0,reset:!0})E.pseudos[u]=t(u);y.prototype=E.filters=E.pseudos;E.setFilters=new y;D=h.tokenize=function(a,b){var c,k,n,m,r,t,l;if(r=Y[a+" "])return b?0:r.slice(0);r=a;t=[];for(l=E.preFilter;r;){c&&!(k=za.exec(r))||(k&&(r=r.slice(k[0].length)||r),t.push(n=[]));c=!1;(k=qa.exec(r))&&(c=k.shift(),n.push({value:c,type:k[0].replace(ua," ")}),r=
r.slice(c.length));for(m in E.filter)!(k=W[m].exec(r))||l[m]&&!(k=l[m](k))||(c=k.shift(),n.push({value:c,type:m,matches:k}),r=r.slice(c.length));if(!c)break}return b?r.length:r?h.error(a):Y(a,t).slice(0)};return L=h.compile=function(a,h){var b,c=[],k=[],n=aa[a+" "];if(!n){h||(h=D(a));for(b=h.length;b--;)n=A(h[b]),n[ja]?c.push(n):k.push(n);n=aa(a,B(k,c));n.selector=a}return n},I=h.select=function(a,h,b,c){var k,n,m,r,t,l="function"==typeof a&&a,y=!c&&D(a=l.selector||a);if(b=b||[],1===y.length){if(n=
y[0]=y[0].slice(0),2<n.length&&"ID"===(m=n[0]).type&&F.getById&&9===h.nodeType&&Z&&E.relative[n[1].type]){if(h=(E.find.ID(m.matches[0].replace(ma,ra),h)||[])[0],!h)return b;l&&(h=h.parentNode);a=a.slice(n.shift().value.length)}for(k=W.needsContext.test(a)?0:n.length;k--&&(m=n[k],!E.relative[r=m.type]);)if((t=E.find[r])&&(c=t(m.matches[0].replace(ma,ra),pa.test(n[0].type)&&x(h.parentNode)||h))){if(n.splice(k,1),a=c.length&&p(n),!a)return da.apply(b,c),b;break}}return(l||L(a,y))(c,h,!Z,b,pa.test(a)&&
x(h.parentNode)||h),b},F.sortStable=ja.split("").sort(fa).join("")===ja,F.detectDuplicates=!!S,Q(),F.sortDetached=k(function(a){return 1&a.compareDocumentPosition(R.createElement("div"))}),k(function(a){return a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e","#"===a.firstChild.getAttribute("href")})||n("type|href|height|width",function(a,h,b){return b?void 0:a.getAttribute(h,"type"===h.toLowerCase()?1:2)}),F.attributes&&k(function(a){return a.innerHTML="\x3cinput/\x3e",a.firstChild.setAttribute("value",
""),""===a.firstChild.getAttribute("value")})||n("value",function(a,h,b){return b||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),k(function(a){return null==a.getAttribute("disabled")})||n("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,h,b){var c;return b?void 0:!0===a[h]?h.toLowerCase():(c=a.getAttributeNode(h))&&c.specified?c.value:null}),h}(a);u.find=La;u.expr=La.selectors;u.expr[":"]=u.expr.pseudos;
u.unique=La.uniqueSort;u.text=La.getText;u.isXMLDoc=La.isXML;u.contains=La.contains;var ba=u.expr.match.needsContext,Fa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,la=/^.[^:#\[\.,]*$/;u.filter=function(a,h,b){var c=h[0];return b&&(a=":not("+a+")"),1===h.length&&1===c.nodeType?u.find.matchesSelector(c,a)?[c]:[]:u.find.matches(a,u.grep(h,function(a){return 1===a.nodeType}))};u.fn.extend({find:function(a){var h,b=[],c=this,k=c.length;if("string"!=typeof a)return this.pushStack(u(a).filter(function(){for(h=0;k>h;h++)if(u.contains(c[h],
this))return!0}));for(h=0;k>h;h++)u.find(a,c[h],b);return b=this.pushStack(1<k?u.unique(b):b),b.selector=this.selector?this.selector+" "+a:a,b},filter:function(a){return this.pushStack(k(this,a||[],!1))},not:function(a){return this.pushStack(k(this,a||[],!0))},is:function(a){return!!k(this,"string"==typeof a&&ba.test(a)?u(a):a||[],!1).length}});var W,M=a.document,va=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(u.fn.init=function(a,h){var b,c;if(!a)return this;if("string"==typeof a){if(b="\x3c"===a.charAt(0)&&
"\x3e"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:va.exec(a),!b||!b[1]&&h)return!h||h.jquery?(h||W).find(a):this.constructor(h).find(a);if(b[1]){if(h=h instanceof u?h[0]:h,u.merge(this,u.parseHTML(b[1],h&&h.nodeType?h.ownerDocument||h:M,!0)),Fa.test(b[1])&&u.isPlainObject(h))for(b in h)u.isFunction(this[b])?this[b](h[b]):this.attr(b,h[b]);return this}if(c=M.getElementById(b[2]),c&&c.parentNode){if(c.id!==b[2])return W.find(a);this.length=1;this[0]=c}return this.context=M,this.selector=a,this}return a.nodeType?
(this.context=this[0]=a,this.length=1,this):u.isFunction(a)?"undefined"!=typeof W.ready?W.ready(a):a(u):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),u.makeArray(a,this))}).prototype=u.fn;W=u(M);var oa=/^(?:parents|prev(?:Until|All))/,ca={children:!0,contents:!0,next:!0,prev:!0};u.extend({dir:function(a,h,b){var c=[];for(a=a[h];a&&9!==a.nodeType&&(void 0===b||1!==a.nodeType||!u(a).is(b));)1===a.nodeType&&c.push(a),a=a[h];return c},sibling:function(a,h){for(var b=[];a;a=a.nextSibling)1===
a.nodeType&&a!==h&&b.push(a);return b}});u.fn.extend({has:function(a){var h,b=u(a,this),c=b.length;return this.filter(function(){for(h=0;c>h;h++)if(u.contains(this,b[h]))return!0})},closest:function(a,h){for(var b,c=0,k=this.length,n=[],m=ba.test(a)||"string"!=typeof a?u(a,h||this.context):0;k>c;c++)for(b=this[c];b&&b!==h;b=b.parentNode)if(11>b.nodeType&&(m?-1<m.index(b):1===b.nodeType&&u.find.matchesSelector(b,a))){n.push(b);break}return this.pushStack(1<n.length?u.unique(n):n)},index:function(a){return a?
"string"==typeof a?u.inArray(this[0],u(a)):u.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,h){return this.pushStack(u.unique(u.merge(this.get(),u(a,h))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});u.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return u.dir(a,"parentNode")},parentsUntil:function(a,h,b){return u.dir(a,"parentNode",b)},next:function(a){return l(a,
"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return u.dir(a,"nextSibling")},prevAll:function(a){return u.dir(a,"previousSibling")},nextUntil:function(a,h,b){return u.dir(a,"nextSibling",b)},prevUntil:function(a,h,b){return u.dir(a,"previousSibling",b)},siblings:function(a){return u.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return u.sibling(a.firstChild)},contents:function(a){return u.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:
u.merge([],a.childNodes)}},function(a,h){u.fn[a]=function(b,c){var k=u.map(this,h,b);return"Until"!==a.slice(-5)&&(c=b),c&&"string"==typeof c&&(k=u.filter(c,k)),1<this.length&&(ca[a]||(k=u.unique(k)),oa.test(a)&&(k=k.reverse())),this.pushStack(k)}});var fa=/\S+/g,ya={};u.Callbacks=function(a){a="string"==typeof a?ya[a]||p(a):u.extend({},a);var h,b,c,k,n,m,r=[],t=!a.once&&[],l=function(y){b=a.memory&&y;c=!0;n=m||0;m=0;k=r.length;for(h=!0;r&&k>n;n++)if(!1===r[n].apply(y[0],y[1])&&a.stopOnFalse){b=!1;
break}h=!1;r&&(t?t.length&&l(t.shift()):b?r=[]:x.disable())},x={add:function(){if(r){var c=r.length;!function Jb(h){u.each(h,function(h,b){h=u.type(b);"function"===h?a.unique&&x.has(b)||r.push(b):b&&b.length&&"string"!==h&&Jb(b)})}(arguments);h?k=r.length:b&&(m=c,l(b))}return this},remove:function(){return r&&u.each(arguments,function(a,b){for(var c;-1<(c=u.inArray(b,r,c));)r.splice(c,1),h&&(k>=c&&k--,n>=c&&n--)}),this},has:function(a){return a?-1<u.inArray(a,r):!(!r||!r.length)},empty:function(){return r=
[],k=0,this},disable:function(){return r=t=b=void 0,this},disabled:function(){return!r},lock:function(){return t=void 0,b||x.disable(),this},locked:function(){return!t},fireWith:function(a,b){return!r||c&&!t||(b=b||[],b=[a,b.slice?b.slice():b],h?t.push(b):l(b)),this},fire:function(){return x.fireWith(this,arguments),this},fired:function(){return!!c}};return x};u.extend({Deferred:function(a){var h=[["resolve","done",u.Callbacks("once memory"),"resolved"],["reject","fail",u.Callbacks("once memory"),
"rejected"],["notify","progress",u.Callbacks("memory")]],b="pending",c={state:function(){return b},always:function(){return k.done(arguments).fail(arguments),this},then:function(){var a=arguments;return u.Deferred(function(b){u.each(h,function(h,n){var m=u.isFunction(a[h])&&a[h];k[n[1]](function(){var a=m&&m.apply(this,arguments);a&&u.isFunction(a.promise)?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[n[0]+"With"](this===c?b.promise():this,m?[a]:arguments)})});a=null}).promise()},
promise:function(a){return null!=a?u.extend(a,c):c}},k={};return c.pipe=c.then,u.each(h,function(a,n){var m=n[2],r=n[3];c[n[1]]=m.add;r&&m.add(function(){b=r},h[1^a][2].disable,h[2][2].lock);k[n[0]]=function(){return k[n[0]+"With"](this===k?c:this,arguments),this};k[n[0]+"With"]=m.fireWith}),c.promise(k),a&&a.call(k,k),k},when:function(a){var h=0,b=ka.call(arguments),c=b.length,k=1!==c||a&&u.isFunction(a.promise)?c:0,n=1===k?a:u.Deferred(),m=function(a,h,b){return function(c){h[a]=this;b[a]=1<arguments.length?
ka.call(arguments):c;b===r?n.notifyWith(h,b):--k||n.resolveWith(h,b)}},r,t,l;if(1<c)for(r=Array(c),t=Array(c),l=Array(c);c>h;h++)b[h]&&u.isFunction(b[h].promise)?b[h].promise().done(m(h,l,b)).fail(n.reject).progress(m(h,t,r)):--k;return k||n.resolveWith(l,b),n.promise()}});var wa;u.fn.ready=function(a){return u.ready.promise().done(a),this};u.extend({isReady:!1,readyWait:1,holdReady:function(a){a?u.readyWait++:u.ready(!0)},ready:function(a){if(!0===a?!--u.readyWait:!u.isReady){if(!M.body)return setTimeout(u.ready);
u.isReady=!0;!0!==a&&0<--u.readyWait||(wa.resolveWith(M,[u]),u.fn.triggerHandler&&(u(M).triggerHandler("ready"),u(M).off("ready")))}}});u.ready.promise=function(h){if(!wa)if(wa=u.Deferred(),"complete"===M.readyState)setTimeout(u.ready);else if(M.addEventListener)M.addEventListener("DOMContentLoaded",q,!1),a.addEventListener("load",q,!1);else{M.attachEvent("onreadystatechange",q);a.attachEvent("onload",q);var b=!1;try{b=null==a.frameElement&&M.documentElement}catch(c){}b&&b.doScroll&&!function Fb(){if(!u.isReady){try{b.doScroll("left")}catch(a){return setTimeout(Fb,
50)}m();u.ready()}}()}return wa.promise(h)};for(var Aa in u(P))break;P.ownLast="0"!==Aa;P.inlineBlockNeedsLayout=!1;u(function(){var a,h,b,c;(b=M.getElementsByTagName("body")[0])&&b.style&&(h=M.createElement("div"),c=M.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(h),"undefined"!==typeof h.style.zoom&&(h.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",P.inlineBlockNeedsLayout=a=3===h.offsetWidth,
a&&(b.style.zoom=1)),b.removeChild(c))});(function(){var a=M.createElement("div");if(null==P.deleteExpando){P.deleteExpando=!0;try{delete a.test}catch(h){P.deleteExpando=!1}}})();u.acceptData=function(a){var h=u.noData[(a.nodeName+" ").toLowerCase()],b=+a.nodeType||1;return 1!==b&&9!==b?!1:!h||!0!==h&&a.getAttribute("classid")===h};var ra=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ja=/([A-Z])/g;u.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=
a.nodeType?u.cache[a[u.expando]]:a[u.expando],!!a&&!n(a)},data:function(a,h,b){return t(a,h,b)},removeData:function(a,h){return y(a,h)},_data:function(a,h,b){return t(a,h,b,!0)},_removeData:function(a,h){return y(a,h,!0)}});u.fn.extend({data:function(a,b){var c,k,n,m=this[0],r=m&&m.attributes;if(void 0===a){if(this.length&&(n=u.data(m),1===m.nodeType&&!u._data(m,"parsedAttrs"))){for(c=r.length;c--;)r[c]&&(k=r[c].name,0===k.indexOf("data-")&&(k=u.camelCase(k.slice(5)),h(m,k,n[k])));u._data(m,"parsedAttrs",
!0)}return n}return"object"==typeof a?this.each(function(){u.data(this,a)}):1<arguments.length?this.each(function(){u.data(this,a,b)}):m?h(m,a,u.data(m,a)):void 0},removeData:function(a){return this.each(function(){u.removeData(this,a)})}});u.extend({queue:function(a,h,b){var c;return a?(h=(h||"fx")+"queue",c=u._data(a,h),b&&(!c||u.isArray(b)?c=u._data(a,h,u.makeArray(b)):c.push(b)),c||[]):void 0},dequeue:function(a,h){h=h||"fx";var b=u.queue(a,h),c=b.length,k=b.shift(),n=u._queueHooks(a,h),m=function(){u.dequeue(a,
h)};"inprogress"===k&&(k=b.shift(),c--);k&&("fx"===h&&b.unshift("inprogress"),delete n.stop,k.call(a,m,n));!c&&n&&n.empty.fire()},_queueHooks:function(a,h){var b=h+"queueHooks";return u._data(a,b)||u._data(a,b,{empty:u.Callbacks("once memory").add(function(){u._removeData(a,h+"queue");u._removeData(a,b)})})}});u.fn.extend({queue:function(a,h){var b=2;return"string"!=typeof a&&(h=a,a="fx",b--),arguments.length<b?u.queue(this[0],a):void 0===h?this:this.each(function(){var b=u.queue(this,a,h);u._queueHooks(this,
a);"fx"===a&&"inprogress"!==b[0]&&u.dequeue(this,a)})},dequeue:function(a){return this.each(function(){u.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,h){var b,c=1,k=u.Deferred(),n=this,m=this.length,r=function(){--c||k.resolveWith(n,[n])};"string"!=typeof a&&(h=a,a=void 0);for(a=a||"fx";m--;)(b=u._data(n[m],a+"queueHooks"))&&b.empty&&(c++,b.empty.add(r));return r(),k.promise(h)}});var Ga=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,za=["Top","Right",
"Bottom","Left"],ua=function(a,h){return a=h||a,"none"===u.css(a,"display")||!u.contains(a.ownerDocument,a)},xa=u.access=function(a,h,b,c,k,n,m){var r=0,t=a.length,l=null==b;if("object"===u.type(b))for(r in k=!0,b)u.access(a,h,r,b[r],!0,n,m);else if(void 0!==c&&(k=!0,u.isFunction(c)||(m=!0),l&&(m?(h.call(a,c),h=null):(l=h,h=function(a,h,b){return l.call(u(a),b)})),h))for(;t>r;r++)h(a[r],b,m?c:c.call(a[r],r,h(a[r],b)));return k?a:l?h.call(a):t?h(a[0],b):n},Na=/^(?:checkbox|radio)$/i;!function(){var a=
M.createElement("input"),h=M.createElement("div"),b=M.createDocumentFragment();if(h.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",P.leadingWhitespace=3===h.firstChild.nodeType,P.tbody=!h.getElementsByTagName("tbody").length,P.htmlSerialize=!!h.getElementsByTagName("link").length,P.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==M.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,b.appendChild(a),P.appendChecked=
a.checked,h.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e",P.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,b.appendChild(h),h.innerHTML="\x3cinput type\x3d'radio' checked\x3d'checked' name\x3d't'/\x3e",P.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,P.noCloneEvent=!0,h.attachEvent&&(h.attachEvent("onclick",function(){P.noCloneEvent=!1}),h.cloneNode(!0).click()),null==P.deleteExpando){P.deleteExpando=!0;try{delete h.test}catch(c){P.deleteExpando=!1}}}();(function(){var h,b,c=
M.createElement("div");for(h in{submit:!0,change:!0,focusin:!0})b="on"+h,(P[h+"Bubbles"]=b in a)||(c.setAttribute(b,"t"),P[h+"Bubbles"]=!1===c.attributes[b].expando)})();var bb=/^(?:input|select|textarea)$/i,Kb=/^key/,Lb=/^(?:mouse|pointer|contextmenu)|click/,nb=/^(?:focusinfocus|focusoutblur)$/,Sa=/^([^.]*)(?:\.(.+)|)$/;u.event={global:{},add:function(a,h,b,c,k){var n,m,r,t,l,x,y,p,q,w;if(r=u._data(a)){b.handler&&(t=b,b=t.handler,k=t.selector);b.guid||(b.guid=u.guid++);(m=r.events)||(m=r.events=
{});(x=r.handle)||(x=r.handle=function(a){return"undefined"===typeof u||a&&u.event.triggered===a.type?void 0:u.event.dispatch.apply(x.elem,arguments)},x.elem=a);h=(h||"").match(fa)||[""];for(r=h.length;r--;)n=Sa.exec(h[r])||[],q=w=n[1],n=(n[2]||"").split(".").sort(),q&&(l=u.event.special[q]||{},q=(k?l.delegateType:l.bindType)||q,l=u.event.special[q]||{},y=u.extend({type:q,origType:w,data:c,handler:b,guid:b.guid,selector:k,needsContext:k&&u.expr.match.needsContext.test(k),namespace:n.join(".")},t),
(p=m[q])||(p=m[q]=[],p.delegateCount=0,l.setup&&!1!==l.setup.call(a,c,n,x)||(a.addEventListener?a.addEventListener(q,x,!1):a.attachEvent&&a.attachEvent("on"+q,x))),l.add&&(l.add.call(a,y),y.handler.guid||(y.handler.guid=b.guid)),k?p.splice(p.delegateCount++,0,y):p.push(y),u.event.global[q]=!0);a=null}},remove:function(a,h,b,c,k){var n,m,r,t,l,x,y,p,q,w,C,z=u.hasData(a)&&u._data(a);if(z&&(x=z.events)){h=(h||"").match(fa)||[""];for(l=h.length;l--;)if(r=Sa.exec(h[l])||[],q=C=r[1],w=(r[2]||"").split(".").sort(),
q){y=u.event.special[q]||{};q=(c?y.delegateType:y.bindType)||q;p=x[q]||[];r=r[2]&&new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)");for(t=n=p.length;n--;)m=p[n],!k&&C!==m.origType||b&&b.guid!==m.guid||r&&!r.test(m.namespace)||c&&c!==m.selector&&("**"!==c||!m.selector)||(p.splice(n,1),m.selector&&p.delegateCount--,y.remove&&y.remove.call(a,m));t&&!p.length&&(y.teardown&&!1!==y.teardown.call(a,w,z.handle)||u.removeEvent(a,q,z.handle),delete x[q])}else for(q in x)u.event.remove(a,q+h[l],b,c,!0);
u.isEmptyObject(x)&&(delete z.handle,u._removeData(a,"events"))}},trigger:function(h,b,c,k){var n,m,r,t,l,x,y=[c||M],p=ea.call(h,"type")?h.type:h;x=ea.call(h,"namespace")?h.namespace.split("."):[];if(r=n=c=c||M,3!==c.nodeType&&8!==c.nodeType&&!nb.test(p+u.event.triggered)&&(0<=p.indexOf(".")&&(x=p.split("."),p=x.shift(),x.sort()),m=0>p.indexOf(":")&&"on"+p,h=h[u.expando]?h:new u.Event(p,"object"==typeof h&&h),h.isTrigger=k?2:3,h.namespace=x.join("."),h.namespace_re=h.namespace?new RegExp("(^|\\.)"+
x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h.result=void 0,h.target||(h.target=c),b=null==b?[h]:u.makeArray(b,[h]),l=u.event.special[p]||{},k||!l.trigger||!1!==l.trigger.apply(c,b))){if(!k&&!l.noBubble&&!u.isWindow(c)){t=l.delegateType||p;for(nb.test(t+p)||(r=r.parentNode);r;r=r.parentNode)y.push(r),n=r;n===(c.ownerDocument||M)&&y.push(n.defaultView||n.parentWindow||a)}for(x=0;(r=y[x++])&&!h.isPropagationStopped();)h.type=1<x?t:l.bindType||p,(n=(u._data(r,"events")||{})[h.type]&&u._data(r,"handle"))&&
n.apply(r,b),(n=m&&r[m])&&n.apply&&u.acceptData(r)&&(h.result=n.apply(r,b),!1===h.result&&h.preventDefault());if(h.type=p,!(k||h.isDefaultPrevented()||l._default&&!1!==l._default.apply(y.pop(),b))&&u.acceptData(c)&&m&&c[p]&&!u.isWindow(c)){(n=c[m])&&(c[m]=null);u.event.triggered=p;try{c[p]()}catch(q){}u.event.triggered=void 0;n&&(c[m]=n)}return h.result}},dispatch:function(a){a=u.event.fix(a);var h,b,c,k,n,m,r=ka.call(arguments);h=(u._data(this,"events")||{})[a.type]||[];var t=u.event.special[a.type]||
{};if(r[0]=a,a.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,a)){m=u.event.handlers.call(this,a,h);for(h=0;(k=m[h++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,n=0;(c=k.handlers[n++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(c.namespace)||(a.handleObj=c,a.data=c.data,b=((u.event.special[c.origType]||{}).handle||c.handler).apply(k.elem,r),void 0===b||!1!==(a.result=b)||(a.preventDefault(),a.stopPropagation()));return t.postDispatch&&
t.postDispatch.call(this,a),a.result}},handlers:function(a,h){var b,c,k,n,m=[],r=h.delegateCount,t=a.target;if(r&&t.nodeType&&(!a.button||"click"!==a.type))for(;t!=this;t=t.parentNode||this)if(1===t.nodeType&&(!0!==t.disabled||"click"!==a.type)){k=[];for(n=0;r>n;n++)c=h[n],b=c.selector+" ",void 0===k[b]&&(k[b]=c.needsContext?0<=u(b,this).index(t):u.find(b,this,null,[t]).length),k[b]&&k.push(c);k.length&&m.push({elem:t,handlers:k})}return r<h.length&&m.push({elem:this,handlers:h.slice(r)}),m},fix:function(a){if(a[u.expando])return a;
var h,b,c;h=a.type;var k=a,n=this.fixHooks[h];n||(this.fixHooks[h]=n=Lb.test(h)?this.mouseHooks:Kb.test(h)?this.keyHooks:{});c=n.props?this.props.concat(n.props):this.props;a=new u.Event(k);for(h=c.length;h--;)b=c[h],a[b]=k[b];return a.target||(a.target=k.srcElement||M),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,n.filter?n.filter(a,k):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,h){return null==a.which&&(a.which=null!=h.charCode?h.charCode:h.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,h){var b,c,k,n=h.button,m=h.fromElement;return null==a.pageX&&null!=h.clientX&&(c=a.target.ownerDocument||M,k=c.documentElement,b=c.body,a.pageX=h.clientX+(k&&k.scrollLeft||b&&b.scrollLeft||0)-(k&&
k.clientLeft||b&&b.clientLeft||0),a.pageY=h.clientY+(k&&k.scrollTop||b&&b.scrollTop||0)-(k&&k.clientTop||b&&b.clientTop||0)),!a.relatedTarget&&m&&(a.relatedTarget=m===a.target?h.toElement:m),a.which||void 0===n||(a.which=1&n?1:2&n?3:4&n?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==r()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===r()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return u.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return u.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,h,b,c){a=u.extend(new u.Event,b,{type:a,isSimulated:!0,originalEvent:{}});c?u.event.trigger(a,null,h):u.event.dispatch.call(h,a);a.isDefaultPrevented()&&b.preventDefault()}};u.removeEvent=M.removeEventListener?function(a,h,b){a.removeEventListener&&
a.removeEventListener(h,b,!1)}:function(a,h,b){h="on"+h;a.detachEvent&&("undefined"===typeof a[h]&&(a[h]=null),a.detachEvent(h,b))};u.Event=function(a,h){return this instanceof u.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?x:z):this.type=a,h&&u.extend(this,h),this.timeStamp=a&&a.timeStamp||u.now(),void(this[u.expando]=!0)):new u.Event(a,h)};u.Event.prototype={isDefaultPrevented:z,isPropagationStopped:z,
isImmediatePropagationStopped:z,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=x;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=x;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=x;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};u.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,h){u.event.special[a]={delegateType:h,bindType:h,handle:function(a){var b,c=a.relatedTarget,k=a.handleObj;return(!c||c!==this&&!u.contains(this,c))&&(a.type=k.origType,b=k.handler.apply(this,arguments),a.type=h),b}}});P.submitBubbles||(u.event.special.submit={setup:function(){return u.nodeName(this,"form")?!1:void u.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=u.nodeName(a,"input")||
u.nodeName(a,"button")?a.form:void 0)&&!u._data(a,"submitBubbles")&&(u.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),u._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&u.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return u.nodeName(this,"form")?!1:void u.event.remove(this,"._submit")}});P.changeBubbles||(u.event.special.change={setup:function(){return bb.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(u.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),u.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);u.event.simulate("change",this,a,!0)})),!1):void u.event.add(this,"beforeactivate._change",function(a){a=a.target;bb.test(a.nodeName)&&!u._data(a,"changeBubbles")&&(u.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||
u.event.simulate("change",this.parentNode,a,!0)}),u._data(a,"changeBubbles",!0))})},handle:function(a){var h=a.target;return this!==h||a.isSimulated||a.isTrigger||"radio"!==h.type&&"checkbox"!==h.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return u.event.remove(this,"._change"),!bb.test(this.nodeName)}});P.focusinBubbles||u.each({focus:"focusin",blur:"focusout"},function(a,h){var b=function(a){u.event.simulate(h,a.target,u.event.fix(a),!0)};u.event.special[h]={setup:function(){var c=
this.ownerDocument||this,k=u._data(c,h);k||c.addEventListener(a,b,!0);u._data(c,h,(k||0)+1)},teardown:function(){var c=this.ownerDocument||this,k=u._data(c,h)-1;k?u._data(c,h,k):(c.removeEventListener(a,b,!0),u._removeData(c,h))}}});u.fn.extend({on:function(a,h,b,c,k){var n,m;if("object"==typeof a){"string"!=typeof h&&(b=b||h,h=void 0);for(n in a)this.on(n,h,b,a[n],k);return this}if(null==b&&null==c?(c=h,b=h=void 0):null==c&&("string"==typeof h?(c=b,b=void 0):(c=b,b=h,h=void 0)),!1===c)c=z;else if(!c)return this;
return 1===k&&(m=c,c=function(a){return u().off(a),m.apply(this,arguments)},c.guid=m.guid||(m.guid=u.guid++)),this.each(function(){u.event.add(this,a,c,b,h)})},one:function(a,h,b,c){return this.on(a,h,b,c,1)},off:function(a,h,b){var c,k;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,u(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(k in a)this.off(k,h,a[k]);return this}return(!1===h||"function"==typeof h)&&(b=
h,h=void 0),!1===b&&(b=z),this.each(function(){u.event.remove(this,a,b,h)})},trigger:function(a,h){return this.each(function(){u.event.trigger(a,h,this)})},triggerHandler:function(a,h){var b=this[0];return b?u.event.trigger(a,h,b,!0):void 0}});var kb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Mb=/ jQuery\d+="(?:null|\d+)"/g,ob=new RegExp("\x3c(?:"+kb+")[\\s/\x3e]","i"),cb=/^\s+/,pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
qb=/<([\w:]+)/,rb=/<tbody/i,Nb=/<|&#?\w+;/,Ob=/<(?:script|style|link)/i,Pb=/checked\s*(?:[^=]|=\s*.checked.)/i,sb=/^$|\/(?:java|ecma)script/i,Gb=/^true\/(.*)/,Qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sa={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],
col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:P.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]},db=C(M).appendChild(M.createElement("div"));sa.optgroup=sa.option;sa.tbody=sa.tfoot=sa.colgroup=sa.caption=sa.thead;sa.th=sa.td;u.extend({clone:function(a,h,b){var c,k,n,m,r,t=u.contains(a.ownerDocument,a);if(P.html5Clone||u.isXMLDoc(a)||!ob.test("\x3c"+
a.nodeName+"\x3e")?n=a.cloneNode(!0):(db.innerHTML=a.outerHTML,db.removeChild(n=db.firstChild)),!(P.noCloneEvent&&P.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||u.isXMLDoc(a)))for(c=A(n),r=A(a),m=0;null!=(k=r[m]);++m)if(c[m]){var l=c[m],x,y=void 0,p;if(1===l.nodeType){if(x=l.nodeName.toLowerCase(),!P.noCloneEvent&&l[u.expando]){p=u._data(l);for(y in p.events)u.removeEvent(l,y,p.handle);l.removeAttribute(u.expando)}"script"===x&&l.text!==k.text?(E(l).text=k.text,D(l)):"object"===x?(l.parentNode&&
(l.outerHTML=k.outerHTML),P.html5Clone&&k.innerHTML&&!u.trim(l.innerHTML)&&(l.innerHTML=k.innerHTML)):"input"===x&&Na.test(k.type)?(l.defaultChecked=l.checked=k.checked,l.value!==k.value&&(l.value=k.value)):"option"===x?l.defaultSelected=l.selected=k.defaultSelected:("input"===x||"textarea"===x)&&(l.defaultValue=k.defaultValue)}}if(h)if(b)for(r=r||A(a),c=c||A(n),m=0;null!=(k=r[m]);m++)H(k,c[m]);else H(a,n);return c=A(n,"script"),0<c.length&&F(c,!t&&A(a,"script")),n},buildFragment:function(a,h,b,c){for(var k,
n,m,r,t,l,x,y=a.length,p=C(h),q=[],z=0;y>z;z++)if(n=a[z],n||0===n)if("object"===u.type(n))u.merge(q,n.nodeType?[n]:n);else if(Nb.test(n)){r=r||p.appendChild(h.createElement("div"));t=(qb.exec(n)||["",""])[1].toLowerCase();x=sa[t]||sa._default;r.innerHTML=x[1]+n.replace(pb,"\x3c$1\x3e\x3c/$2\x3e")+x[2];for(k=x[0];k--;)r=r.lastChild;if(!P.leadingWhitespace&&cb.test(n)&&q.push(h.createTextNode(cb.exec(n)[0])),!P.tbody)for(k=(n="table"!==t||rb.test(n)?"\x3ctable\x3e"!==x[1]||rb.test(n)?0:r:r.firstChild)&&
n.childNodes.length;k--;)u.nodeName(l=n.childNodes[k],"tbody")&&!l.childNodes.length&&n.removeChild(l);u.merge(q,r.childNodes);for(r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=p.lastChild}else q.push(h.createTextNode(n));r&&p.removeChild(r);P.appendChecked||u.grep(A(q,"input"),w);for(z=0;n=q[z++];)if((!c||-1===u.inArray(n,c))&&(m=u.contains(n.ownerDocument,n),r=A(p.appendChild(n),"script"),m&&F(r),b))for(k=0;n=r[k++];)sb.test(n.type||"")&&b.push(n);return p},cleanData:function(a,h){for(var b,
c,k,n,m=0,r=u.expando,t=u.cache,l=P.deleteExpando,x=u.event.special;null!=(b=a[m]);m++)if((h||u.acceptData(b))&&(k=b[r],n=k&&t[k])){if(n.events)for(c in n.events)x[c]?u.event.remove(b,c):u.removeEvent(b,c,n.handle);t[k]&&(delete t[k],l?delete b[r]:"undefined"!==typeof b.removeAttribute?b.removeAttribute(r):b[r]=null,ga.push(k))}}});u.fn.extend({text:function(a){return xa(this,function(a){return void 0===a?u.text(this):this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(a))},null,
a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||B(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var h=B(this,a);h.insertBefore(a,h.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,h){for(var b=a?u.filter(a,this):this,c=0;null!=(a=b[c]);c++)h||1!==a.nodeType||u.cleanData(A(a)),a.parentNode&&(h&&u.contains(a.ownerDocument,a)&&F(A(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var a,h=0;null!=(a=this[h]);h++){for(1===a.nodeType&&u.cleanData(A(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&u.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,h){return a=null==a?!1:a,h=null==h?a:h,this.map(function(){return u.clone(this,a,h)})},html:function(a){return xa(this,function(a){var h=this[0]||{},b=0,c=this.length;if(void 0===a)return 1===h.nodeType?h.innerHTML.replace(Mb,""):void 0;if(!("string"!=typeof a||Ob.test(a)||!P.htmlSerialize&&ob.test(a)||!P.leadingWhitespace&&cb.test(a)||sa[(qb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(pb,"\x3c$1\x3e\x3c/$2\x3e");try{for(;c>b;b++)h=this[b]||{},1===h.nodeType&&(u.cleanData(A(h,
!1)),h.innerHTML=a);h=0}catch(k){}}h&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(h){a=this.parentNode;u.cleanData(A(this));a&&a.replaceChild(h,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,h){a=ma.apply([],a);var b,c,k,n,m=0,r=this.length,t=this,l=r-1,x=a[0],y=u.isFunction(x);if(y||1<r&&"string"==typeof x&&!P.checkClone&&Pb.test(x))return this.each(function(b){var c=
t.eq(b);y&&(a[0]=x.call(this,b,c.html()));c.domManip(a,h)});if(r&&(n=u.buildFragment(a,this[0].ownerDocument,!1,this),b=n.firstChild,1===n.childNodes.length&&(n=b),b)){k=u.map(A(n,"script"),E);for(c=k.length;r>m;m++)b=n,m!==l&&(b=u.clone(b,!0,!0),c&&u.merge(k,A(b,"script"))),h.call(this[m],b,m);if(c)for(n=k[k.length-1].ownerDocument,u.map(k,D),m=0;c>m;m++)b=k[m],sb.test(b.type||"")&&!u._data(b,"globalEval")&&u.contains(n,b)&&(b.src?u._evalUrl&&u._evalUrl(b.src):u.globalEval((b.text||b.textContent||
b.innerHTML||"").replace(Qb,"")));n=b=null}return this}});u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,h){u.fn[a]=function(a){for(var b=0,c=[],k=u(a),n=k.length-1;n>=b;b++)a=b===n?this:this.clone(!0),u(k[b])[h](a),pa.apply(c,a.get());return this.pushStack(c)}});var Oa,lb={};!function(){var a;P.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var h,b,c;return b=M.getElementsByTagName("body")[0],b&&b.style?(h=M.createElement("div"),
c=M.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(h),"undefined"!==typeof h.style.zoom&&(h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",h.appendChild(M.createElement("div")).style.width="5px",a=3!==h.offsetWidth),b.removeChild(c),a):void 0}}();var tb=/^margin/,Qa=new RegExp("^("+Ga+")(?!px)[a-z%]+$","i"),
Da,Ea,Rb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Da=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Ea=function(a,h,b){var c,k,n,m,r=a.style;return b=b||Da(a),m=b?b.getPropertyValue(h)||b[h]:void 0,b&&(""!==m||u.contains(a.ownerDocument,a)||(m=u.style(a,h)),Qa.test(m)&&tb.test(h)&&(c=r.width,k=r.minWidth,n=r.maxWidth,r.minWidth=r.maxWidth=r.width=m,m=b.width,r.width=c,r.minWidth=k,r.maxWidth=n)),void 0===m?m:m+""}):M.documentElement.currentStyle&&(Da=function(a){return a.currentStyle},
Ea=function(a,h,b){var c,k,n,m,r=a.style;return b=b||Da(a),m=b?b[h]:void 0,null==m&&r&&r[h]&&(m=r[h]),Qa.test(m)&&!Rb.test(h)&&(c=r.left,k=a.runtimeStyle,n=k&&k.left,n&&(k.left=a.currentStyle.left),r.left="fontSize"===h?"1em":m,m=r.pixelLeft+"px",r.left=c,n&&(k.left=n)),void 0===m?m:m+""||"auto"});!function(){var h,b,c,k,n,m,r;if(h=M.createElement("div"),h.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",c=h.getElementsByTagName("a")[0],
b=c&&c.style){var t=function(){var h,b,c,t;(b=M.getElementsByTagName("body")[0])&&b.style&&(h=M.createElement("div"),c=M.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(h),h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",k=n=!1,r=!0,a.getComputedStyle&&(k="1%"!==(a.getComputedStyle(h,
null)||{}).top,n="4px"===(a.getComputedStyle(h,null)||{width:"4px"}).width,t=h.appendChild(M.createElement("div")),t.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",h.style.width="1px",r=!parseFloat((a.getComputedStyle(t,null)||{}).marginRight)),h.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",t=h.getElementsByTagName("td"),
t[0].style.cssText="margin:0;border:0;padding:0;display:none",m=0===t[0].offsetHeight,m&&(t[0].style.display="",t[1].style.display="none",m=0===t[0].offsetHeight),b.removeChild(c))};b.cssText="float:left;opacity:.5";P.opacity="0.5"===b.opacity;P.cssFloat=!!b.cssFloat;h.style.backgroundClip="content-box";h.cloneNode(!0).style.backgroundClip="";P.clearCloneStyle="content-box"===h.style.backgroundClip;P.boxSizing=""===b.boxSizing||""===b.MozBoxSizing||""===b.WebkitBoxSizing;u.extend(P,{reliableHiddenOffsets:function(){return null==
m&&t(),m},boxSizingReliable:function(){return null==n&&t(),n},pixelPosition:function(){return null==k&&t(),k},reliableMarginRight:function(){return null==r&&t(),r}})}}();u.swap=function(a,h,b,c){var k,n={};for(k in h)n[k]=a.style[k],a.style[k]=h[k];b=b.apply(a,c||[]);for(k in h)a.style[k]=n[k];return b};var eb=/alpha\([^)]*\)/i,Sb=/opacity\s*=\s*([^)]*)/,Tb=/^(none|table(?!-c[ea]).+)/,Hb=new RegExp("^("+Ga+")(.*)$","i"),Ub=new RegExp("^([+-])\x3d("+Ga+")","i"),Vb={position:"absolute",visibility:"hidden",
display:"block"},ub={letterSpacing:"0",fontWeight:"400"},mb=["Webkit","O","Moz","ms"];u.extend({cssHooks:{opacity:{get:function(a,h){if(h)return a=Ea(a,"opacity"),""===a?"1":a}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":P.cssFloat?"cssFloat":"styleFloat"},style:function(a,h,b,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var k,n,m,r=u.camelCase(h),t=a.style;if(h=
u.cssProps[r]||(u.cssProps[r]=N(t,r)),m=u.cssHooks[h]||u.cssHooks[r],void 0===b)return m&&"get"in m&&void 0!==(k=m.get(a,!1,c))?k:t[h];if(n=typeof b,"string"===n&&(k=Ub.exec(b))&&(b=(k[1]+1)*k[2]+parseFloat(u.css(a,h)),n="number"),null!=b&&b===b&&("number"!==n||u.cssNumber[r]||(b+="px"),P.clearCloneStyle||""!==b||0!==h.indexOf("background")||(t[h]="inherit"),!(m&&"set"in m&&void 0===(b=m.set(a,b,c)))))try{t[h]=b}catch(l){}}},css:function(a,h,b,c){var k,n,m,r=u.camelCase(h);return h=u.cssProps[r]||
(u.cssProps[r]=N(a.style,r)),m=u.cssHooks[h]||u.cssHooks[r],m&&"get"in m&&(n=m.get(a,!0,b)),void 0===n&&(n=Ea(a,h,c)),"normal"===n&&h in ub&&(n=ub[h]),""===b||b?(k=parseFloat(n),!0===b||u.isNumeric(k)?k||0:n):n}});u.each(["height","width"],function(a,h){u.cssHooks[h]={get:function(a,b,c){return b?Tb.test(u.css(a,"display"))&&0===a.offsetWidth?u.swap(a,Vb,function(){return V(a,h,c)}):V(a,h,c):void 0},set:function(a,b,c){var k=c&&Da(a);return J(a,b,c?Y(a,h,c,P.boxSizing&&"border-box"===u.css(a,"boxSizing",
!1,k),k):0)}}});P.opacity||(u.cssHooks.opacity={get:function(a,h){return Sb.test((h&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":h?"1":""},set:function(a,h){var b=a.style;a=a.currentStyle;var c=u.isNumeric(h)?"alpha(opacity\x3d"+100*h+")":"",k=a&&a.filter||b.filter||"";b.zoom=1;(1<=h||""===h)&&""===u.trim(k.replace(eb,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===h||a&&!a.filter)||(b.filter=eb.test(k)?k.replace(eb,c):k+" "+c)}});u.cssHooks.marginRight=
I(P.reliableMarginRight,function(a,h){return h?u.swap(a,{display:"inline-block"},Ea,[a,"marginRight"]):void 0});u.each({margin:"",padding:"",border:"Width"},function(a,h){u.cssHooks[a+h]={expand:function(b){var c=0,k={};for(b="string"==typeof b?b.split(" "):[b];4>c;c++)k[a+za[c]+h]=b[c]||b[c-2]||b[0];return k}};tb.test(a)||(u.cssHooks[a+h].set=J)});u.fn.extend({css:function(a,h){return xa(this,function(a,h,b){var c,k={},n=0;if(u.isArray(h)){b=Da(a);for(c=h.length;c>n;n++)k[h[n]]=u.css(a,h[n],!1,b);
return k}return void 0!==b?u.style(a,h,b):u.css(a,h)},a,h,1<arguments.length)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ua(this)?u(this).show():u(this).hide()})}});u.Tween=S;S.prototype={constructor:S,init:function(a,h,b,c,k,n){this.elem=a;this.prop=b;this.easing=k||"swing";this.options=h;this.start=this.now=this.cur();this.end=c;this.unit=n||(u.cssNumber[b]?"":"px")},cur:function(){var a=
S.propHooks[this.prop];return a&&a.get?a.get(this):S.propHooks._default.get(this)},run:function(a){var h,b=S.propHooks[this.prop];return this.pos=h=this.options.duration?u.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):S.propHooks._default.set(this),this}};S.prototype.init.prototype=S.prototype;S.propHooks={_default:{get:function(a){var h;
return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(h=u.css(a.elem,a.prop,""),h&&"auto"!==h?h:0):a.elem[a.prop]},set:function(a){u.fx.step[a.prop]?u.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[u.cssProps[a.prop]]||u.cssHooks[a.prop])?u.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};u.easing={linear:function(a){return a},swing:function(a){return.5-
Math.cos(a*Math.PI)/2}};u.fx=S.prototype.init;u.fx.step={};var Ka,Ta,Wb=/^(?:toggle|show|hide)$/,vb=new RegExp("^(?:([+-])\x3d|)("+Ga+")([a-z%]*)$","i"),Xb=/queueHooks$/,Ra=[function(a,h,b){var c,k,n,m,r,t,l,x=this,y={},p=a.style,q=a.nodeType&&ua(a),w=u._data(a,"fxshow");b.queue||(m=u._queueHooks(a,"fx"),null==m.unqueued&&(m.unqueued=0,r=m.empty.fire,m.empty.fire=function(){m.unqueued||r()}),m.unqueued++,x.always(function(){x.always(function(){m.unqueued--;u.queue(a,"fx").length||m.empty.fire()})}));
1===a.nodeType&&("height"in h||"width"in h)&&(b.overflow=[p.overflow,p.overflowX,p.overflowY],t=u.css(a,"display"),l="none"===t?u._data(a,"olddisplay")||L(a.nodeName):t,"inline"===l&&"none"===u.css(a,"float")&&(P.inlineBlockNeedsLayout&&"inline"!==L(a.nodeName)?p.zoom=1:p.display="inline-block"));b.overflow&&(p.overflow="hidden",P.shrinkWrapBlocks()||x.always(function(){p.overflow=b.overflow[0];p.overflowX=b.overflow[1];p.overflowY=b.overflow[2]}));for(c in h)if(k=h[c],Wb.exec(k)){if(delete h[c],
n=n||"toggle"===k,k===(q?"hide":"show")){if("show"!==k||!w||void 0===w[c])continue;q=!0}y[c]=w&&w[c]||u.style(a,c)}else t=void 0;if(u.isEmptyObject(y))"inline"===("none"===t?L(a.nodeName):t)&&(p.display=t);else for(c in w?"hidden"in w&&(q=w.hidden):w=u._data(a,"fxshow",{}),n&&(w.hidden=!q),q?u(a).show():x.done(function(){u(a).hide()}),x.done(function(){var h;u._removeData(a,"fxshow");for(h in y)u.style(a,h,y[h])}),y)h=R(q?w[c]:0,c,x),c in w||(w[c]=h.start,q&&(h.end=h.start,h.start="width"===c||"height"===
c?1:0))}],Pa={"*":[function(a,h){var b=this.createTween(a,h),c=b.cur(),k=(h=vb.exec(h))&&h[3]||(u.cssNumber[a]?"":"px"),n=(u.cssNumber[a]||"px"!==k&&+c)&&vb.exec(u.css(b.elem,a)),m=1,r=20;if(n&&n[3]!==k){k=k||n[3];h=h||[];n=+c||1;do m=m||".5",n/=m,u.style(b.elem,a,n+k);while(m!==(m=b.cur()/c)&&1!==m&&--r)}return h&&(n=b.start=+n||+c||0,b.unit=k,b.end=h[1]?n+(h[1]+1)*h[2]:+h[2]),b}]};u.Animation=u.extend(Z,{tweener:function(a,h){u.isFunction(a)?(h=a,a=["*"]):a=a.split(" ");for(var b,c=0,k=a.length;k>
c;c++)b=a[c],Pa[b]=Pa[b]||[],Pa[b].unshift(h)},prefilter:function(a,h){h?Ra.unshift(a):Ra.push(a)}});u.speed=function(a,h,b){var c=a&&"object"==typeof a?u.extend({},a):{complete:b||!b&&h||u.isFunction(a)&&a,duration:a,easing:b&&h||h&&!u.isFunction(h)&&h};return c.duration=u.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in u.fx.speeds?u.fx.speeds[c.duration]:u.fx.speeds._default,(null==c.queue||!0===c.queue)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){u.isFunction(c.old)&&c.old.call(this);
c.queue&&u.dequeue(this,c.queue)},c};u.fn.extend({fadeTo:function(a,h,b,c){return this.filter(ua).css("opacity",0).show().end().animate({opacity:h},a,b,c)},animate:function(a,h,b,c){var k=u.isEmptyObject(a),n=u.speed(h,b,c);h=function(){var h=Z(this,u.extend({},a),n);(k||u._data(this,"finish"))&&h.stop(!0)};return h.finish=h,k||!1===n.queue?this.each(h):this.queue(n.queue,h)},stop:function(a,h,b){var c=function(a){var h=a.stop;delete a.stop;h(b)};return"string"!=typeof a&&(b=h,h=a,a=void 0),h&&!1!==
a&&this.queue(a||"fx",[]),this.each(function(){var h=!0,k=null!=a&&a+"queueHooks",n=u.timers,m=u._data(this);if(k)m[k]&&m[k].stop&&c(m[k]);else for(k in m)m[k]&&m[k].stop&&Xb.test(k)&&c(m[k]);for(k=n.length;k--;)n[k].elem!==this||null!=a&&n[k].queue!==a||(n[k].anim.stop(b),h=!1,n.splice(k,1));!h&&b||u.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var h,b=u._data(this),c=b[a+"queue"];h=b[a+"queueHooks"];var k=u.timers,n=c?c.length:0;b.finish=!0;u.queue(this,a,
[]);h&&h.stop&&h.stop.call(this,!0);for(h=k.length;h--;)k[h].elem===this&&k[h].queue===a&&(k[h].anim.stop(!0),k.splice(h,1));for(h=0;n>h;h++)c[h]&&c[h].finish&&c[h].finish.call(this);delete b.finish})}});u.each(["toggle","show","hide"],function(a,h){var b=u.fn[h];u.fn[h]=function(a,c,k){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(T(h,!0),a,c,k)}});u.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,h){u.fn[a]=function(a,b,c){return this.animate(h,a,b,c)}});u.timers=[];u.fx.tick=function(){var a,h=u.timers,b=0;for(Ka=u.now();b<h.length;b++)a=h[b],a()||h[b]!==a||h.splice(b--,1);h.length||u.fx.stop();Ka=void 0};u.fx.timer=function(a){u.timers.push(a);a()?u.fx.start():u.timers.pop()};u.fx.interval=13;u.fx.start=function(){Ta||(Ta=setInterval(u.fx.tick,u.fx.interval))};u.fx.stop=function(){clearInterval(Ta);Ta=null};u.fx.speeds={slow:600,fast:200,_default:400};u.fn.delay=function(a,h){return a=
u.fx?u.fx.speeds[a]||a:a,h=h||"fx",this.queue(h,function(h,b){var c=setTimeout(h,a);b.stop=function(){clearTimeout(c)}})};(function(){var a,h,b,c,k;h=M.createElement("div");h.setAttribute("className","t");h.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";c=h.getElementsByTagName("a")[0];b=M.createElement("select");k=b.appendChild(M.createElement("option"));a=h.getElementsByTagName("input")[0];c.style.cssText="top:1px";P.getSetAttribute=
"t"!==h.className;P.style=/top/.test(c.getAttribute("style"));P.hrefNormalized="/a"===c.getAttribute("href");P.checkOn=!!a.value;P.optSelected=k.selected;P.enctype=!!M.createElement("form").enctype;b.disabled=!0;P.optDisabled=!k.disabled;a=M.createElement("input");a.setAttribute("value","");P.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");P.radioValue="t"===a.value})();var Yb=/\r/g;u.fn.extend({val:function(a){var h,b,c,k=this[0];if(arguments.length)return c=u.isFunction(a),
this.each(function(b){var k;1===this.nodeType&&(k=c?a.call(this,b,u(this).val()):a,null==k?k="":"number"==typeof k?k+="":u.isArray(k)&&(k=u.map(k,function(a){return null==a?"":a+""})),h=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()],h&&"set"in h&&void 0!==h.set(this,k,"value")||(this.value=k))});if(k)return h=u.valHooks[k.type]||u.valHooks[k.nodeName.toLowerCase()],h&&"get"in h&&void 0!==(b=h.get(k,"value"))?b:(b=k.value,"string"==typeof b?b.replace(Yb,""):null==b?"":b)}});u.extend({valHooks:{option:{get:function(a){var h=
u.find.attr(a,"value");return null!=h?h:u.trim(u.text(a))}},select:{get:function(a){for(var h,b=a.options,c=a.selectedIndex,k="select-one"===a.type||0>c,n=k?null:[],m=k?c+1:b.length,r=0>c?m:k?c:0;m>r;r++)if(h=b[r],!(!h.selected&&r!==c||(P.optDisabled?h.disabled:null!==h.getAttribute("disabled"))||h.parentNode.disabled&&u.nodeName(h.parentNode,"optgroup"))){if(a=u(h).val(),k)return a;n.push(a)}return n},set:function(a,h){var b,c,k=a.options;h=u.makeArray(h);for(var n=k.length;n--;)if(c=k[n],0<=u.inArray(u.valHooks.option.get(c),
h))try{c.selected=b=!0}catch(m){c.scrollHeight}else c.selected=!1;return b||(a.selectedIndex=-1),k}}}});u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(a,h){return u.isArray(h)?a.checked=0<=u.inArray(u(a).val(),h):void 0}};P.checkOn||(u.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Ma,wb,Ba=u.expr.attrHandle,fb=/^(?:checked|selected)$/i,Ha=P.getSetAttribute,Ua=P.input;u.fn.extend({attr:function(a,h){return xa(this,u.attr,a,h,1<arguments.length)},
removeAttr:function(a){return this.each(function(){u.removeAttr(this,a)})}});u.extend({attr:function(a,h,b){var c,k,n=a.nodeType;if(a&&3!==n&&8!==n&&2!==n)return"undefined"===typeof a.getAttribute?u.prop(a,h,b):(1===n&&u.isXMLDoc(a)||(h=h.toLowerCase(),c=u.attrHooks[h]||(u.expr.match.bool.test(h)?wb:Ma)),void 0===b?c&&"get"in c&&null!==(k=c.get(a,h))?k:(k=u.find.attr(a,h),null==k?void 0:k):null!==b?c&&"set"in c&&void 0!==(k=c.set(a,b,h))?k:(a.setAttribute(h,b+""),b):void u.removeAttr(a,h))},removeAttr:function(a,
h){var b,c=0,k=h&&h.match(fa);if(k&&1===a.nodeType)for(;h=k[c++];)b=u.propFix[h]||h,u.expr.match.bool.test(h)?Ua&&Ha||!fb.test(h)?a[b]=!1:a[u.camelCase("default-"+h)]=a[b]=!1:u.attr(a,h,""),a.removeAttribute(Ha?h:b)},attrHooks:{type:{set:function(a,h){if(!P.radioValue&&"radio"===h&&u.nodeName(a,"input")){var b=a.value;return a.setAttribute("type",h),b&&(a.value=b),h}}}}});wb={set:function(a,h,b){return!1===h?u.removeAttr(a,b):Ua&&Ha||!fb.test(b)?a.setAttribute(!Ha&&u.propFix[b]||b,b):a[u.camelCase("default-"+
b)]=a[b]=!0,b}};u.each(u.expr.match.bool.source.match(/\w+/g),function(a,h){var b=Ba[h]||u.find.attr;Ba[h]=Ua&&Ha||!fb.test(h)?function(a,h,c){var k,n;return c||(n=Ba[h],Ba[h]=k,k=null!=b(a,h,c)?h.toLowerCase():null,Ba[h]=n),k}:function(a,h,b){return b?void 0:a[u.camelCase("default-"+h)]?h.toLowerCase():null}});Ua&&Ha||(u.attrHooks.value={set:function(a,h,b){return u.nodeName(a,"input")?void(a.defaultValue=h):Ma&&Ma.set(a,h,b)}});Ha||(Ma={set:function(a,h,b){var c=a.getAttributeNode(b);return c||
a.setAttributeNode(c=a.ownerDocument.createAttribute(b)),c.value=h+="","value"===b||h===a.getAttribute(b)?h:void 0}},Ba.id=Ba.name=Ba.coords=function(a,h,b){var c;return b?void 0:(c=a.getAttributeNode(h))&&""!==c.value?c.value:null},u.valHooks.button={get:function(a,h){return(a=a.getAttributeNode(h))&&a.specified?a.value:void 0},set:Ma.set},u.attrHooks.contenteditable={set:function(a,h,b){Ma.set(a,""===h?!1:h,b)}},u.each(["width","height"],function(a,h){u.attrHooks[h]={set:function(a,b){return""===
b?(a.setAttribute(h,"auto"),b):void 0}}}));P.style||(u.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,h){return a.style.cssText=h+""}});var Zb=/^(?:input|select|textarea|button|object)$/i,$b=/^(?:a|area)$/i;u.fn.extend({prop:function(a,h){return xa(this,u.prop,a,h,1<arguments.length)},removeProp:function(a){return a=u.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(h){}})}});u.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,
h,b){var c,k,n,m=a.nodeType;if(a&&3!==m&&8!==m&&2!==m)return n=1!==m||!u.isXMLDoc(a),n&&(h=u.propFix[h]||h,k=u.propHooks[h]),void 0!==b?k&&"set"in k&&void 0!==(c=k.set(a,b,h))?c:a[h]=b:k&&"get"in k&&null!==(c=k.get(a,h))?c:a[h]},propHooks:{tabIndex:{get:function(a){var h=u.find.attr(a,"tabindex");return h?parseInt(h,10):Zb.test(a.nodeName)||$b.test(a.nodeName)&&a.href?0:-1}}}});P.hrefNormalized||u.each(["href","src"],function(a,h){u.propHooks[h]={get:function(a){return a.getAttribute(h,4)}}});P.optSelected||
(u.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});u.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){u.propFix[this.toLowerCase()]=this});P.enctype||(u.propFix.enctype="encoding");var gb=/[\t\r\n\f]/g;u.fn.extend({addClass:function(a){var h,b,c,k,n,m=0,r=this.length;h="string"==typeof a&&a;if(u.isFunction(a))return this.each(function(h){u(this).addClass(a.call(this,
h,this.className))});if(h)for(h=(a||"").match(fa)||[];r>m;m++)if(b=this[m],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(gb," "):" ")){for(n=0;k=h[n++];)0>c.indexOf(" "+k+" ")&&(c+=k+" ");c=u.trim(c);b.className!==c&&(b.className=c)}return this},removeClass:function(a){var h,b,c,k,n,m=0,r=this.length;h=0===arguments.length||"string"==typeof a&&a;if(u.isFunction(a))return this.each(function(h){u(this).removeClass(a.call(this,h,this.className))});if(h)for(h=(a||"").match(fa)||[];r>m;m++)if(b=
this[m],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(gb," "):"")){for(n=0;k=h[n++];)for(;0<=c.indexOf(" "+k+" ");)c=c.replace(" "+k+" "," ");c=a?u.trim(c):"";b.className!==c&&(b.className=c)}return this},toggleClass:function(a,h){var b=typeof a;return"boolean"==typeof h&&"string"===b?h?this.addClass(a):this.removeClass(a):this.each(u.isFunction(a)?function(b){u(this).toggleClass(a.call(this,b,this.className,h),h)}:function(){if("string"===b)for(var h,c=0,k=u(this),n=a.match(fa)||[];h=
n[c++];)k.hasClass(h)?k.removeClass(h):k.addClass(h);else("undefined"===b||"boolean"===b)&&(this.className&&u._data(this,"__className__",this.className),this.className=this.className||!1===a?"":u._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var h=0,b=this.length;b>h;h++)if(1===this[h].nodeType&&0<=(" "+this[h].className+" ").replace(gb," ").indexOf(a))return!0;return!1}});u.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,h){u.fn[h]=function(a,b){return 0<arguments.length?this.on(h,null,a,b):this.trigger(h)}});u.fn.extend({hover:function(a,h){return this.mouseenter(a).mouseleave(h||a)},bind:function(a,h,b){return this.on(a,null,h,b)},unbind:function(a,h){return this.off(a,null,h)},delegate:function(a,h,b,c){return this.on(h,a,b,c)},undelegate:function(a,h,b){return 1===arguments.length?this.off(a,"**"):this.off(h,a||"**",b)}});var hb=u.now(),ib=/\?/,ac=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
u.parseJSON=function(h){if(a.JSON&&a.JSON.parse)return a.JSON.parse(h+"");var b,c=null,k=u.trim(h+"");return k&&!u.trim(k.replace(ac,function(a,h,k,n){return b&&h&&(c=0),0===c?a:(b=k||h,c+=!n-!k,"")}))?Function("return "+k)():u.error("Invalid JSON: "+h)};u.parseXML=function(h){var b,c;if(!h||"string"!=typeof h)return null;try{a.DOMParser?(c=new DOMParser,b=c.parseFromString(h,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(h))}catch(k){b=void 0}return b&&b.documentElement&&
!b.getElementsByTagName("parsererror").length||u.error("Invalid XML: "+h),b};var Ia,Ca,bc=/#.*$/,xb=/([?&])_=[^&]*/,cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,dc=/^(?:GET|HEAD)$/,ec=/^\/\//,yb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zb={},Xa={},Ab="*/".concat("*");try{Ca=location.href}catch(Ja){Ca=M.createElement("a"),Ca.href="",Ca=Ca.href}Ia=yb.exec(Ca.toLowerCase())||[];u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ca,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ia[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":Ab,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":u.parseJSON,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,h){return h?
da(da(a,u.ajaxSettings),h):da(u.ajaxSettings,a)},ajaxPrefilter:X(zb),ajaxTransport:X(Xa),ajax:function(a,h){function b(a,h,c,k){var x,A,B,E,H=h;if(2!==F){F=2;r&&clearTimeout(r);l=void 0;m=k||"";G.readyState=0<a?4:0;k=200<=a&&300>a||304===a;if(c){B=y;for(var D=G,L,I,N,K,S=B.contents,Q=B.dataTypes;"*"===Q[0];)Q.shift(),void 0===I&&(I=B.mimeType||D.getResponseHeader("Content-Type"));if(I)for(K in S)if(S[K]&&S[K].test(I)){Q.unshift(K);break}if(Q[0]in c)N=Q[0];else{for(K in c){if(!Q[0]||B.converters[K+
" "+Q[0]]){N=K;break}L||(L=K)}N=N||L}B=N?(N!==Q[0]&&Q.unshift(N),c[N]):void 0}var R;a:{c=y;L=B;I=G;N=k;var ea,Z,O;B={};D=c.dataTypes.slice();if(D[1])for(ea in c.converters)B[ea.toLowerCase()]=c.converters[ea];for(K=D.shift();K;)if(c.responseFields[K]&&(I[c.responseFields[K]]=L),!O&&N&&c.dataFilter&&(L=c.dataFilter(L,c.dataType)),O=K,K=D.shift())if("*"===K)K=O;else if("*"!==O&&O!==K){if(ea=B[O+" "+K]||B["* "+K],!ea)for(R in B)if(Z=R.split(" "),Z[1]===K&&(ea=B[O+" "+Z[0]]||B["* "+Z[0]])){!0===ea?ea=
B[R]:!0!==B[R]&&(K=Z[0],D.unshift(Z[1]));break}if(!0!==ea)if(ea&&c["throws"])L=ea(L);else try{L=ea(L)}catch(J){R={state:"parsererror",error:ea?J:"No conversion from "+O+" to "+K};break a}}R={state:"success",data:L}}B=R;k?(y.ifModified&&(E=G.getResponseHeader("Last-Modified"),E&&(u.lastModified[n]=E),E=G.getResponseHeader("etag"),E&&(u.etag[n]=E)),204===a||"HEAD"===y.type?H="nocontent":304===a?H="notmodified":(H=B.state,x=B.data,A=B.error,k=!A)):(A=H,(a||!H)&&(H="error",0>a&&(a=0)));G.status=a;G.statusText=
(h||H)+"";k?w.resolveWith(p,[x,H,G]):w.rejectWith(p,[G,H,A]);G.statusCode(z);z=void 0;t&&q.trigger(k?"ajaxSuccess":"ajaxError",[G,y,k?x:A]);C.fireWith(p,[G,H]);t&&(q.trigger("ajaxComplete",[G,y]),--u.active||u.event.trigger("ajaxStop"))}}"object"==typeof a&&(h=a,a=void 0);h=h||{};var c,k,n,m,r,t,l,x,y=u.ajaxSetup({},h),p=y.context||y,q=y.context&&(p.nodeType||p.jquery)?u(p):u.event,w=u.Deferred(),C=u.Callbacks("once memory"),z=y.statusCode||{},A={},B={},F=0,E="canceled",G={readyState:0,getResponseHeader:function(a){var h;
if(2===F){if(!x)for(x={};h=cc.exec(m);)x[h[1].toLowerCase()]=h[2];h=x[a.toLowerCase()]}return null==h?null:h},getAllResponseHeaders:function(){return 2===F?m:null},setRequestHeader:function(a,h){var b=a.toLowerCase();return F||(a=B[b]=B[b]||a,A[a]=h),this},overrideMimeType:function(a){return F||(y.mimeType=a),this},statusCode:function(a){var h;if(a)if(2>F)for(h in a)z[h]=[z[h],a[h]];else G.always(a[G.status]);return this},abort:function(a){a=a||E;return l&&l.abort(a),b(0,a),this}};if(w.promise(G).complete=
C.add,G.success=G.done,G.error=G.fail,y.url=((a||y.url||Ca)+"").replace(bc,"").replace(ec,Ia[1]+"//"),y.type=h.method||h.type||y.method||y.type,y.dataTypes=u.trim(y.dataType||"*").toLowerCase().match(fa)||[""],null==y.crossDomain&&(c=yb.exec(y.url.toLowerCase()),y.crossDomain=!(!c||c[1]===Ia[1]&&c[2]===Ia[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Ia[3]||("http:"===Ia[1]?"80":"443")))),y.data&&y.processData&&"string"!=typeof y.data&&(y.data=u.param(y.data,y.traditional)),aa(zb,y,h,G),2===F)return G;
(t=y.global)&&0===u.active++&&u.event.trigger("ajaxStart");y.type=y.type.toUpperCase();y.hasContent=!dc.test(y.type);n=y.url;y.hasContent||(y.data&&(n=y.url+=(ib.test(n)?"\x26":"?")+y.data,delete y.data),!1===y.cache&&(y.url=xb.test(n)?n.replace(xb,"$1_\x3d"+hb++):n+(ib.test(n)?"\x26":"?")+"_\x3d"+hb++));y.ifModified&&(u.lastModified[n]&&G.setRequestHeader("If-Modified-Since",u.lastModified[n]),u.etag[n]&&G.setRequestHeader("If-None-Match",u.etag[n]));(y.data&&y.hasContent&&!1!==y.contentType||h.contentType)&&
G.setRequestHeader("Content-Type",y.contentType);G.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+Ab+"; q\x3d0.01":""):y.accepts["*"]);for(k in y.headers)G.setRequestHeader(k,y.headers[k]);if(y.beforeSend&&(!1===y.beforeSend.call(p,G,y)||2===F))return G.abort();E="abort";for(k in{success:1,error:1,complete:1})G[k](y[k]);if(l=aa(Xa,y,h,G)){G.readyState=1;t&&q.trigger("ajaxSend",[G,y]);y.async&&0<y.timeout&&(r=setTimeout(function(){G.abort("timeout")},
y.timeout));try{F=1,l.send(A,b)}catch(H){if(!(2>F))throw H;b(-1,H)}}else b(-1,"No Transport");return G},getJSON:function(a,h,b){return u.get(a,h,b,"json")},getScript:function(a,h){return u.get(a,void 0,h,"script")}});u.each(["get","post"],function(a,h){u[h]=function(a,b,c,k){return u.isFunction(b)&&(k=k||c,c=b,b=void 0),u.ajax({url:a,type:h,dataType:k,data:b,success:c})}});u.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,h){u.fn[h]=function(a){return this.on(h,
a)}});u._evalUrl=function(a){return u.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};u.fn.extend({wrapAll:function(a){if(u.isFunction(a))return this.each(function(h){u(this).wrapAll(a.call(this,h))});if(this[0]){var h=u(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&h.insertBefore(this[0]);h.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(u.isFunction(a)?
function(h){u(this).wrapInner(a.call(this,h))}:function(){var h=u(this),b=h.contents();b.length?b.wrapAll(a):h.append(a)})},wrap:function(a){var h=u.isFunction(a);return this.each(function(b){u(this).wrapAll(h?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){u.nodeName(this,"body")||u(this).replaceWith(this.childNodes)}).end()}});u.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!P.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||
u.css(a,"display"))};u.expr.filters.visible=function(a){return!u.expr.filters.hidden(a)};var fc=/%20/g,Ib=/\[\]$/,Bb=/\r?\n/g,gc=/^(?:submit|button|image|reset|file)$/i,hc=/^(?:input|select|textarea|keygen)/i;u.param=function(a,h){var b,c=[],k=function(a,h){h=u.isFunction(h)?h():null==h?"":h;c[c.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(h)};if(void 0===h&&(h=u.ajaxSettings&&u.ajaxSettings.traditional),u.isArray(a)||a.jquery&&!u.isPlainObject(a))u.each(a,function(){k(this.name,this.value)});
else for(b in a)U(b,a[b],h,k);return c.join("\x26").replace(fc,"+")};u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=u.prop(this,"elements");return a?u.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!u(this).is(":disabled")&&hc.test(this.nodeName)&&!gc.test(a)&&(this.checked||!Na.test(a))}).map(function(a,h){a=u(this).val();return null==a?null:u.isArray(a)?u.map(a,function(a){return{name:h.name,
value:a.replace(Bb,"\r\n")}}):{name:h.name,value:a.replace(Bb,"\r\n")}}).get()}});u.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){var h;if(!(h=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ha()))a:{try{h=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}h=void 0}return h}:ha;var ic=0,Va={},Wa=u.ajaxSettings.xhr();a.ActiveXObject&&u(a).on("unload",function(){for(var a in Va)Va[a](void 0,!0)});P.cors=!!Wa&&"withCredentials"in Wa;(Wa=P.ajax=!!Wa)&&u.ajaxTransport(function(a){if(!a.crossDomain||
P.cors){var h;return{send:function(b,c){var k,n=a.xhr(),m=++ic;if(n.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(k in a.xhrFields)n[k]=a.xhrFields[k];a.mimeType&&n.overrideMimeType&&n.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(k in b)void 0!==b[k]&&n.setRequestHeader(k,b[k]+"");n.send(a.hasContent&&a.data||null);h=function(b,k){var r,t,l;if(h&&(k||4===n.readyState))if(delete Va[m],h=void 0,n.onreadystatechange=
u.noop,k)4!==n.readyState&&n.abort();else{l={};r=n.status;"string"==typeof n.responseText&&(l.text=n.responseText);try{t=n.statusText}catch(x){t=""}r||!a.isLocal||a.crossDomain?1223===r&&(r=204):r=l.text?200:404}l&&c(r,t,l,n.getAllResponseHeaders())};a.async?4===n.readyState?setTimeout(h):n.onreadystatechange=Va[m]=h:h()},abort:function(){h&&h(void 0,!0)}}}});u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(a){return u.globalEval(a),a}}});u.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});u.ajaxTransport("script",function(a){if(a.crossDomain){var h,b=M.head||u("head")[0]||M.documentElement;return{send:function(c,k){h=M.createElement("script");h.async=!0;a.scriptCharset&&(h.charset=a.scriptCharset);h.src=a.url;h.onload=h.onreadystatechange=function(a,b){(b||!h.readyState||/loaded|complete/.test(h.readyState))&&
(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),h=null,b||k(200,"success"))};b.insertBefore(h,b.firstChild)},abort:function(){h&&h.onload(void 0,!0)}}}});var Cb=[],jb=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Cb.pop()||u.expando+"_"+hb++;return this[a]=!0,a}});u.ajaxPrefilter("json jsonp",function(h,b,c){var k,n,m,r=!1!==h.jsonp&&(jb.test(h.url)?"url":"string"==typeof h.data&&!(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&
jb.test(h.data)&&"data");return r||"jsonp"===h.dataTypes[0]?(k=h.jsonpCallback=u.isFunction(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,r?h[r]=h[r].replace(jb,"$1"+k):!1!==h.jsonp&&(h.url+=(ib.test(h.url)?"\x26":"?")+h.jsonp+"\x3d"+k),h.converters["script json"]=function(){return m||u.error(k+" was not called"),m[0]},h.dataTypes[0]="json",n=a[k],a[k]=function(){m=arguments},c.always(function(){a[k]=n;h[k]&&(h.jsonpCallback=b.jsonpCallback,Cb.push(k));m&&u.isFunction(n)&&n(m[0]);m=n=void 0}),
"script"):void 0});u.parseHTML=function(a,h,b){if(!a||"string"!=typeof a)return null;"boolean"==typeof h&&(b=h,h=!1);h=h||M;var c=Fa.exec(a);b=!b&&[];return c?[h.createElement(c[1])]:(c=u.buildFragment([a],h,b),b&&b.length&&u(b).remove(),u.merge([],c.childNodes))};var Db=u.fn.load;u.fn.load=function(a,h,b){if("string"!=typeof a&&Db)return Db.apply(this,arguments);var c,k,n,m=this,r=a.indexOf(" ");return 0<=r&&(c=u.trim(a.slice(r,a.length)),a=a.slice(0,r)),u.isFunction(h)?(b=h,h=void 0):h&&"object"==
typeof h&&(n="POST"),0<m.length&&u.ajax({url:a,type:n,dataType:"html",data:h}).done(function(a){k=arguments;m.html(c?u("\x3cdiv\x3e").append(u.parseHTML(a)).find(c):a)}).complete(b&&function(a,h){m.each(b,k||[a.responseText,h,a])}),this};u.expr.filters.animated=function(a){return u.grep(u.timers,function(h){return a===h.elem}).length};var Eb=a.document.documentElement;u.offset={setOffset:function(a,h,b){var c,k,n,m,r,t,l=u.css(a,"position"),x=u(a),y={};"static"===l&&(a.style.position="relative");
r=x.offset();n=u.css(a,"top");t=u.css(a,"left");("absolute"===l||"fixed"===l)&&-1<u.inArray("auto",[n,t])?(c=x.position(),m=c.top,k=c.left):(m=parseFloat(n)||0,k=parseFloat(t)||0);u.isFunction(h)&&(h=h.call(a,b,r));null!=h.top&&(y.top=h.top-r.top+m);null!=h.left&&(y.left=h.left-r.left+k);"using"in h?h.using.call(a,y):x.css(y)}};u.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(h){u.offset.setOffset(this,a,h)});var h,b,c={top:0,left:0},k=this[0],n=k&&k.ownerDocument;
if(n)return h=n.documentElement,u.contains(h,k)?("undefined"!==typeof k.getBoundingClientRect&&(c=k.getBoundingClientRect()),b=ia(n),{top:c.top+(b.pageYOffset||h.scrollTop)-(h.clientTop||0),left:c.left+(b.pageXOffset||h.scrollLeft)-(h.clientLeft||0)}):c},position:function(){if(this[0]){var a,h,b={top:0,left:0},c=this[0];return"fixed"===u.css(c,"position")?h=c.getBoundingClientRect():(a=this.offsetParent(),h=this.offset(),u.nodeName(a[0],"html")||(b=a.offset()),b.top+=u.css(a[0],"borderTopWidth",!0),
b.left+=u.css(a[0],"borderLeftWidth",!0)),{top:h.top-b.top-u.css(c,"marginTop",!0),left:h.left-b.left-u.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Eb;a&&!u.nodeName(a,"html")&&"static"===u.css(a,"position");)a=a.offsetParent;return a||Eb})}});u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,h){var b=/Y/.test(h);u.fn[a]=function(c){return xa(this,function(a,c,k){var n=ia(a);return void 0===k?n?h in n?n[h]:n.document.documentElement[c]:
a[c]:void(n?n.scrollTo(b?u(n).scrollLeft():k,b?k:u(n).scrollTop()):a[c]=k)},a,c,arguments.length,null)}});u.each(["top","left"],function(a,h){u.cssHooks[h]=I(P.pixelPosition,function(a,b){return b?(b=Ea(a,h),Qa.test(b)?u(a).position()[h]+"px":b):void 0})});u.each({Height:"height",Width:"width"},function(a,h){u.each({padding:"inner"+a,content:h,"":"outer"+a},function(b,c){u.fn[c]=function(c,k){var n=arguments.length&&(b||"boolean"!=typeof c),m=b||(!0===c||!0===k?"margin":"border");return xa(this,function(h,
b,c){var k;return u.isWindow(h)?h.document.documentElement["client"+a]:9===h.nodeType?(k=h.documentElement,Math.max(h.body["scroll"+a],k["scroll"+a],h.body["offset"+a],k["offset"+a],k["client"+a])):void 0===c?u.css(h,b,m):u.style(h,b,c,m)},h,n?c:void 0,n,null)}})});u.fn.size=function(){return this.length};u.fn.andSelf=u.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return u});var jc=a.jQuery,kc=a.$;return u.noConflict=function(h){return a.$===u&&(a.$=kc),h&&a.jQuery===
u&&(a.jQuery=jc),u},"undefined"===typeof c&&(a.jQuery=a.$=u),u});void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(a,c,b){function k(h){var b=c.console;p[h]||(p[h]=!0,a.migrateWarnings.push(h),b&&b.warn&&!a.migrateMute&&(b.warn("JQMIGRATE: "+h),a.migrateTrace&&b.trace&&b.trace()))}function l(h,c,n,m){if(Object.defineProperty)try{return Object.defineProperty(h,c,{configurable:!0,enumerable:!0,get:function(){return k(m),n},set:function(a){k(m);n=a}}),b}catch(r){}a._definePropertyBroken=!0;h[c]=n}var p={};a.migrateWarnings=[];!a.migrateMute&&c.console&&c.console.log&&c.console.log("JQMIGRATE: Logging is active");
a.migrateTrace===b&&(a.migrateTrace=!0);a.migrateReset=function(){p={};a.migrateWarnings.length=0};"BackCompat"===document.compatMode&&k("jQuery is not compatible with Quirks Mode");var m=a("\x3cinput/\x3e",{size:1}).attr("size")&&a.attrFn,q=a.attr,h=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},n=a.attrHooks.value&&a.attrHooks.value.set||function(){return b},t=/^(?:input|button)$/i,y=/^[238]$/,x=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
z=/^(?:checked|selected)$/i;l(a,"attrFn",m||{},"jQuery.attrFn is deprecated");a.attr=function(h,c,n,r){var l=c.toLowerCase(),p=h&&h.nodeType;return r&&(4>q.length&&k("jQuery.fn.attr( props, pass ) is deprecated"),h&&!y.test(p)&&(m?c in m:a.isFunction(a.fn[c])))?a(h)[c](n):("type"===c&&n!==b&&t.test(h.nodeName)&&h.parentNode&&k("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[l]&&x.test(l)&&(a.attrHooks[l]={get:function(h,c){var k,n=a.prop(h,c);return!0===n||"boolean"!=typeof n&&
(k=h.getAttributeNode(c))&&!1!==k.nodeValue?c.toLowerCase():b},set:function(h,b,c){var k;return!1===b?a.removeAttr(h,c):(k=a.propFix[c]||c,k in h&&(h[k]=!0),h.setAttribute(c,c.toLowerCase())),c}},z.test(l)&&k("jQuery.fn.attr('"+l+"') may use property instead of attribute")),q.call(a,h,c,n))};a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?h.apply(this,arguments):("input"!==c&&"option"!==c&&k("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:
null)},set:function(a,h){var c=(a.nodeName||"").toLowerCase();return"button"===c?n.apply(this,arguments):("input"!==c&&"option"!==c&&k("jQuery.fn.attr('value', val) no longer sets properties"),a.value=h,b)}};var r,C,A=a.fn.init,w=a.parseJSON,B=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(h,b,c){var n;return h&&"string"==typeof h&&!a.isPlainObject(b)&&(n=B.exec(a.trim(h)))&&n[0]&&("\x3c"!==h.charAt(0)&&k("$(html) HTML strings must start with '\x3c' character"),n[3]&&k("$(html) HTML text after last tag is ignored"),
"#"===n[0].charAt(0)&&(k("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),b&&b.context&&(b=b.context),a.parseHTML)?A.call(this,a.parseHTML(n[2],b,!0),b,c):A.apply(this,arguments)};a.fn.init.prototype=a.fn;a.parseJSON=function(a){return a||null===a?w.apply(this,arguments):(k("jQuery.parseJSON requires a valid JSON string"),null)};a.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||
/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a.browser||(r=a.uaMatch(navigator.userAgent),C={},r.browser&&(C[r.browser]=!0,C.version=r.version),C.chrome?C.webkit=!0:C.webkit&&(C.safari=!0),a.browser=C);l(a,"browser",a.browser,"jQuery.browser is deprecated");a.sub=function(){function h(a,b){return new h.fn.init(a,b)}a.extend(!0,h,this);h.superclass=this;h.fn=h.prototype=this();h.fn.constructor=h;h.sub=
this.sub;h.fn.init=function(c,k){return k&&k instanceof a&&!(k instanceof h)&&(k=h(k)),a.fn.init.call(this,c,k,b)};h.fn.init.prototype=h.fn;var b=h(document);return k("jQuery.sub() is deprecated"),h};a.ajaxSetup({converters:{"text json":a.parseJSON}});var E=a.fn.data;a.fn.data=function(h){var c,n,m=this[0];return!m||"events"!==h||1!==arguments.length||(c=a.data(m,h),n=a._data(m,h),c!==b&&c!==n||n===b)?E.apply(this,arguments):(k("Use of jQuery.fn.data('events') is deprecated"),n)};var D=/\/(java|ecma)script/i,
F=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return k("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),F.apply(this,arguments)};a.clean||(a.clean=function(h,c,n,m){c=c||document;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;k("jQuery.clean() is deprecated");var r,t,l=[];if(a.merge(l,a.buildFragment(h,c).childNodes),n)for(r=function(a){return!a.type||D.test(a.type)?m?m.push(a.parentNode?a.parentNode.removeChild(a):a):n.appendChild(a):b},h=0;null!=(c=l[h]);h++)a.nodeName(c,"script")&&r(c)||
(n.appendChild(c),c.getElementsByTagName!==b&&(t=a.grep(a.merge([],c.getElementsByTagName("script")),r),l.splice.apply(l,[h+1,0].concat(t)),h+=t.length));return l});var H=a.event.add,G=a.event.remove,L=a.event.trigger,I=a.fn.toggle,N=a.fn.live,O=a.fn.die,J=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,Y=/(?:^|\s)hover(\.\S+|)\b/,V=function(h){return"string"!=typeof h||a.event.special.hover?h:(Y.test(h)&&k("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),
h&&h.replace(Y,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement");a.event.dispatch&&l(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated");a.event.add=function(a,h,b,c,n){a!==document&&J.test(h)&&k("AJAX events should be attached to document: "+h);H.call(this,a,V(h||""),b,c,n)};a.event.remove=function(a,h,b,c,k){G.call(this,a,V(h)||"",b,c,k)};a.fn.error=function(){var a=
Array.prototype.slice.call(arguments,0);return k("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)};a.fn.toggle=function(h,b){if(!a.isFunction(h)||!a.isFunction(b))return I.apply(this,arguments);k("jQuery.fn.toggle(handler, handler...) is deprecated");var c=arguments,n=h.guid||a.guid++,m=0,r=function(b){var k=(a._data(this,"lastToggle"+h.guid)||0)%m;return a._data(this,"lastToggle"+h.guid,k+1),b.preventDefault(),
c[k].apply(this,arguments)||!1};for(r.guid=n;c.length>m;)c[m++].guid=n;return this.click(r)};a.fn.live=function(h,b,c){return k("jQuery.fn.live() is deprecated"),N?N.apply(this,arguments):(a(this.context).on(h,this.selector,b,c),this)};a.fn.die=function(h,b){return k("jQuery.fn.die() is deprecated"),O?O.apply(this,arguments):(a(this.context).off(h,this.selector||"**",b),this)};a.event.trigger=function(a,h,b,c){return b||J.test(a)||k("Global events are undocumented and deprecated"),L.call(this,a,h,
b||document,c)};a.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(h,b){a.event.special[b]={setup:function(){var h=this;return h!==document&&(a.event.add(document,b+"."+a.guid,function(){a.event.trigger(b,null,h,!0)}),a._data(this,b,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,b+"."+a._data(this,b)),!1}}})})(jQuery,window);
!function(a,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define(c):"object"==typeof exports?exports.Handlebars=c():a.Handlebars=c()}(this,function(){return function(a){function c(k){if(b[k])return b[k].exports;var l=b[k]={exports:{},id:k,loaded:!1};return a[k].call(l.exports,l,l.exports,c),l.loaded=!0,l.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(a,c,b){(function(k){function l(){var a=x();return a.compile=function(h,b){return t.compile(h,
b,a)},a.precompile=function(h,b){return t.precompile(h,b,a)},a.AST=h["default"],a.Compiler=t.Compiler,a.JavaScriptCompiler=y["default"],a.Parser=n.parser,a.parse=n.parse,a}var p=b(7)["default"];c.__esModule=!0;var m=b(1),m=p(m),q=b(2),h=p(q),n=b(3),t=b(4),q=b(5),y=p(q),q=b(6),p=p(q),x=m["default"].create,z=l();z.create=l;z.Visitor=p["default"];var r=k.Handlebars;z.noConflict=function(){k.Handlebars===z&&(k.Handlebars=r)};z["default"]=z;c["default"]=z;a.exports=c["default"]}).call(c,function(){return this}())},
function(a,c,b){(function(k){function l(){var a=new q.HandlebarsEnvironment;return t.extend(a,q),a.SafeString=h["default"],a.Exception=n["default"],a.Utils=t,a.escapeExpression=t.escapeExpression,a.VM=y,a.template=function(h){return y.template(h,a)},a}var p=b(7)["default"];c.__esModule=!0;var m=b(8),q=p(m),m=b(9),h=p(m),m=b(10),n=p(m),m=b(11),t=p(m),m=b(12),y=p(m),x=l();x.create=l;var z="undefined"!=typeof k?k:window,r=z.Handlebars;x.noConflict=function(){z.Handlebars===x&&(z.Handlebars=r)};x["default"]=
x;c["default"]=x;a.exports=c["default"]}).call(c,function(){return this}())},function(a,c){c.__esModule=!0;var b={Program:function(a,b,c,m){this.loc=m;this.type="Program";this.body=a;this.blockParams=b;this.strip=c},MustacheStatement:function(a,b,c,m,q,h){this.loc=h;this.type="MustacheStatement";this.path=a;this.params=b||[];this.hash=c;this.escaped=m;this.strip=q},BlockStatement:function(a,b,c,m,q,h,n,t,y){this.loc=y;this.type="BlockStatement";this.path=a;this.params=b||[];this.hash=c;this.program=
m;this.inverse=q;this.openStrip=h;this.inverseStrip=n;this.closeStrip=t},PartialStatement:function(a,b,c,m,q){this.loc=q;this.type="PartialStatement";this.name=a;this.params=b||[];this.hash=c;this.indent="";this.strip=m},ContentStatement:function(a,b){this.loc=b;this.type="ContentStatement";this.original=this.value=a},CommentStatement:function(a,b,c){this.loc=c;this.type="CommentStatement";this.value=a;this.strip=b},SubExpression:function(a,b,c,m){this.loc=m;this.type="SubExpression";this.path=a;
this.params=b||[];this.hash=c},PathExpression:function(a,b,c,m,q){this.loc=q;this.type="PathExpression";this.data=a;this.original=m;this.parts=c;this.depth=b},StringLiteral:function(a,b){this.loc=b;this.type="StringLiteral";this.original=this.value=a},NumberLiteral:function(a,b){this.loc=b;this.type="NumberLiteral";this.original=this.value=Number(a)},BooleanLiteral:function(a,b){this.loc=b;this.type="BooleanLiteral";this.original=this.value="true"===a},UndefinedLiteral:function(a){this.loc=a;this.type=
"UndefinedLiteral";this.original=this.value=void 0},NullLiteral:function(a){this.loc=a;this.type="NullLiteral";this.original=this.value=null},Hash:function(a,b){this.loc=b;this.type="Hash";this.pairs=a},HashPair:function(a,b,c){this.loc=c;this.type="HashPair";this.key=a;this.value=b},helpers:{helperExpression:function(a){return!("SubExpression"!==a.type&&!a.params.length&&!a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!b.helpers.scopedId(a)&&
!a.depth}}};c["default"]=b;a.exports=c["default"]},function(a,c,b){a=b(7)["default"];c.__esModule=!0;c.parse=function(a,b){if("Program"===a.type)return a;l["default"].yy=q;q.locInfo=function(a){return new q.SourceLocation(b&&b.srcName,a)};return(new m["default"]).accept(l["default"].parse(a))};var k=b(13),l=a(k),k=b(2),k=a(k),p=b(14),m=a(p),p=b(15);a=a(p);b=b(11);c.parser=l["default"];var q={};b.extend(q,a,k["default"])},function(a,c,b){function k(){}function l(a,h){if(a===h)return!0;if(q.isArray(a)&&
q.isArray(h)&&a.length===h.length){for(var b=0;b<a.length;b++)if(!l(a[b],h[b]))return!1;return!0}}function p(a){if(!a.path.parts){var b=a.path;a.path=new h["default"].PathExpression(!1,0,[b.original+""],b.original+"",b.loc)}}a=b(7)["default"];c.__esModule=!0;c.Compiler=k;c.precompile=function(a,h,b){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new m["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);h=h||{};"data"in h||(h.data=!0);h.compat&&
(h.useDepths=!0);a=b.parse(a,h);a=(new b.Compiler).compile(a,h);return(new b.JavaScriptCompiler).compile(a,h)};c.compile=function(a,h,b){function c(){var h=b.parse(a,n),h=(new b.Compiler).compile(h,n),h=(new b.JavaScriptCompiler).compile(h,n,void 0,!0);return b.template(h)}function k(a,h){return l||(l=c()),l.call(this,a,h)}var n=void 0===h?{}:h;if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new m["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);
"data"in n||(n.data=!0);n.compat&&(n.useDepths=!0);var l=void 0;return k._setup=function(a){return l||(l=c()),l._setup(a)},k._child=function(a,h,b,k){return l||(l=c()),l._child(a,h,b,k)},k};c=b(10);var m=a(c),q=b(11);b=b(2);var h=a(b),n=[].slice;k.prototype={compiler:k,equals:function(a){var h=this.opcodes.length;if(a.opcodes.length!==h)return!1;for(var b=0;h>b;b++){var c=this.opcodes[b],k=a.opcodes[b];if(c.opcode!==k.opcode||!l(c.args,k.args))return!1}h=this.children.length;for(b=0;h>b;b++)if(!this.children[b].equals(a.children[b]))return!1;
return!0},guid:0,compile:function(a,h){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=h;this.stringParams=h.stringParams;this.trackIds=h.trackIds;h.blockParams=h.blockParams||[];var b=h.knownHelpers;if(h.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},b)for(var c in b)c in b&&(h.knownHelpers[c]=b[c]);return this.accept(a)},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var h=this.guid++;return this.usePartial=
this.usePartial||a.usePartial,this.children[h]=a,this.useDepths=this.useDepths||a.useDepths,h},accept:function(a){this.sourceNode.unshift(a);a=this[a.type](a);return this.sourceNode.shift(),a},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var h=a.body,b=h.length,c=0;b>c;c++)this.accept(h[c]);return this.options.blockParams.shift(),this.isSimple=1===b,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){p(a);var h=a.program,b=a.inverse,h=
h&&this.compileProgram(h),b=b&&this.compileProgram(b),c=this.classifySexpr(a);"helper"===c?this.helperSexpr(a,h,b):"simple"===c?(this.simpleSexpr(a),this.opcode("pushProgram",h),this.opcode("pushProgram",b),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,h,b),this.opcode("pushProgram",h),this.opcode("pushProgram",b),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},PartialStatement:function(a){this.usePartial=!0;var h=a.params;
if(1<h.length)throw new m["default"]("Unsupported number of partial arguments: "+h.length,a);h.length||h.push({type:"PathExpression",parts:[],depth:0});var h=a.name.original,b="SubExpression"===a.name.type;b&&this.accept(a.name);this.setupFullMustacheParams(a,void 0,void 0,!0);a=a.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a="");this.opcode("invokePartial",b,h,a);this.opcode("append")},MustacheStatement:function(a){this.SubExpression(a);this.opcode(a.escaped&&!this.options.noEscape?
"appendEscaped":"append")},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){p(a);var h=this.classifySexpr(a);"simple"===h?this.simpleSexpr(a):"helper"===h?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,h,b){a=a.path;var c=a.parts[0],k=null!=h||null!=b;this.opcode("getContext",a.depth);this.opcode("pushProgram",h);this.opcode("pushProgram",b);this.accept(a);this.opcode("invokeAmbiguous",c,k)},
simpleSexpr:function(a){this.accept(a.path);this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){b=this.setupFullMustacheParams(a,b,c);c=a.path;var k=c.parts[0];if(this.options.knownHelpers[k])this.opcode("invokeKnownHelper",b.length,k);else{if(this.options.knownHelpersOnly)throw new m["default"]("You specified knownHelpersOnly, but used the unknown helper "+k,a);c.falsy=!0;this.accept(c);this.opcode("invokeHelper",b.length,c.original,h["default"].helpers.simpleId(c))}},PathExpression:function(a){this.addDepth(a.depth);
this.opcode("getContext",a.depth);var b=a.parts[0],c=h["default"].helpers.scopedId(a),k=!a.depth&&!c&&this.blockParamIndex(b);k?this.opcode("lookupBlockParam",k,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts)):this.opcode("lookupOnContext",a.parts,a.falsy,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},
UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){a=a.pairs;var h=0,b=a.length;for(this.opcode("pushHash");b>h;h++)this.pushParam(a[h].value);for(;h--;)this.opcode("assignToHash",a[h].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:n.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=h["default"].helpers.simpleId(a.path),
c=b&&!!this.blockParamIndex(a.path.parts[0]),k=!c&&h["default"].helpers.helperExpression(a);(b=!c&&(k||b))&&!k&&(c=this.options,c.knownHelpers[a.path.parts[0]]?k=!0:c.knownHelpersOnly&&(b=!1));return k?"helper":b?"ambiguous":"simple"},pushParams:function(a){for(var h=0,b=a.length;b>h;h++)this.pushParam(a[h])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",
a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;(!a.parts||h["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c)?(b=a.parts.slice(1).join("."),this.opcode("pushId","BlockParam",c,b)):(b=a.original||b,b.replace&&(b=b.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",a.type,b))}this.accept(a)}},setupFullMustacheParams:function(a,h,b,c){var k=a.params;return this.pushParams(k),this.opcode("pushProgram",
h),this.opcode("pushProgram",b),a.hash?this.accept(a.hash):this.opcode("emptyHash",c),k},blockParamIndex:function(a){for(var h=0,b=this.options.blockParams.length;b>h;h++){var c=this.options.blockParams[h],k=c&&q.indexOf(c,a);if(c&&0<=k)return[h,k]}}}},function(a,c,b){function k(a){this.value=a}function l(){}function p(a,h,b,c){var k=h.popStack(),n=0,m=b.length;for(a&&m--;m>n;n++)k=h.nameLookup(k,b[n],c);return a?[h.aliasable("this.strict"),"(",k,", ",h.quotedString(b[n]),")"]:k}var m=b(7)["default"];
c.__esModule=!0;var q=b(8),h=b(10),n=m(h),t=b(11);b=b(16);var y=m(b);l.prototype={nameLookup:function(a,h){return l.isValidJavaScriptVariableName(h)?[a,".",h]:[a,"['",h,"']"]},depthedLookup:function(a){return[this.aliasable("this.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=q.COMPILER_REVISION;return[a,q.REVISION_CHANGES[a]]},appendToBuffer:function(a,h,b){return t.isArray(a)||(a=[a]),a=this.source.wrap(a,h),this.environment.isSimple?["return ",a,";"]:b?["buffer +\x3d ",a,";"]:(a.appendToBuffer=
!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,h,b,c){this.environment=a;this.options=h;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!c;this.name=this.environment.name;this.isChild=!!b;this.context=b||{programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(a,
h);this.useDepths=this.useDepths||a.useDepths||this.options.compat;this.useBlockParams=this.useBlockParams||a.useBlockParams;var k=a.opcodes,m,l=void 0;a=0;for(b=k.length;b>a;a++)m=k[a],this.source.currentLocation=m.loc,l=l||m.loc,this[m.opcode].apply(this,m.args);if(this.source.currentLocation=l,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new n["default"]("Compile completed with content left on stack");a=this.createFunctionContext(c);if(this.isChild)return a;
k={compiler:this.compilerInfo(),main:a};m=this.context.programs;a=0;for(b=m.length;b>a;a++)m[a]&&(k[a]=m[a]);return this.environment.usePartial&&(k.usePartial=!0),this.options.data&&(k.useData=!0),this.useDepths&&(k.useDepths=!0),this.useBlockParams&&(k.useBlockParams=!0),this.options.compat&&(k.compat=!0),c?k.compilerOptions=this.options:(k.compiler=JSON.stringify(k.compiler),this.source.currentLocation={start:{line:1,column:0}},k=this.objectLiteral(k),h.srcName?(k=k.toStringWithSourceMap({file:h.destName}),
k.map=k.map&&k.map.toString()):k=k.toString()),k},preamble:function(){this.lastContext=0;this.source=new y["default"](this.options.srcName)},createFunctionContext:function(a){var h="",b=this.stackVars.concat(this.registers.list);0<b.length&&(h+=", "+b.join(", "));var b=0,c;for(c in this.aliases){var k=this.aliases[c];this.aliases.hasOwnProperty(c)&&k.children&&1<k.referenceCount&&(h+=", alias"+ ++b+"\x3d"+c,k.children[0]="alias"+b)}c=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&
c.push("blockParams");this.useDepths&&c.push("depths");h=this.mergeSource(h);return a?(c.push(h),Function.apply(this,c)):this.source.wrap(["function(",c.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var h=this.environment.isSimple,b=!this.forceBuffer,c=void 0,k=void 0,n=void 0,m=void 0;return this.source.each(function(a){a.appendToBuffer?(n?a.prepend("  + "):n=a,m=a):(n&&(k?n.prepend("buffer +\x3d "):c=!0,m.add(";"),n=m=void 0),k=!0,h||(b=!1))}),b?n?(n.prepend("return "),m.add(";")):k||this.source.push('return "";'):
(a+=", buffer \x3d "+(c?"":this.initializeBuffer()),n?(n.prepend("return buffer + "),m.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(c?"":";\n")),this.source.merge()},blockValue:function(a){var h=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs(a,0,b);a=this.popStack();b.splice(1,0,a);this.push(this.source.functionCall(h,"call",b))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),
h=[this.contextName(0)];this.setupHelperArgs("",0,h,!0);this.flushInline();var b=this.topStack();h.splice(1,0,b);this.pushSource(["if (!",this.lastHelper,") { ",b," \x3d ",this.source.functionCall(a,"call",h),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation;this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" !\x3d null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));
else{var a=this.popStack();this.pushSource(["if (",a," !\x3d null) { ",this.appendToBuffer(a,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,h,b){var c=
0;b||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[c++]));this.resolvePath("context",a,c,h)},lookupBlockParam:function(a,h){this.useBlockParams=!0;this.push(["blockParams[",a[0],"][",a[1],"]"]);this.resolvePath("context",h,1)},lookupData:function(a,h){this.pushStackLiteral(a?"this.data(data, "+a+")":"data");this.resolvePath("data",h,0,!0)},resolvePath:function(a,h,b,c){var k=this;if(this.options.strict||this.options.assumeObjects)return void this.push(p(this.options.strict,
this,h,a));for(var n=h.length;n>b;b++)this.replaceStack(function(n){var m=k.nameLookup(n,h[b],a);return c?[" \x26\x26 ",m]:[" !\x3d null ? ",m," : ",n]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,h){this.pushContext();this.pushString(h);"SubExpression"!==h&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}");this.stringParams&&
(this.push("{}"),this.push("{}"));this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(a.ids));this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types)));this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},
pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){this.pushStackLiteral(null!=a?this.programExpression(a):null)},invokeHelper:function(a,h,b){var c=this.popStack();a=this.setupHelper(a,h);b=["("].concat(b?[a.name," || "]:"",c);this.options.strict||b.push(" || ",this.aliasable("helpers.helperMissing"));b.push(")");this.push(this.source.functionCall(b,"call",a.callParams))},invokeKnownHelper:function(a,h){a=this.setupHelper(a,h);this.push(this.source.functionCall(a.name,"call",
a.callParams))},invokeAmbiguous:function(a,h){this.useRegister("helper");var b=this.popStack();this.emptyHash();h=this.setupHelper(0,a,h);a=["(","(helper \x3d ",this.lastHelper=this.nameLookup("helpers",a,"helper")," || ",b,")"];this.options.strict||(a[0]="(helper \x3d ",a.push(" !\x3d null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",a,h.paramsInit?["),(",h.paramsInit]:[],"),","(typeof helper \x3d\x3d\x3d ",this.aliasable('"function"')," ? ",this.source.functionCall("helper",
"call",h.callParams)," : helper))"])},invokePartial:function(a,h,b){var c=[],k=this.setupParams(h,1,c,!1);a&&(h=this.popStack(),delete k.name);b&&(k.indent=JSON.stringify(b));k.helpers="helpers";k.partials="partials";c.unshift(a?h:this.nameLookup("partials",h,"partial"));this.options.compat&&(k.depths="depths");k=this.objectLiteral(k);c.push(k);this.push(this.source.functionCall("this.invokePartial","",c))},assignToHash:function(a){var h=this.popStack(),b=void 0,c=void 0,k=void 0;this.trackIds&&(k=
this.popStack());this.stringParams&&(c=this.popStack(),b=this.popStack());var n=this.hash;b&&(n.contexts[a]=b);c&&(n.types[a]=c);k&&(n.ids[a]=k);n.values[a]=h},pushId:function(a,h,b){"BlockParam"===a?this.pushStackLiteral("blockParams["+h[0]+"].path["+h[1]+"]"+(b?" + "+JSON.stringify("."+b):"")):"PathExpression"===a?this.pushString(h):this.pushStackLiteral("SubExpression"===a?"true":"null")},compiler:l,compileChildren:function(a,h){a=a.children;for(var b,c,k=0,n=a.length;n>k;k++){b=a[k];c=new this.compiler;
var m=this.matchExistingProgram(b);null==m?(this.context.programs.push(""),m=this.context.programs.length,b.index=m,b.name="program"+m,this.context.programs[m]=c.compile(b,h,this.context,!this.precompile),this.context.environments[m]=b,this.useDepths=this.useDepths||c.useDepths,this.useBlockParams=this.useBlockParams||c.useBlockParams):(b.index=m,b.name="program"+m,this.useDepths=this.useDepths||b.useDepths,this.useBlockParams=this.useBlockParams||b.useBlockParams)}},matchExistingProgram:function(a){for(var h=
0,b=this.context.environments.length;b>h;h++){var c=this.context.environments[h];if(c&&c.equals(a))return h}},programExpression:function(a){a=this.environment.children[a];a=[a.index,"data",a.blockParams];return(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths"),"this.program("+a.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof k||(a=this.source.wrap(a)),this.inlineStack.push(a),
a},pushStackLiteral:function(a){this.push(new k(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);a&&this.source.push(a)},replaceStack:function(a){var h,b,c=void 0,m=void 0;if(!this.isInline())throw new n["default"]("replaceStack on non-inline");h=this.popStack(!0);h instanceof k?(b=[h.value],h=["(",b],m=!0):(c=!0,b=this.incrStack(),h=["((",this.push(b)," \x3d ",h,
")"],b=this.topStack());a=a.call(this,b);m||this.popStack();c&&this.stackSlot--;this.push(h.concat(a,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var h=0,b=a.length;b>h;h++){var c=a[h];if(c instanceof k)this.compileStack.push(c);else{var n=this.incrStack();this.pushSource([n,
" \x3d ",c,";"]);this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var h=this.isInline(),b=(h?this.inlineStack:this.compileStack).pop();if(!a&&b instanceof k)return b.value;if(!h){if(!this.stackSlot)throw new n["default"]("Invalid stack pop");this.stackSlot--}return b},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,a=a[a.length-1];return a instanceof k?a.value:a},contextName:function(a){return this.useDepths&&a?"depths["+
a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var h=this.aliases[a];return h?(h.referenceCount++,h):(h=this.aliases[a]=this.source.wrap(a),h.aliasable=!0,h.referenceCount=1,h)},setupHelper:function(a,h,b){var c=[];a=this.setupHelperArgs(h,a,c,b);h=this.nameLookup("helpers",h,"helper");return{params:c,paramsInit:a,name:h,callParams:[this.contextName(0)].concat(c)}},setupParams:function(a,
h,b){var c={},k=[],n=[],m=[];c.name=this.quotedString(a);c.hash=this.popStack();this.trackIds&&(c.hashIds=this.popStack());this.stringParams&&(c.hashTypes=this.popStack(),c.hashContexts=this.popStack());a=this.popStack();var l=this.popStack();(l||a)&&(c.fn=l||"this.noop",c.inverse=a||"this.noop");for(a=h;a--;)h=this.popStack(),b[a]=h,this.trackIds&&(m[a]=this.popStack()),this.stringParams&&(n[a]=this.popStack(),k[a]=this.popStack());return this.trackIds&&(c.ids=this.source.generateArray(m)),this.stringParams&&
(c.types=this.source.generateArray(n),c.contexts=this.source.generateArray(k)),this.options.data&&(c.data="data"),this.useBlockParams&&(c.blockParams="blockParams"),c},setupHelperArgs:function(a,h,b,c){a=this.setupParams(a,h,b,!0);return a=this.objectLiteral(a),c?(this.useRegister("options"),b.push("options"),["options\x3d",a]):(b.push(a),"")}};(function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
h=l.RESERVED_WORDS={},b=0,c=a.length;c>b;b++)h[a[b]]=!0})();l.isValidJavaScriptVariableName=function(a){return!l.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)};c["default"]=l;a.exports=c["default"]},function(a,c,b){function k(){this.parents=[]}var l=b(7)["default"];c.__esModule=!0;var p=b(10),m=l(p);b=b(2);var q=l(b);k.prototype={constructor:k,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&(!c.type||!q["default"][c.type]))throw new m["default"]('Unexpected node type "'+
c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new m["default"](a.type+" requires "+b);},acceptArray:function(a){for(var b=0,c=a.length;c>b;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){this.current&&this.parents.unshift(this.current);this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:!1!==b?a:void 0}},Program:function(a){this.acceptArray(a.body)},
MustacheStatement:function(a){this.acceptRequired(a,"path");this.acceptArray(a.params);this.acceptKey(a,"hash")},BlockStatement:function(a){this.acceptRequired(a,"path");this.acceptArray(a.params);this.acceptKey(a,"hash");this.acceptKey(a,"program");this.acceptKey(a,"inverse")},PartialStatement:function(a){this.acceptRequired(a,"name");this.acceptArray(a.params);this.acceptKey(a,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(a){this.acceptRequired(a,"path");
this.acceptArray(a.params);this.acceptKey(a,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}};c["default"]=k;a.exports=c["default"]},function(a,c){c["default"]=function(a){return a&&a.__esModule?a:{"default":a}};c.__esModule=!0},function(a,c,b){function k(a,h){this.helpers=a||{};
this.partials=h||{};l(this)}function l(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new h["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');});a.registerHelper("blockHelperMissing",function(h,b){var c=b.inverse,k=b.fn;if(!0===h)return k(this);if(!1===h||null==h)return c(this);if(n(h))return 0<h.length?(b.ids&&(b.ids=[b.name]),a.helpers.each(h,b)):c(this);b.data&&b.ids&&(c=p(b.data),c.contextPath=q.appendContextPath(b.data.contextPath,b.name),b=
{data:c});return k(h,b)});a.registerHelper("each",function(a,b){function c(h,b,n){y&&(y.key=h,y.index=b,y.first=0===b,y.last=!!n,x&&(y.contextPath=x+h));l+=k(a[h],{data:y,blockParams:q.blockParams([a[h],h],[x+h,null])})}if(!b)throw new h["default"]("Must pass iterator to #each");var k=b.fn,m=b.inverse,r=0,l="",y=void 0,x=void 0;if(b.data&&b.ids&&(x=q.appendContextPath(b.data.contextPath,b.ids[0])+"."),t(a)&&(a=a.call(this)),b.data&&(y=p(b.data)),a&&"object"==typeof a)if(n(a))for(var z=a.length;z>
r;r++)c(r,r,r===a.length-1);else{b=void 0;for(z in a)a.hasOwnProperty(z)&&(b&&c(b,r-1),b=z,r++);b&&c(b,r-1,!0)}return 0===r&&(l=m(this)),l});a.registerHelper("if",function(a,h){return t(a)&&(a=a.call(this)),!h.hash.includeZero&&!a||q.isEmpty(a)?h.inverse(this):h.fn(this)});a.registerHelper("unless",function(h,b){return a.helpers["if"].call(this,h,{fn:b.inverse,inverse:b.fn,hash:b.hash})});a.registerHelper("with",function(a,h){t(a)&&(a=a.call(this));var b=h.fn;if(q.isEmpty(a))return h.inverse(this);
if(h.data&&h.ids){var c=p(h.data);c.contextPath=q.appendContextPath(h.data.contextPath,h.ids[0]);h={data:c}}return b(a,h)});a.registerHelper("log",function(h,b){b=b.data&&null!=b.data.level?parseInt(b.data.level,10):1;a.log(b,h)});a.registerHelper("lookup",function(a,h){return a&&a[h]})}function p(a){var h=q.extend({},a);return h._parent=a,h}a=b(7)["default"];c.__esModule=!0;c.HandlebarsEnvironment=k;c.createFrame=p;var m=b(11),q=a(m);b=b(10);var h=a(b);c.VERSION="3.0.1";c.COMPILER_REVISION=6;c.REVISION_CHANGES=
{1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1"};var n=q.isArray,t=q.isFunction,y=q.toString;k.prototype={constructor:k,logger:x,log:z,registerHelper:function(a,b){if("[object Object]"===y.call(a)){if(b)throw new h["default"]("Arg not supported with multiple helpers");q.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if("[object Object]"===
y.call(a))q.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]("Attempting to register a partial as undefined");this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]}};var x={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(a,h){"undefined"!=typeof console&&x.level<=a&&(console[x.methodMap[a]]||console.log).call(console,h)}};c.logger=x;var z=x.log;c.log=z},function(a,c){function b(a){this.string=a}c.__esModule=
!0;b.prototype.toString=b.prototype.toHTML=function(){return""+this.string};c["default"]=b;a.exports=c["default"]},function(a,c){function b(a,c){c=c&&c.loc;var m=void 0,q=void 0;c&&(m=c.start.line,q=c.start.column,a+=" - "+m+":"+q);a=Error.prototype.constructor.call(this,a);for(var h=0;h<k.length;h++)this[k[h]]=a[k[h]];Error.captureStackTrace&&Error.captureStackTrace(this,b);c&&(this.lineNumber=m,this.column=q)}c.__esModule=!0;var k="description fileName lineNumber message name number stack".split(" ");
b.prototype=Error();c["default"]=b;a.exports=c["default"]},function(a,c){function b(a){return k[a]}c.__esModule=!0;c.extend=function(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a};c.indexOf=function(a,b){for(var c=0,k=a.length;k>c;c++)if(a[c]===b)return c;return-1};c.escapeExpression=function(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return p.test(a)?
a.replace(l,b):a};c.isEmpty=function(a){return a||0===a?q(a)&&0===a.length?!0:!1:!0};c.blockParams=function(a,b){return a.path=b,a};c.appendContextPath=function(a,b){return(a?a+".":"")+b};var k={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;"},l=/[&<>"'`]/g,p=/[&<>"'`]/,m=Object.prototype.toString;c.toString=m;a=function(a){return"function"==typeof a};a(/x/)&&(c.isFunction=a=function(a){return"function"==typeof a&&"[object Function]"===m.call(a)});
c.isFunction=a;var q=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===m.call(a):!1};c.isArray=q},function(a,c,b){function k(a,h,b,c,k,m,l){function r(h,k){k=void 0===k?{}:k;return b.call(a,h,a.helpers,a.partials,k.data||c,m&&[k.blockParams].concat(m),l&&[h].concat(l))}return r.program=h,r.depth=l?l.length:0,r.blockParams=k||0,r}a=b(7)["default"];c.__esModule=!0;c.checkRevision=function(a){var h=a&&a[0]||1,b=m.COMPILER_REVISION;if(h!==b){if(b>h)throw new p["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
m.REVISION_CHANGES[b]+") or downgrade your runtime to an older version ("+m.REVISION_CHANGES[h]+").");throw new p["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};c.template=function(a,h){function b(h,k){k=void 0===k?{}:k;var l=k.data;b._setup(k);if(!k.partial&&a.useData)var r=l,l=(r&&"root"in r||(r=r?m.createFrame(r):{},r.root=h),r);var r=void 0,p=a.useBlockParams?[]:void 0;return a.useDepths&&
(r=k.depths?[h].concat(k.depths):[h]),a.main.call(c,h,c.helpers,c.partials,l,p,r)}if(!h)throw new p["default"]("No environment passed to template");if(!a||!a.main)throw new p["default"]("Unknown template object: "+typeof a);h.VM.checkRevision(a.compiler);var c={strict:function(a,h){if(!(h in a))throw new p["default"]('"'+h+'" not defined in '+a);return a[h]},lookup:function(a,h){for(var b=a.length,c=0;b>c;c++)if(a[c]&&null!=a[c][h])return a[c][h]},lambda:function(a,h){return"function"==typeof a?a.call(h):
a},escapeExpression:l.escapeExpression,invokePartial:function(b,c,k){k.hash&&(c=l.extend({},c,k.hash));b=h.VM.resolvePartial.call(this,b,c,k);var n=h.VM.invokePartial.call(this,b,c,k);if(null==n&&h.compile&&(k.partials[k.name]=h.compile(b,a.compilerOptions,h),n=k.partials[k.name](c,k)),null!=n){if(k.indent){b=n.split("\n");c=0;for(n=b.length;n>c&&(b[c]||c+1!==n);c++)b[c]=k.indent+b[c];n=b.join("\n")}return n}throw new p["default"]("The partial "+k.name+" could not be compiled when running in runtime-only mode");
},fn:function(h){return a[h]},programs:[],program:function(a,h,b,c,n){var m=this.programs[a],l=this.fn(a);return h||n||c||b?m=k(this,a,l,h,b,c,n):m||(m=this.programs[a]=k(this,a,l)),m},data:function(a,h){for(;a&&h--;)a=a._parent;return a},merge:function(a,h){var b=a||h;return a&&h&&a!==h&&(b=l.extend({},h,a)),b},noop:h.VM.noop,compilerInfo:a.compiler};return b.isTop=!0,b._setup=function(b){b.partial?(c.helpers=b.helpers,c.partials=b.partials):(c.helpers=c.merge(b.helpers,h.helpers),a.usePartial&&
(c.partials=c.merge(b.partials,h.partials)))},b._child=function(h,b,n,m){if(a.useBlockParams&&!n)throw new p["default"]("must pass block params");if(a.useDepths&&!m)throw new p["default"]("must pass parent depths");return k(c,h,a[h],b,0,n,m)},b};c.wrapProgram=k;c.resolvePartial=function(a,h,b){return a?a.call||b.name||(b.name=a,a=b.partials[a]):a=b.partials[b.name],a};c.invokePartial=function(a,h,b){if(b.partial=!0,void 0===a)throw new p["default"]("The partial "+b.name+" could not be found");return a instanceof
Function?a(h,b):void 0};c.noop=function(){return""};c=b(11);var l=a(c);c=b(10);var p=a(c),m=b(8)},function(a,c){c.__esModule=!0;var b=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,
closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,
mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",
5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,
1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,
1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(a,b,h,c,k,l){a=l.length-1;switch(k){case 1:return l[a-1];case 2:this.$=new c.Program(l[a],null,{},c.locInfo(this._$));break;case 3:this.$=l[a];break;case 4:this.$=l[a];break;case 5:this.$=l[a];break;case 6:this.$=l[a];break;case 7:this.$=l[a];break;case 8:this.$=new c.CommentStatement(c.stripComment(l[a]),c.stripFlags(l[a],l[a]),c.locInfo(this._$));break;case 9:this.$=new c.ContentStatement(l[a],
c.locInfo(this._$));break;case 10:this.$=c.prepareRawBlock(l[a-2],l[a-1],l[a],this._$);break;case 11:this.$={path:l[a-3],params:l[a-2],hash:l[a-1]};break;case 12:this.$=c.prepareBlock(l[a-3],l[a-2],l[a-1],l[a],!1,this._$);break;case 13:this.$=c.prepareBlock(l[a-3],l[a-2],l[a-1],l[a],!0,this._$);break;case 14:this.$={path:l[a-4],params:l[a-3],hash:l[a-2],blockParams:l[a-1],strip:c.stripFlags(l[a-5],l[a])};break;case 15:this.$={path:l[a-4],params:l[a-3],hash:l[a-2],blockParams:l[a-1],strip:c.stripFlags(l[a-
5],l[a])};break;case 16:this.$={path:l[a-4],params:l[a-3],hash:l[a-2],blockParams:l[a-1],strip:c.stripFlags(l[a-5],l[a])};break;case 17:this.$={strip:c.stripFlags(l[a-1],l[a-1]),program:l[a]};break;case 18:k=c.prepareBlock(l[a-2],l[a-1],l[a],l[a],!1,this._$);c=new c.Program([k],null,{},c.locInfo(this._$));c.chained=!0;this.$={strip:l[a-2].strip,program:c,chain:!0};break;case 19:this.$=l[a];break;case 20:this.$={path:l[a-1],strip:c.stripFlags(l[a-2],l[a])};break;case 21:this.$=c.prepareMustache(l[a-
3],l[a-2],l[a-1],l[a-4],c.stripFlags(l[a-4],l[a]),this._$);break;case 22:this.$=c.prepareMustache(l[a-3],l[a-2],l[a-1],l[a-4],c.stripFlags(l[a-4],l[a]),this._$);break;case 23:this.$=new c.PartialStatement(l[a-3],l[a-2],l[a-1],c.stripFlags(l[a-4],l[a]),c.locInfo(this._$));break;case 24:this.$=l[a];break;case 25:this.$=l[a];break;case 26:this.$=new c.SubExpression(l[a-3],l[a-2],l[a-1],c.locInfo(this._$));break;case 27:this.$=new c.Hash(l[a],c.locInfo(this._$));break;case 28:this.$=new c.HashPair(c.id(l[a-
2]),l[a],c.locInfo(this._$));break;case 29:this.$=c.id(l[a-1]);break;case 30:this.$=l[a];break;case 31:this.$=l[a];break;case 32:this.$=new c.StringLiteral(l[a],c.locInfo(this._$));break;case 33:this.$=new c.NumberLiteral(l[a],c.locInfo(this._$));break;case 34:this.$=new c.BooleanLiteral(l[a],c.locInfo(this._$));break;case 35:this.$=new c.UndefinedLiteral(c.locInfo(this._$));break;case 36:this.$=new c.NullLiteral(c.locInfo(this._$));break;case 37:this.$=l[a];break;case 38:this.$=l[a];break;case 39:this.$=
c.preparePath(!0,l[a],this._$);break;case 40:this.$=c.preparePath(!1,l[a],this._$);break;case 41:l[a-2].push({part:c.id(l[a]),original:l[a],separator:l[a-1]});this.$=l[a-2];break;case 42:this.$=[{part:c.id(l[a]),original:l[a]}];break;case 43:this.$=[];break;case 44:l[a-1].push(l[a]);break;case 45:this.$=[];break;case 46:l[a-1].push(l[a]);break;case 53:this.$=[];break;case 54:l[a-1].push(l[a]);break;case 59:this.$=[];break;case 60:l[a-1].push(l[a]);break;case 65:this.$=[];break;case 66:l[a-1].push(l[a]);
break;case 73:this.$=[];break;case 74:l[a-1].push(l[a]);break;case 77:this.$=[];break;case 78:l[a-1].push(l[a]);break;case 81:this.$=[];break;case 82:l[a-1].push(l[a]);break;case 85:this.$=[];break;case 86:l[a-1].push(l[a]);break;case 89:this.$=[l[a]];break;case 90:l[a-1].push(l[a]);break;case 91:this.$=[l[a]];break;case 92:l[a-1].push(l[a])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,
12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,
5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],
80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,
9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],
59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,
34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,
40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],
66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],
66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],
78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,
10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,
65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},
{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,
41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],
75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],
59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],
53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,
29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],
49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],
27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(a){throw Error(a);},parse:function(a){var b=[0],
h=[null],c=[],k=this.table,l="",p=0,z=0,r=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;c.push(a);var C=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var A,w,B,E,D,F,H,G,L={};;){B=b[b.length-1];if(this.defaultActions[B])E=this.defaultActions[B];else{if(null===A||"undefined"==typeof A)E=void 0,
A=(E=this.lexer.lex()||1,"number"!=typeof E&&(E=this.symbols_[E]||E),E);E=k[B]&&k[B][A]}if("undefined"==typeof E||!E.length||!E[0]){var I;if(!r){G=[];for(F in k[B])this.terminals_[F]&&2<F&&G.push("'"+this.terminals_[F]+"'");I=this.lexer.showPosition?"Parse error on line "+(p+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+G.join(", ")+", got '"+(this.terminals_[A]||A)+"'":"Parse error on line "+(p+1)+": Unexpected "+(1==A?"end of input":"'"+(this.terminals_[A]||A)+"'");this.parseError(I,{text:this.lexer.match,
token:this.terminals_[A]||A,line:this.lexer.yylineno,loc:a,expected:G})}}if(E[0]instanceof Array&&1<E.length)throw Error("Parse Error: multiple actions possible at state: "+B+", token: "+A);switch(E[0]){case 1:b.push(A);h.push(this.lexer.yytext);c.push(this.lexer.yylloc);b.push(E[1]);A=null;w?(A=w,w=null):(z=this.lexer.yyleng,l=this.lexer.yytext,p=this.lexer.yylineno,a=this.lexer.yylloc,0<r&&r--);break;case 2:if(H=this.productions_[E[1]][1],L.$=h[h.length-H],L._$={first_line:c[c.length-(H||1)].first_line,
last_line:c[c.length-1].last_line,first_column:c[c.length-(H||1)].first_column,last_column:c[c.length-1].last_column},C&&(L._$.range=[c[c.length-(H||1)].range[0],c[c.length-1].range[1]]),D=this.performAction.call(L,l,z,p,this.yy,E[1],h,c),"undefined"!=typeof D)return D;H&&(b=b.slice(0,-2*H),h=h.slice(0,-1*H),c=c.slice(0,-1*H));b.push(this.productions_[E[1]][0]);h.push(L.$);c.push(L._$);B=k[b[b.length-2]][b[b.length-1]];b.push(B);break;case 3:return!0}}}},c=function(){var a={EOF:1,parseError:function(a,
h){if(!this.yy.parser)throw Error(a);this.yy.parser.parseError(a,h)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;return a.match(/(?:\r\n?|\n).*/g)?
(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var h=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-h-1);this.offset-=h;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var c=this.yylloc.range;
return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[c[0],c[0]+this.yyleng-h]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);
return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return 20>a.length&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),h=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+h+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,h,b,c,k;this._more||(this.yytext="",this.match="");for(var m=this._currentRules(),
l=0;l<m.length&&(b=this._input.match(this.rules[m[l]]),!b||h&&!(b[0].length>h[0].length)||(h=b,c=l,this.options.flex));l++);return h?(k=h[0].match(/(?:\r\n?|\n).*/g),k&&(this.yylineno+=k.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.matches=h,this.yyleng=this.yytext.length,this.options.ranges&&
(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],a=this.performAction.call(this,this.yy,this,m[c],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=
typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,h,b,c){function k(a,b){return h.yytext=h.yytext.substr(a,h.yyleng-b)}switch(b){case 0:if("\\\\"===h.yytext.slice(-2)?
(k(0,1),this.begin("mu")):"\\"===h.yytext.slice(-1)?(k(0,1),this.begin("emu")):this.begin("mu"),h.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return h.yytext=h.yytext.substr(5,h.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),
42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(h.yytext);this.popState();this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return h.yytext=k(1,2).replace(/\\"/g,'"'),74;case 30:return h.yytext=k(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;
case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,
/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,
/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();c["default"]=b;a.exports=c["default"]},function(a,c,b){function k(){}
function l(a,h,b){void 0===h&&(h=a.length);var c=a[h-1];a=a[h-2];return c?"ContentStatement"===c.type?(a||!b?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(c.original):void 0:b}function p(a,h,b){void 0===h&&(h=-1);var c=a[h+1];a=a[h+2];return c?"ContentStatement"===c.type?(a||!b?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(c.original):void 0:b}function m(a,h,b){!(a=a[null==h?0:h+1])||"ContentStatement"!==a.type||!b&&a.rightStripped||(h=a.value,a.value=a.value.replace(b?/^\s+/:/^[ \t]*\r?\n?/,""),a.rightStripped=a.value!==
h)}function q(a,h,b){if((a=a[null==h?a.length-1:h-1])&&"ContentStatement"===a.type&&(b||!a.leftStripped))return h=a.value,a.value=a.value.replace(b?/\s+$/:/[ \t]+$/,""),a.leftStripped=a.value!==h,a.leftStripped}var h=b(7)["default"];c.__esModule=!0;b=b(6);h=h(b);k.prototype=new h["default"];k.prototype.Program=function(a){var h=!this.isRootSeen;this.isRootSeen=!0;for(var b=a.body,c=0,k=b.length;k>c;c++){var r=b[c],C=this.accept(r);if(C){var A=l(b,c,h),w=p(b,c,h),B=C.openStandalone&&A,E=C.closeStandalone&&
w,A=C.inlineStandalone&&A&&w;C.close&&m(b,c,!0);C.open&&q(b,c,!0);A&&(m(b,c),q(b,c)&&"PartialStatement"===r.type&&(r.indent=/([ \t]+$)/.exec(b[c-1].original)[1]));B&&(m((r.program||r.inverse).body),q(b,c));E&&(m(b,c),q((r.inverse||r.program).body))}}return a};k.prototype.BlockStatement=function(a){this.accept(a.program);this.accept(a.inverse);var h=a.program||a.inverse,b=a.program&&a.inverse,c=b,k=b;if(b&&b.chained)for(c=b.body[0].program;k.chained;)k=k.body[k.body.length-1].program;var r={open:a.openStrip.open,
close:a.closeStrip.close,openStandalone:p(h.body),closeStandalone:l((c||h).body)};(a.openStrip.close&&m(h.body,null,!0),b)?(b=a.inverseStrip,b.open&&q(h.body,null,!0),b.close&&m(c.body,null,!0),a.closeStrip.open&&q(k.body,null,!0),l(h.body)&&p(c.body)&&(q(h.body),m(c.body))):a.closeStrip.open&&q(h.body,null,!0);return r};k.prototype.MustacheStatement=function(a){return a.strip};k.prototype.PartialStatement=k.prototype.CommentStatement=function(a){a=a.strip||{};return{inlineStandalone:!0,open:a.open,
close:a.close}};c["default"]=k;a.exports=c["default"]},function(a,c,b){a=b(7)["default"];c.__esModule=!0;c.SourceLocation=function(a,b){this.source=a;this.start={line:b.first_line,column:b.first_column};this.end={line:b.last_line,column:b.last_column}};c.id=function(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a};c.stripFlags=function(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}};c.stripComment=function(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")};
c.preparePath=function(a,b,c){c=this.locInfo(c);for(var q=a?"@":"",h=[],n=0,t=0,y=b.length;y>t;t++){var x=b[t].part,z=b[t].original!==x;if(q+=(b[t].separator||"")+x,z||".."!==x&&"."!==x&&"this"!==x)h.push(x);else{if(0<h.length)throw new k["default"]("Invalid path: "+q,{loc:c});".."===x&&n++}}return new this.PathExpression(a,n,h,q,c)};c.prepareMustache=function(a,b,c,k,h,n){k=k.charAt(3)||k.charAt(2);return new this.MustacheStatement(a,b,c,"{"!==k&&"\x26"!==k,h,this.locInfo(n))};c.prepareRawBlock=
function(a,b,c,q){if(a.path.original!==c)throw new k["default"](a.path.original+" doesn't match "+c,{loc:a.path.loc});q=this.locInfo(q);b=new this.Program([b],null,{},q);return new this.BlockStatement(a.path,a.params,a.hash,b,void 0,{},{},{},q)};c.prepareBlock=function(a,b,c,q,h,n){if(q&&q.path&&a.path.original!==q.path.original)throw new k["default"](a.path.original+" doesn't match "+q.path.original,{loc:a.path.loc});b.blockParams=a.blockParams;var t=void 0,y=void 0;return c&&(c.chain&&(c.program.body[0].closeStrip=
q.strip),y=c.strip,t=c.program),h&&(h=t,t=b,b=h),new this.BlockStatement(a.path,a.params,a.hash,b,t,a.strip,y,q&&q.strip,this.locInfo(n))};c=b(10);var k=a(c)},function(a,c,b){function k(a,h,b){if(p.isArray(a)){for(var c=[],k=0,m=a.length;m>k;k++)c.push(h.wrap(a[k],b));return c}return"boolean"==typeof a||"number"==typeof a?a+"":a}function l(a){this.srcFile=a;this.source=[]}c.__esModule=!0;var p=b(11),m=void 0,m=function(a,h,b,c){this.src="";c&&this.add(c)};m.prototype={add:function(a){p.isArray(a)&&
(a=a.join(""));this.src+=a},prepend:function(a){p.isArray(a)&&(a=a.join(""));this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};l.prototype={prepend:function(a,h){this.source.unshift(this.wrap(a,h))},push:function(a,h){this.source.push(this.wrap(a,h))},merge:function(){var a=this.empty();return this.each(function(h){a.add(["  ",h,"\n"])}),a},each:function(a){for(var h=0,b=this.source.length;b>h;h++)a(this.source[h])},empty:function(a){a=
void 0===a?this.currentLocation||{start:{}}:a;return new m(a.start.line,a.start.column,this.srcFile)},wrap:function(a,h){h=void 0===h?this.currentLocation||{start:{}}:h;return a instanceof m?a:(a=k(a,this,h),new m(h.start.line,h.start.column,this.srcFile,a))},functionCall:function(a,h,b){return b=this.generateList(b),this.wrap([a,h?"."+h+"(":"(",b,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,
"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var h=[],b;for(b in a)if(a.hasOwnProperty(b)){var c=k(a[b],this);"undefined"!==c&&h.push([this.quotedString(b),":",c])}a=this.generateList(h);return a.prepend("{"),a.add("}"),a},generateList:function(a,h){for(var b=this.empty(h),c=0,m=a.length;m>c;c++)c&&b.add(","),b.add(k(a[c],this,h));return b},generateArray:function(a,h){a=this.generateList(a,h);return a.prepend("["),a.add("]"),a}};c["default"]=l;a.exports=c["default"]}])});
(function(a){a.fn.extend({isInViewport:function(c){var b=a(this),k=b.offset();c||(c=0);var l=a(window),p=l.scrollTop();if(k.top-c<p){if(!(k.top+b.height()+c>=p))return!1}else if(!(k.top-c<=p+l.height()))return!1;p=l.scrollLeft();if(k.left-c<p){if(!(k.left+b.width()+c>=p))return!1}else if(!(k.left-c<=p+l.width()))return!1;return!0},disable:function(c){var b=a(this);b.prop("disabled",!0);b.addClass("disabled-element");c&&b.find("*").prop("disabled",!0);return b},enable:function(c){var b=a(this);b.prop("disabled",
!1);b.removeClass("disabled-element");c&&b.find("*").prop("disabled",!1);return b},isDisabled:function(){var c=a(this);return c.hasClass("disabled-element")||c.prop("disabled")||c.hasClass("submit-disabled")},checked:function(c){var b=a(this);if("boolean"==a.type(c))b.prop("checked",c);else return b.prop("checked")},value:function(c){var b=a(this);return void 0!==c&&null!==c?b.val(c):b.val()},style:a.fn.css,data:function(c,b,k){var l,p;void 0===b?(l=this.data_super.apply(this,arguments),p=this.attr("data-"+
c),void 0!==p&&p!=""+l&&(p="true"===p?!0:"false"===p?!1:"null"===p?null:+p+""===p?+p:p,this.data_super.call(this,c,p),l=p)):(p=this.data_super.call(this,c),l=this.data_super.apply(this,arguments),void 0!==this.attr("data-"+c)&&"function"!=a.type(b)&&"object"!=a.type(b)&&"array"!=a.type(b)&&this.attr("data-"+c,b),k||this.trigger("changeData",{property:c,oldValue:p,newValue:b}));return l},data_super:a.fn.data,centerInWindow:function(){this.css("position","absolute");this.css("top",Math.max(0,(a(window).height()-
a(this).outerHeight())/2+a(window).scrollTop())+"px");this.css("left",Math.max(0,(a(window).width()-a(this).outerWidth())/2+a(window).scrollLeft())+"px");return this},centerInParent:function(){var c=this[0].parentNode;this.css("position","absolute");this.css("top",Math.max(0,(a(c).height()-a(this).outerHeight())/2+a(c).scrollTop())+"px");this.css("left",Math.max(0,(a(c).width()-a(this).outerWidth())/2+a(c).scrollLeft())+"px");return this},isDisplayed:function(){return"none"!=a(this).css("display")}})})(jQuery);
(function(a){var c={base:Handlebars.compile('\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" class\x3d"svgMask" width\x3d"{{width}}" height\x3d"{{height}}" viewBox\x3d"0 0 {{width}} {{height}}" style\x3d"top: {{top}}px; left: {{left}}px;"\x3e\x3cdefs\x3e\x3cclipPath id\x3d"{{maskID}}"\x3e{{{shape}}}\x3c/clipPath\x3e\x3c/defs\x3e\x3cdesc\x3e{{altText}}\x3c/desc\x3e\x3cimage {{#if options.preserveAspectRatio}}preserveAspectRatio\x3d"{{options.preserveAspectRatio}}"{{/if}} clip-path\x3d"url(#{{maskID}})" width\x3d"{{width}}" height\x3d"{{height}}" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"{{src}}"\x3e\x3c/image\x3e\x3c/svg\x3e'),
shapes:{circle:Handlebars.compile('\x3ccircle cx\x3d"{{x}}" cy\x3d"{{y}}" r\x3d"{{radius}}"\x3e\x3c/circle\x3e'),star:function(a){return b(a)}}};a.fn.maskImage=function(b){var l=DKI.applyIf(b,{preserveAspectRatio:!1});a.each(this,function(){var b=a(this),k=b.data("mask");if(k&&""!=k.type){var q=b.position(),h={src:b.data("src"),width:b.width(),height:b.height(),top:q.top,left:q.left,altText:b.attr("alt")?b.attr("alt"):b.attr("title")?b.attr("title"):"",maskID:b.attr("id")+"_mask",options:l};if("star"==
k.type||"sun"==k.type){var n=(h.width<h.height?h.width/2:h.height/2)*k.scale,t=n;"middle"==k.alignment.horizontal?t=h.width/2:"right"==k.alignment.horizontal&&(t=h.width-n);var y=n;"middle"==k.alignment.vertical?y=h.height/2:"bottom"==k.alignment.vertical&&(y=h.height-n);k=c.shapes.star({x:t,y:y,outerRadius:n,innerRadius:"star"==k.type?.45*n:.9*n,points:"star"==k.type?5:15,centrepoint:t>y?t+n/2:y+n/2})}else t=n=(h.width<h.height?h.width/2:h.height/2)*k.scale,"middle"==k.alignment.horizontal?t=h.width/
2:"right"==k.alignment.horizontal&&(t=h.width-n),y=n,"middle"==k.alignment.vertical?y=h.height/2:"bottom"==k.alignment.vertical&&(y=h.height-n),k=c.shapes[k.type](DKI.applyIf({x:t,y:y,radius:n},h,!0));h.shape=k;k=a(c.base(h));b.parent().find(".svgMask").remove();b.addClass("masked").after(k);k.attr("style",b.attr("style"));delete b;q;h;k}});return this};a.fn.removeMask=function(){this.parent().find(".svgMask").remove();this.parent().find(".masked").removeClass("masked");return this};var b=function(a){var b=
function(a,h,b,c){a=(a+"").replace(/[^0-9+\-Ee.]/g,"");a=isFinite(+a)?+a:0;h=isFinite(+h)?Math.abs(h):0;c="undefined"===typeof c?",":c;b="undefined"===typeof b?".":b;var k="",k=function(a,h){h=Math.pow(10,h);return""+Math.round(a*h)/h},k=(h?k(a,h):""+Math.round(a)).split(".");3<k[0].length&&(k[0]=k[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c));(k[1]||"").length<h&&(k[1]=k[1]||"",k[1]+=Array(h-k[1].length+1).join("0"));return k.join(b)},c=a.centrepoint,m=a.outerRadius,q=a.innerRadius,h=a.points,n=a.x;a=
a.y;var t='\x3cpath d\x3d"',y=Math.PI/h,x=0,z=0,r=0,C="",A=0;for(i=0;i<=2*Math.PI;i+=y)0===z?(r=q,z=1):(r=m,z=0),A=i,C=0==x?"M":"L",xsvg=b(r*Math.sin(i)+c,3,".",""),ysvg=b(r*Math.cos(A)+c,3,".",""),xresult=b(r*Math.sin(i)+parseFloat(n),3,".",""),yresult=b(r*Math.cos(A)+parseFloat(a),3,".",""),t+=C+" "+xresult+" "+yresult,x++;0===h%2&&(t+="z");return t+'"/\x3e'}})(jQuery);
(function(a){a.fn.fontFlex=function(c,b,k){var l=this;a(window).resize(function(){var a=window.innerWidth/k;a<parseInt(c,10)&&(a=parseInt(c,10));a>parseInt(b,10)&&(a=parseInt(b,10));l.css("font-size",a+"px")}).trigger("resize")}})(jQuery);
!function(a){function c(b,c,p,m){var q=b.text();c=q.split(c);var h="";c.length&&(a(c).each(function(a,b){h+='\x3cspan class\x3d"'+p+(a+1)+'" aria-hidden\x3d"true"\x3e'+b+"\x3c/span\x3e"+m}),b.attr("aria-label",q).empty().append(h))}var b={init:function(){return this.each(function(){c(a(this),"","char","")})},words:function(){return this.each(function(){c(a(this)," ","word"," ")})},lines:function(){return this.each(function(){c(a(this).find("br").replaceWith("eefec303079ad17405c889e092e105b0").end(),
"eefec303079ad17405c889e092e105b0","line","\x3cbr /\x3e")})}};a.fn.lettering=function(c){return c&&b[c]?b[c].apply(this,[].slice.call(arguments,1)):"letters"!==c&&c?(a.error("Method "+c+" does not exist on jQuery.lettering"),this):b.init.apply(this,[].slice.call(arguments,0))}}(jQuery);
(function(a){function c(h,b){return/In/.test(h)||0<=a.inArray(h,b.inEffects)}function b(h,b){return/Out/.test(h)||0<=a.inArray(h,b.outEffects)}function k(a){return"true"!==a&&"false"!==a?a:"true"===a}function l(h){h=h.attributes||[];var b={};if(!h.length)return b;a.each(h,function(a,h){a=h.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(a)?(b.in=b.in||{},b.in[a.replace(/data-in-/,"")]=k(h.nodeValue)):/^data-out-*/.test(a)?(b.out=b.out||{},b.out[a.replace(/data-out-/,"")]=k(h.nodeValue)):
/^data-*/.test(a)&&(b[a.replace(/data-/,"")]=k(h.nodeValue))});return b}function p(a){for(var h,b,c=a.length;c;h=parseInt(Math.random()*c),b=a[--c],a[c]=a[h],a[h]=b);return a}function m(a,h,b){a.addClass("animated "+h).css("visibility","visible").show();a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.removeClass("animated "+h);b&&b()})}function q(h,k,l){var x=h.length;x?(k.shuffle&&(h=p(h)),k.reverse&&(h=h.toArray().reverse()),a.each(h,function(h,
n){function p(){c(k.effect,k)?q.css("visibility","visible"):b(k.effect,k)&&q.css("visibility","hidden");--x;!x&&l&&l()}var q=a(n);h=k.sync?k.delay:k.delay*h*k.delayScale;q.text()?setTimeout(function(){m(q,k.effect,p)},h):p()})):l&&l()}var h=function(h,k){var m=this,p=a(h);m.init=function(){m.$texts=p.find(k.selector);m.$texts.length||(m.$texts=a('\x3cul class\x3d"texts"\x3e\x3cli\x3e'+p.html()+"\x3c/li\x3e\x3c/ul\x3e"),p.html(m.$texts));m.$texts.hide();m.$current=a("\x3cspan\x3e").html(m.$texts.find(":first-child").html()).prependTo(p);
c(k.in.effect,k)?m.$current.css("visibility","hidden"):b(k.out.effect,k)&&m.$current.css("visibility","visible");m.setOptions(k);m.timeoutRun=null;setTimeout(function(){m.options.autoStart&&m.start()},m.options.initialDelay)};m.setOptions=function(a){m.options=a};m.triggerEvent=function(h){h=a.Event(h+".tlt");p.trigger(h,m);return h};m.in=function(h,k){h=h||0;var n=m.$texts.find(":nth-child("+((h||0)+1)+")"),t=a.extend(!0,{},m.options,n.length?l(n[0]):{});n.addClass("current");m.triggerEvent("inAnimationBegin");
m.$current.html(n.html()).lettering("lines");m.$current.find("span").each(function(){a(this).lettering("words")});"char"==m.options.type&&m.$current.find('[class^\x3d"word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){a(this).lettering()});n=m.$current.find('[class^\x3d"'+m.options.type+'"]').css("display","inline-block");c(t.in.effect,t)?n.css("visibility",
"hidden"):b(t.in.effect,t)&&n.css("visibility","visible");m.currentIndex=h;q(n,t.in,function(){m.triggerEvent("inAnimationEnd");t.in.callback&&t.in.callback();k&&k(m)})};m.out=function(h){var b=m.$texts.find(":nth-child("+((m.currentIndex||0)+1)+")"),c=m.$current.find('[class^\x3d"'+m.options.type+'"]'),k=a.extend(!0,{},m.options,b.length?l(b[0]):{});m.triggerEvent("outAnimationBegin");q(c,k.out,function(){b.removeClass("current");m.triggerEvent("outAnimationEnd");k.out.callback&&k.out.callback();
h&&h(m)})};m.start=function(a){setTimeout(function(){m.triggerEvent("start");(function C(a){m.in(a,function(){var h=m.$texts.children().length;a+=1;!m.options.loop&&a>=h?(m.options.callback&&m.options.callback(),m.triggerEvent("end")):(a%=h,m.timeoutRun=setTimeout(function(){m.out(function(){C(a)})},m.options.minDisplayTime))})})(a||0)},m.options.initialDelay)};m.stop=function(){m.timeoutRun&&(clearInterval(m.timeoutRun),m.timeoutRun=null)};m.init()};a.fn.textillate=function(b,c){return this.each(function(){var k=
a(this),m=k.data("textillate"),p=a.extend(!0,{},a.fn.textillate.defaults,l(this),"object"==typeof b&&b);m?"string"==typeof b?m[b].apply(m,[].concat(c)):m.setOptions.call(m,p):k.data("textillate",new h(this,p))})};a.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2E3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,
inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}})(jQuery);
!function(a){function c(a){var h=a.length,c=b.type(a);return"function"!==c&&!b.isWindow(a)&&(!(1!==a.nodeType||!h)||"array"===c||0===h||"number"==typeof h&&0<h&&h-1 in a)}if(!a.jQuery){var b=function(a,h){return new b.fn.init(a,h)};b.isWindow=function(a){return a&&a===a.window};b.type=function(a){return a?"object"==typeof a||"function"==typeof a?l[m.call(a)]||"object":typeof a:a+""};b.isArray=Array.isArray||function(a){return"array"===b.type(a)};b.isPlainObject=function(a){var h;if(!a||"object"!==
b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!p.call(a,"constructor")&&!p.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(h in a);return void 0===h||p.call(a,h)};b.each=function(a,h,b){var k,m=0,r=a.length,l=c(a);if(b)if(l)for(;m<r&&(k=h.apply(a[m],b),!1!==k);m++);else for(m in a){if(k=h.apply(a[m],b),!1===k)break}else if(l)for(;m<r&&(k=h.call(a[m],m,a[m]),!1!==k);m++);else for(m in a)if(k=h.call(a[m],m,a[m]),!1===k)break;return a};b.data=function(a,
h,c){if(void 0===c){c=(c=a[b.expando])&&k[c];if(void 0===h)return c;if(c&&h in c)return c[h]}else if(void 0!==h)return a=a[b.expando]||(a[b.expando]=++b.uuid),k[a]=k[a]||{},k[a][h]=c,c};b.removeData=function(a,h){var c=(a=a[b.expando])&&k[a];c&&(h?b.each(h,function(a,h){delete c[h]}):delete k[a])};b.extend=function(){var a,h,c,k,m,r,l=arguments[0]||{},p=1,w=arguments.length,q=!1;"boolean"==typeof l&&(q=l,l=arguments[p]||{},p++);"object"!=typeof l&&"function"!==b.type(l)&&(l={});for(p===w&&(l=this,
p--);p<w;p++)if(m=arguments[p])for(k in m)a=l[k],c=m[k],l!==c&&(q&&c&&(b.isPlainObject(c)||(h=b.isArray(c)))?(h?(h=!1,r=a&&b.isArray(a)?a:[]):r=a&&b.isPlainObject(a)?a:{},l[k]=b.extend(q,r,c)):void 0!==c&&(l[k]=c));return l};b.queue=function(a,h,k){function m(a,h){h=h||[];if(a)if(c(Object(a))){a="string"==typeof a?[a]:a;for(var b=+a.length,k=0,n=h.length;k<b;)h[n++]=a[k++];if(b!==b)for(;void 0!==a[k];)h[n++]=a[k++];a=(h.length=n,h);!a}else[].push.call(h,a);return h}if(a){h=(h||"fx")+"queue";var l=
b.data(a,h);return k?(!l||b.isArray(k)?l=b.data(a,h,m(k)):l.push(k),l):l||[]}};b.dequeue=function(a,h){b.each(a.nodeType?[a]:a,function(a,c){h=h||"fx";a=b.queue(c,h);var k=a.shift();"inprogress"===k&&(k=a.shift());k&&("fx"===h&&a.unshift("inprogress"),k.call(c,function(){b.dequeue(c,h)}))})};b.fn=b.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw Error("Not a DOM node.");},offset:function(){var h=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:h.top+
(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:h.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var a=this[0],h;for(h=a.offsetParent||document;h&&"html"!==h.nodeType.toLowerCase&&"static"===h.style.position;)h=h.offsetParent;h=h||document;var c=this.offset(),k=/^(?:body|html)$/i.test(h.nodeName)?{top:0,left:0}:b(h).offset();return c.top-=parseFloat(a.style.marginTop)||0,c.left-=parseFloat(a.style.marginLeft)||0,h.style&&(k.top+=parseFloat(h.style.borderTopWidth)||
0,k.left+=parseFloat(h.style.borderLeftWidth)||0),{top:c.top-k.top,left:c.left-k.left}}};var k={};b.expando="velocity"+(new Date).getTime();b.uuid=0;for(var l={},p=l.hasOwnProperty,m=l.toString,q="Boolean Number String Function Array Date RegExp Object Error".split(" "),h=0;h<q.length;h++)l["[object "+q[h]+"]"]=q[h].toLowerCase();b.fn.init.prototype=b.fn;a.Velocity={Utilities:b}}}(window);
(function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()})(function(){return function(a,c,b,k){function l(a){for(var h=-1,b=a?a.length:0,c=[];++h<b;){var k=a[h];k&&c.push(k)}return c}function p(a){return C.isWrapped(a)?a=[].slice.call(a):C.isNode(a)&&(a=[a]),a}function m(a){a=x.data(a,"velocity");return null===a?k:a}function q(a){return function(h){return 1/a*Math.round(h*a)}}function h(a,h,b,k){function m(a,h,b){return(((1-
3*b+3*h)*a+(3*b-6*h))*a+3*h)*a}var n="Float32Array"in c;if(4!==arguments.length)return!1;for(var l=0;4>l;++l)if("number"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))return!1;a=Math.min(a,1);b=Math.min(b,1);a=Math.max(a,0);b=Math.max(b,0);var r=n?new Float32Array(11):Array(11),t=!1,n=function(c){if(!t&&(t=!0,a!==h||b!==k))for(var n=0;11>n;++n)r[n]=m(.1*n,a,b);if(a!==h||b!==k)if(0===c)c=0;else if(1===c)c=1;else{for(var l=0,n=1;10!==n&&r[n]<=c;++n)l+=.1;--n;var n=l+(c-r[n])/(r[n+
1]-r[n])*.1,p=3*(1-3*b+3*a)*n*n+2*(3*b-6*a)*n+3*a;if(.001<=p){for(l=0;4>l;++l){p=3*(1-3*b+3*a)*n*n+2*(3*b-6*a)*n+3*a;if(0===p)break;var x=m(n,a,b)-c,n=n-x/p}c=n}else if(0===p)c=n;else{var n=l,l=l+.1,w=0;do x=n+(l-n)/2,p=m(x,a,b)-c,0<p?l=x:n=x;while(1E-7<Math.abs(p)&&10>++w);c=x}c=m(c,h,k)}return c};n.getControlPoints=function(){return[{x:a,y:h},{x:b,y:k}]};var p="generateBezier("+[a,h,b,k]+")";return n.toString=function(){return p},n}function n(a,b){var c=a;return C.isString(a)?B.Easings[a]||(c=!1):
c=C.isArray(a)&&1===a.length?q.apply(null,a):C.isArray(a)&&2===a.length?E.apply(null,a.concat([b])):!(!C.isArray(a)||4!==a.length)&&h.apply(null,a),!1===c&&(c=B.Easings[B.defaults.easing]?B.defaults.easing:w),c}function t(a){if(a){a=(new Date).getTime();var h=B.State.calls.length;1E4<h&&(B.State.calls=l(B.State.calls),h=B.State.calls.length);for(var b=0;b<h;b++)if(B.State.calls[b]){var c=B.State.calls[b],n=c[0],r=c[2],p=c[3],w=!!p,q=null;p||(p=B.State.calls[b][3]=a-16);for(var z=Math.min((a-p)/r.duration,
1),A=0,F=n.length;A<F;A++){var E=n[A],Z=E.element;if(m(Z)){var X=!1;r.display!==k&&null!==r.display&&"none"!==r.display&&("flex"===r.display&&x.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,h){D.setPropertyValue(Z,"display",h)}),D.setPropertyValue(Z,"display",r.display));r.visibility!==k&&"hidden"!==r.visibility&&D.setPropertyValue(Z,"visibility",r.visibility);for(var aa in E)if("element"!==aa){var da,U=E[aa],ha=C.isString(U.easing)?B.Easings[U.easing]:U.easing;if(1===z)da=
U.endValue;else{var ia=U.endValue-U.startValue;if(da=U.startValue+ia*ha(z,r,ia),!w&&da===U.currentValue)continue}if(U.currentValue=da,"tween"===aa)q=da;else{var ga;D.Hooks.registered[aa]&&(ga=D.Hooks.getRoot(aa),(ha=m(Z).rootPropertyValueCache[ga])&&(U.rootPropertyValue=ha));U=D.setPropertyValue(Z,aa,U.currentValue+(0===parseFloat(da)?"":U.unitType),U.rootPropertyValue,U.scrollData);D.Hooks.registered[aa]&&(D.Normalizations.registered[ga]?m(Z).rootPropertyValueCache[ga]=D.Normalizations.registered[ga]("extract",
null,U[1]):m(Z).rootPropertyValueCache[ga]=U[1]);"transform"===U[0]&&(X=!0)}}r.mobileHA&&m(Z).transformCache.translate3d===k&&(m(Z).transformCache.translate3d="(0px, 0px, 0px)",X=!0);X&&D.flushTransformCache(Z)}}r.display!==k&&"none"!==r.display&&(B.State.calls[b][2].display=!1);r.visibility!==k&&"hidden"!==r.visibility&&(B.State.calls[b][2].visibility=!1);r.progress&&r.progress.call(c[1],c[1],z,Math.max(0,p+r.duration-a),p,q);1===z&&y(b)}}B.State.isTicking&&H(t)}function y(a,h){if(!B.State.calls[a])return!1;
for(var b=B.State.calls[a][0],c=B.State.calls[a][1],n=B.State.calls[a][2],l=B.State.calls[a][4],r=!1,t=0,p=b.length;t<p;t++){var w=b[t].element;h||n.loop||("none"===n.display&&D.setPropertyValue(w,"display",n.display),"hidden"===n.visibility&&D.setPropertyValue(w,"visibility",n.visibility));var q=m(w);if(!0!==n.loop&&(x.queue(w)[1]===k||!/\.velocityQueueEntryFlag/i.test(x.queue(w)[1]))&&q){q.isAnimating=!1;q.rootPropertyValueCache={};var y=!1;x.each(D.Lists.transforms3D,function(a,h){a=/^scale/.test(h)?
1:0;var b=q.transformCache[h];q.transformCache[h]!==k&&(new RegExp("^\\("+a+"[^.]")).test(b)&&(y=!0,delete q.transformCache[h])});n.mobileHA&&(y=!0,delete q.transformCache.translate3d);y&&D.flushTransformCache(w);D.Values.removeClass(w,"velocity-animating")}if(!h&&n.complete&&!n.loop&&t===p-1)try{n.complete.call(c,c)}catch(C){setTimeout(function(){throw C;},1)}l&&!0!==n.loop&&l(c);q&&!0===n.loop&&!h&&(x.each(q.tweensContainer,function(a,h){if(/^rotate/.test(a)&&0===(parseFloat(h.startValue)-parseFloat(h.endValue))%
360){var b=h.startValue;h.startValue=h.endValue;h.endValue=b}/^backgroundPosition/.test(a)&&100===parseFloat(h.endValue)&&"%"===h.unitType&&(h.endValue=0,h.startValue=100)}),B(w,"reverse",{loop:!0,delay:n.delay}));!1!==n.queue&&x.dequeue(w,n.queue)}B.State.calls[a]=!1;a=0;for(h=B.State.calls.length;a<h;a++)if(!1!==B.State.calls[a]){r=!0;break}!1===r&&(B.State.isTicking=!1,delete B.State.calls,B.State.calls=[])}var x,z=function(){if(b.documentMode)return b.documentMode;for(var a=7;4<a;a--){var h=b.createElement("div");
if(h.innerHTML="\x3c!--[if IE "+a+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",h.getElementsByTagName("span").length)return a}return k}(),r=function(){var a=0;return c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||function(h){var b,c=(new Date).getTime();return b=Math.max(0,16-(c-a)),a=c+b,setTimeout(function(){h(c+b)},b)}}(),C={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===
Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==k&&(0===a.length||"object"==typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(a.jquery||c.Zepto&&c.Zepto.zepto.isZ(a))},isSVG:function(a){return c.SVGElement&&a instanceof c.SVGElement},isEmptyObject:function(a){for(var h in a)return!1;return!0}},A=!1;if(a.fn&&a.fn.jquery?
(x=a,A=!0):x=c.Velocity.Utilities,8>=z&&!A)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=z)return void(jQuery.fn.velocity=jQuery.fn.animate);var w="swing",B={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:c.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:b.createElement("div"),
prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:x,Redirects:{},Easings:{},Promise:c.Promise,defaults:{queue:"",duration:400,easing:w,begin:k,complete:k,progress:k,display:k,visibility:k,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){x.data(a,"velocity",{isSVG:C.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,
patch:0},debug:!1};c.pageYOffset!==k?(B.State.scrollAnchor=c,B.State.scrollPropertyLeft="pageXOffset",B.State.scrollPropertyTop="pageYOffset"):(B.State.scrollAnchor=b.documentElement||b.body.parentNode||b.body,B.State.scrollPropertyLeft="scrollLeft",B.State.scrollPropertyTop="scrollTop");var E=function(){function a(h,b,c){var k=h.v+c.dv*b;return{dx:k,dv:-h.tension*(h.x+c.dx*b)-h.friction*k}}function h(b,c){var k={dx:b.v,dv:-b.tension*b.x-b.friction*b.v},m=a(b,.5*c,k),n=a(b,.5*c,m),l=a(b,c,n),r=1/
6*(k.dv+2*(m.dv+n.dv)+l.dv);return b.x+=1/6*(k.dx+2*(m.dx+n.dx)+l.dx)*c,b.v+=r*c,b}return function N(a,b,c){var k,m,n,l={x:-1,v:0,tension:null,friction:null},r=[0],t=0;a=parseFloat(a)||500;b=parseFloat(b)||20;c=c||null;l.tension=a;l.friction=b;for((k=null!==c)?(t=N(a,b),m=t/c*.016):m=.016;n=h(n||l,m),r.push(1+n.x),t+=16,1E-4<Math.abs(n.x)&&1E-4<Math.abs(n.v););return k?function(a){return r[a*(r.length-1)|0]}:t}}();B.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/
2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}};x.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],
["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){B.Easings[b[0]]=h.apply(null,b[1])});var D=B.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,
valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur",
"black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<D.Lists.colors.length;a++)D.Hooks.templates[D.Lists.colors[a]]=["Red Green Blue Alpha","color"===D.Lists.colors[a]?"0 0 0 1":"255 255 255 1"];var h,b;if(z)for(h in D.Hooks.templates)b=D.Hooks.templates[h],a=b[0].split(" "),
b=b[1].match(D.RegEx.valueSplit),"Color"===a[0]&&(a.push(a.shift()),b.push(b.shift()),D.Hooks.templates[h]=[a.join(" "),b.join(" ")]);for(h in D.Hooks.templates){b=D.Hooks.templates[h];var a=b[0].split(" "),c;for(c in a)D.Hooks.registered[h+a[c]]=[h,c]}},getRoot:function(a){var h=D.Hooks.registered[a];return h?h[0]:a},cleanRootPropertyValue:function(a,h){return D.RegEx.valueUnwrap.test(h)&&(h=h.match(D.RegEx.valueUnwrap)[1]),D.Values.isCSSNullValue(h)&&(h=D.Hooks.templates[a][1]),h},extractValue:function(a,
h){if(a=D.Hooks.registered[a]){var b=a[1];return h=D.Hooks.cleanRootPropertyValue(a[0],h),h.toString().match(D.RegEx.valueSplit)[b]}return h},injectValue:function(a,h,b){if(a=D.Hooks.registered[a]){var c,k=a[1];return b=D.Hooks.cleanRootPropertyValue(a[0],b),c=b.toString().match(D.RegEx.valueSplit),c[k]=h,c.join(" ")}return b}},Normalizations:{registered:{clip:function(a,h,b){switch(a){case "name":return"clip";case "extract":var c;return D.RegEx.wrappedValueAlreadyExtracted.test(b)?c=b:(c=b.toString().match(D.RegEx.valueUnwrap),
c=c?c[1].replace(/,(\s+)?/g," "):b),c;case "inject":return"rect("+b+")"}},blur:function(a,h,b){switch(a){case "name":return B.State.isFirefox?"filter":"-webkit-filter";case "extract":return a=parseFloat(b),a||0===a||(a=(b=b.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?b[1]:0),a;case "inject":return parseFloat(b)?"blur("+b+")":"none"}},opacity:function(a,h,b){if(8>=z)switch(a){case "name":return"filter";case "extract":return(a=b.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return h.style.zoom=
1,1<=parseFloat(b)?"":"alpha(opacity\x3d"+parseInt(100*parseFloat(b),10)+")"}else switch(a){case "name":return"opacity";case "extract":return b;case "inject":return b}}},register:function(){z&&!(9<z)||B.State.isGingerbread||(D.Lists.transformsBase=D.Lists.transformsBase.concat(D.Lists.transforms3D));for(var a=0;a<D.Lists.transformsBase.length;a++)!function(){var h=D.Lists.transformsBase[a];D.Normalizations.registered[h]=function(a,b,c){switch(a){case "name":return"transform";case "extract":return m(b)===
k||m(b).transformCache[h]===k?/^scale/i.test(h)?1:0:m(b).transformCache[h].replace(/[()]/g,"");case "inject":a=!1;switch(h.substr(0,h.length-1)){case "translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(c);break;case "scal":case "scale":B.State.isAndroid&&m(b).transformCache[h]===k&&1>c&&(c=1);a=!/(\d)$/i.test(c);break;case "skew":a=!/(deg|\d)$/i.test(c);break;case "rotate":a=!/(deg|\d)$/i.test(c)}return a||(m(b).transformCache[h]="("+c+")"),m(b).transformCache[h]}}}();for(var h=0;h<D.Lists.colors.length;h++)!function(){var a=
D.Lists.colors[h];D.Normalizations.registered[a]=function(h,b,c){switch(h){case "name":return a;case "extract":if(!D.RegEx.wrappedValueAlreadyExtracted.test(c)){var m;h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(c)?m=h[c]!==k?h[c]:h.black:D.RegEx.isHex.test(c)?m="rgb("+D.Values.hexToRgb(c).join(" ")+")":/^rgba?\(/i.test(c)||(m=h.black);c=(m||c).toString().match(D.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g,
" ")}return(!z||8<z)&&3===c.split(" ").length&&(c+=" 1"),c;case "inject":return 8>=z?4===c.split(" ").length&&(c=c.split(/\s+/).slice(0,3).join(" ")):3===c.split(" ").length&&(c+=" 1"),(8>=z?"rgb":"rgba")+"("+c.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,h){return h.toUpperCase()})},SVGAttribute:function(a){var h="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(z||B.State.isAndroid&&!B.State.isChrome)&&(h+="|transform"),
(new RegExp("^("+h+")$","i")).test(a)},prefixCheck:function(a){if(B.State.prefixMatches[a])return[B.State.prefixMatches[a],!0];for(var h=["","Webkit","Moz","ms","O"],b=0,c=h.length;b<c;b++){var k;if(k=0===b?a:h[b]+a.replace(/^\w/,function(a){return a.toUpperCase()}),C.isString(B.State.prefixElement.style[k]))return B.State.prefixMatches[a]=k,[k,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var h;return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,h,b,c){return h+h+b+b+c+c}),h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),
h?[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?
"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(a,h){a.classList?a.classList.add(h):a.className+=(a.className.length?" ":"")+h},removeClass:function(a,h){a.classList?a.classList.remove(h):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+h.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,h,b,n){function l(a,h){var b=0;if(8>=z)b=x.css(a,h);else{var r=
!1;/^(width|height)$/.test(h)&&0===D.getPropertyValue(a,"display")&&(r=!0,D.setPropertyValue(a,"display",D.Values.getDisplayType(a)));var t=function(){r&&D.setPropertyValue(a,"display","none")};if(!n){if("height"===h&&"border-box"!==D.getPropertyValue(a,"boxSizing").toString().toLowerCase())return h=a.offsetHeight-(parseFloat(D.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(D.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(D.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(D.getPropertyValue(a,
"paddingBottom"))||0),t(),h;if("width"===h&&"border-box"!==D.getPropertyValue(a,"boxSizing").toString().toLowerCase())return h=a.offsetWidth-(parseFloat(D.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(D.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(D.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(D.getPropertyValue(a,"paddingRight"))||0),t(),h}b=m(a)===k?c.getComputedStyle(a,null):m(a).computedStyle?m(a).computedStyle:m(a).computedStyle=c.getComputedStyle(a,null);"borderColor"===
h&&(h="borderTopColor");b=9===z&&"filter"===h?b.getPropertyValue(h):b[h];""!==b&&null!==b||(b=a.style[h]);t()}"auto"===b&&/^(top|right|bottom|left)$/i.test(h)&&(t=l(a,"position"),("fixed"===t||"absolute"===t&&/top|left/i.test(h))&&(b=x(a).position()[h]+"px"));return b}var r;if(D.Hooks.registered[h])r=D.Hooks.getRoot(h),b===k&&(b=D.getPropertyValue(a,D.Names.prefixCheck(r)[0])),D.Normalizations.registered[r]&&(b=D.Normalizations.registered[r]("extract",a,b)),r=D.Hooks.extractValue(h,b);else if(D.Normalizations.registered[h]){var t;
b=D.Normalizations.registered[h]("name",a);"transform"!==b&&(t=l(a,D.Names.prefixCheck(b)[0]),D.Values.isCSSNullValue(t)&&D.Hooks.templates[h]&&(t=D.Hooks.templates[h][1]));r=D.Normalizations.registered[h]("extract",a,t)}if(!/^[\d-]/.test(r))if((b=m(a))&&b.isSVG&&D.Names.SVGAttribute(h))if(/^(height|width)$/i.test(h))try{r=a.getBBox()[h]}catch(p){r=0}else r=a.getAttribute(h);else r=l(a,D.Names.prefixCheck(h)[0]);return D.Values.isCSSNullValue(r)&&(r=0),r},setPropertyValue:function(a,h,b,k,n){var l=
h;if("scroll"===h)n.container?n.container["scroll"+n.direction]=b:"Left"===n.direction?c.scrollTo(b,n.alternateValue):c.scrollTo(n.alternateValue,b);else if(D.Normalizations.registered[h]&&"transform"===D.Normalizations.registered[h]("name",a))D.Normalizations.registered[h]("inject",a,b),l="transform",b=m(a).transformCache[h];else if(D.Hooks.registered[h]&&(l=h,h=D.Hooks.getRoot(h),k=k||D.getPropertyValue(a,h),b=D.Hooks.injectValue(l,b,k)),D.Normalizations.registered[h]&&(b=D.Normalizations.registered[h]("inject",
a,b),h=D.Normalizations.registered[h]("name",a)),l=D.Names.prefixCheck(h)[0],8>=z)try{a.style[l]=b}catch(r){}else(k=m(a))&&k.isSVG&&D.Names.SVGAttribute(h)?a.setAttribute(h,b):a.style[l]=b;return[l,b]},flushTransformCache:function(a){var h="",b=m(a);if((z||B.State.isAndroid&&!B.State.isChrome)&&b&&b.isSVG){var b=function(h){return parseFloat(D.getPropertyValue(a,h))},c={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),
b("scaleY")],rotate:[b("rotateZ"),0,0]};x.each(m(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate");c[a]&&(h+=a+"("+c[a].join(" ")+") ",delete c[a])})}else{var k,n;x.each(m(a).transformCache,function(b){return k=m(a).transformCache[b],"transformPerspective"===b?(n=k,!0):(9===z&&"rotateZ"===b&&(b="rotate"),void(h+=b+k+" "))});n&&(h="perspective"+n+" "+h)}D.setPropertyValue(a,"transform",h)}};D.Hooks.register();D.Normalizations.register();
B.hook=function(a,h,b){var c;return a=p(a),x.each(a,function(a,n){(m(n)===k&&B.init(n),b===k)?c===k&&(c=B.CSS.getPropertyValue(n,h)):(a=B.CSS.setPropertyValue(n,h,b),"transform"===a[0]&&B.CSS.flushTransformCache(n),c=a)}),c};var F=function(){function a(){return r?K.promise||null:w}function h(a,l){function r(h){var y,F;if(w.begin&&0===R)try{w.begin.call(z,z)}catch(H){setTimeout(function(){throw H;},1)}if("scroll"===Z){var u,L,G;F=/^x$/i.test(w.axis)?"Left":"Top";var I=parseFloat(w.offset)||0;w.container?
C.isWrapped(w.container)||C.isNode(w.container)?(w.container=w.container[0]||w.container,u=w.container["scroll"+F],G=u+x(a).position()[F.toLowerCase()]+I):w.container=null:(u=B.State.scrollAnchor[B.State["scrollProperty"+F]],L=B.State.scrollAnchor[B.State["scrollProperty"+("Left"===F?"Top":"Left")]],G=x(a).offset()[F.toLowerCase()]+I);q={scroll:{rootPropertyValue:!1,startValue:u,currentValue:u,endValue:G,unitType:"",easing:w.easing,scrollData:{container:w.container,direction:F,alternateValue:L}},
element:a}}else if("reverse"===Z){if(y=m(a),!y)return;if(!y.tweensContainer)return void x.dequeue(a,w.queue);"none"===y.opts.display&&(y.opts.display="auto");"hidden"===y.opts.visibility&&(y.opts.visibility="visible");y.opts.loop=!1;y.opts.begin=null;y.opts.complete=null;E.easing||delete w.easing;E.duration||delete w.duration;w=x.extend({},y.opts,w);F=x.extend(!0,{},y?y.tweensContainer:null);for(var N in F)"element"!==N&&(I=F[N].startValue,F[N].startValue=F[N].currentValue=F[N].endValue,F[N].endValue=
I,C.isEmptyObject(E)||(F[N].easing=w.easing));q=F}else if("start"===Z){(y=m(a))&&y.tweensContainer&&!0===y.isAnimating&&(F=y.tweensContainer);var O=function(h,b){var c,m,r;return C.isArray(h)?(c=h[0],!C.isArray(h[1])&&/^[\d-]/.test(h[1])||C.isFunction(h[1])||D.RegEx.isHex.test(h[1])?r=h[1]:(C.isString(h[1])&&!D.RegEx.isHex.test(h[1])||C.isArray(h[1]))&&(m=b?h[1]:n(h[1],w.duration),h[2]!==k&&(r=h[2]))):c=h,b||(m=m||w.easing),C.isFunction(c)&&(c=c.call(a,l,T)),C.isFunction(r)&&(r=r.call(a,l,T)),[c||
0,m,r]};x.each(A,function(a,h){if(RegExp("^"+D.Lists.colors.join("$|^")+"$").test(D.Names.camelCase(a))){var b=O(h,!0),c=b[0];h=b[1];var n=b[2];if(D.RegEx.isHex.test(c)){for(var b=["Red","Green","Blue"],c=D.Values.hexToRgb(c),n=n?D.Values.hexToRgb(n):k,m=0;m<b.length;m++){var l=[c[m]];h&&l.push(h);n!==k&&l.push(n[m]);A[D.Names.camelCase(a)+b[m]]=l}delete A[a]}}});for(I in A)if(G=O(A[I]),u=G[0],L=G[1],G=G[2],I=D.Names.camelCase(I),h=D.Hooks.getRoot(I),N=!1,y&&y.isSVG||"tween"===h||!1!==D.Names.prefixCheck(h)[1]||
D.Normalizations.registered[h]!==k){(w.display!==k&&null!==w.display&&"none"!==w.display||w.visibility!==k&&"hidden"!==w.visibility)&&/opacity|filter/.test(I)&&!G&&0!==u&&(G=0);w._cacheValues&&F&&F[I]?(G===k&&(G=F[I].endValue+F[I].unitType),N=y.rootPropertyValueCache[h]):D.Hooks.registered[I]?G===k?(N=D.getPropertyValue(a,h),G=D.getPropertyValue(a,I,N)):N=D.Hooks.templates[h][1]:G===k&&(G=D.getPropertyValue(a,I));var Q,X=!1,J=function(a,h){var b,c;return c=(h||"0").toString().toLowerCase().replace(/[%A-z]+$/,
function(a){return b=a,""}),b||(b=D.Values.getUnitType(a)),[c,b]};Q=J(I,G);G=Q[0];h=Q[1];Q=J(I,u);u=Q[0].replace(/^([+-\/*])=/,function(a,h){return X=h,""});Q=Q[1];G=parseFloat(G)||0;u=parseFloat(u)||0;"%"===Q&&(/^(fontSize|lineHeight)$/.test(I)?(u/=100,Q="em"):/^scale/.test(I)?(u/=100,Q=""):/(Red|Green|Blue)$/i.test(I)&&(u=u/100*255,Q=""));J=function(){var h=a.parentNode||b.body,k=D.getPropertyValue(a,"position"),n=D.getPropertyValue(a,"fontSize"),m=k===U.lastPosition&&h===U.lastParent,l=n===U.lastFontSize;
U.lastParent=h;U.lastPosition=k;U.lastFontSize=n;var r={};if(l&&m)r.emToPx=U.lastEmToPx,r.percentToPxWidth=U.lastPercentToPxWidth,r.percentToPxHeight=U.lastPercentToPxHeight;else{var t=y&&y.isSVG?b.createElementNS("http://www.w3.org/2000/svg","rect"):b.createElement("div");B.init(t);h.appendChild(t);x.each(["overflow","overflowX","overflowY"],function(a,h){B.CSS.setPropertyValue(t,h,"hidden")});B.CSS.setPropertyValue(t,"position",k);B.CSS.setPropertyValue(t,"fontSize",n);B.CSS.setPropertyValue(t,
"boxSizing","content-box");x.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(a,h){B.CSS.setPropertyValue(t,h,"100%")});B.CSS.setPropertyValue(t,"paddingLeft","100em");r.percentToPxWidth=U.lastPercentToPxWidth=(parseFloat(D.getPropertyValue(t,"width",null,!0))||1)/100;r.percentToPxHeight=U.lastPercentToPxHeight=(parseFloat(D.getPropertyValue(t,"height",null,!0))||1)/100;r.emToPx=U.lastEmToPx=(parseFloat(D.getPropertyValue(t,"paddingLeft"))||1)/100;h.removeChild(t)}return null===
U.remToPx&&(U.remToPx=parseFloat(D.getPropertyValue(b.body,"fontSize"))||16),null===U.vwToPx&&(U.vwToPx=parseFloat(c.innerWidth)/100,U.vhToPx=parseFloat(c.innerHeight)/100),r.remToPx=U.remToPx,r.vwToPx=U.vwToPx,r.vhToPx=U.vhToPx,r};if(/[\/*]/.test(X))Q=h;else if(h!==Q&&0!==G)if(0===u)Q=h;else{p=p||J();J=/margin|padding|left|right|width|text|word|letter/i.test(I)||/X$/.test(I)||"x"===I?"x":"y";switch(h){case "%":G*="x"===J?p.percentToPxWidth:p.percentToPxHeight;break;case "px":break;default:G*=p[h+
"ToPx"]}switch(Q){case "%":G*=1/("x"===J?p.percentToPxWidth:p.percentToPxHeight);break;case "px":break;default:G*=1/p[Q+"ToPx"]}}switch(X){case "+":u=G+u;break;case "-":u=G-u;break;case "*":u*=G;break;case "/":u=G/u}q[I]={rootPropertyValue:N,startValue:G,currentValue:G,endValue:u,unitType:Q,easing:L}}q.element=a}q.element&&(D.Values.addClass(a,"velocity-animating"),ha.push(q),y=m(a),y&&(""===w.queue&&(y.tweensContainer=q,y.opts=w),y.isAnimating=!0),R===T-1?(B.State.calls.push([ha,z,w,null,K.resolver]),
!1===B.State.isTicking&&(B.State.isTicking=!0,t())):R++)}var p,w=x.extend({},B.defaults,E),q={};switch(m(a)===k&&B.init(a),parseFloat(w.delay)&&!1!==w.queue&&x.queue(a,w.queue,function(h){B.velocityQueueEntryFlag=!0;m(a).delayTimer={setTimeout:setTimeout(h,parseFloat(w.delay)),next:h}}),w.duration.toString().toLowerCase()){case "fast":w.duration=200;break;case "normal":w.duration=400;break;case "slow":w.duration=600;break;default:w.duration=parseFloat(w.duration)||1}!1!==B.mock&&(!0===B.mock?w.duration=
w.delay=1:(w.duration*=parseFloat(B.mock)||1,w.delay*=parseFloat(B.mock)||1));w.easing=n(w.easing,w.duration);w.begin&&!C.isFunction(w.begin)&&(w.begin=null);w.progress&&!C.isFunction(w.progress)&&(w.progress=null);w.complete&&!C.isFunction(w.complete)&&(w.complete=null);w.display!==k&&null!==w.display&&(w.display=w.display.toString().toLowerCase(),"auto"===w.display&&(w.display=B.CSS.Values.getDisplayType(a)));w.visibility!==k&&null!==w.visibility&&(w.visibility=w.visibility.toString().toLowerCase());
w.mobileHA=w.mobileHA&&B.State.isMobile&&!B.State.isGingerbread;!1===w.queue?w.delay?setTimeout(r,w.delay):r():x.queue(a,w.queue,function(a,h){return!0===h?(K.promise&&K.resolver(z),!0):(B.velocityQueueEntryFlag=!0,void r(a))});""!==w.queue&&"fx"!==w.queue||"inprogress"===x.queue(a)[0]||x.dequeue(a)}var l,r,w,q,z,A,E,H=arguments[0]&&(arguments[0].p||x.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||C.isString(arguments[0].properties));if(C.isWrapped(this)?(r=!1,q=0,z=this,
w=this):(r=!0,q=1,z=H?arguments[0].elements||arguments[0].e:arguments[0]),z=p(z)){H?(A=arguments[0].properties||arguments[0].p,E=arguments[0].options||arguments[0].o):(A=arguments[q],E=arguments[q+1]);var T=z.length,R=0;if(!/^(stop|finish|finishAll)$/i.test(A)&&!x.isPlainObject(E))for(E={},q+=1;q<arguments.length;q++)C.isArray(arguments[q])||!/^(fast|normal|slow)$/i.test(arguments[q])&&!/^\d/.test(arguments[q])?C.isString(arguments[q])||C.isArray(arguments[q])?E.easing=arguments[q]:C.isFunction(arguments[q])&&
(E.complete=arguments[q]):E.duration=arguments[q];var K={promise:null,resolver:null,rejecter:null};r&&B.Promise&&(K.promise=new B.Promise(function(a,h){K.resolver=a;K.rejecter=h}));var Z;switch(A){case "scroll":Z="scroll";break;case "reverse":Z="reverse";break;case "finish":case "finishAll":case "stop":x.each(z,function(a,h){m(h)&&m(h).delayTimer&&(clearTimeout(m(h).delayTimer.setTimeout),m(h).delayTimer.next&&m(h).delayTimer.next(),delete m(h).delayTimer);"finishAll"!==A||!0!==E&&!C.isString(E)||
(x.each(x.queue(h,C.isString(E)?E:""),function(a,h){C.isFunction(h)&&h()}),x.queue(h,C.isString(E)?E:"",[]))});var X=[];return x.each(B.State.calls,function(a,h){h&&x.each(h[1],function(b,c){var n=E===k?"":E;return!0!==n&&h[2].queue!==n&&(E!==k||!1!==h[2].queue)||void x.each(z,function(b,k){k===c&&(((!0===E||C.isString(E))&&(x.each(x.queue(k,C.isString(E)?E:""),function(a,h){C.isFunction(h)&&h(null,!0)}),x.queue(k,C.isString(E)?E:"",[])),"stop"===A)?((b=m(k))&&b.tweensContainer&&!1!==n&&x.each(b.tweensContainer,
function(a,h){h.endValue=h.currentValue}),X.push(a)):"finish"!==A&&"finishAll"!==A||(h[2].duration=1))})})}),"stop"===A&&(x.each(X,function(a,h){y(h,!0)}),K.promise&&K.resolver(z)),a();default:if(!x.isPlainObject(A)||C.isEmptyObject(A)){if(C.isString(A)&&B.Redirects[A]){l=x.extend({},E);var aa=l.duration,da=l.delay||0;return!0===l.backwards&&(z=x.extend(!0,[],z).reverse()),x.each(z,function(a,h){parseFloat(l.stagger)?l.delay=da+parseFloat(l.stagger)*a:C.isFunction(l.stagger)&&(l.delay=da+l.stagger.call(h,
a,T));l.drag&&(l.duration=parseFloat(aa)||(/^(callout|transition)/.test(A)?1E3:400),l.duration=Math.max(l.duration*(l.backwards?1-a/T:(a+1)/T),.75*l.duration,200));B.Redirects[A].call(h,h,l||{},a,T,z,K.promise?K:k)}),a()}return K.promise&&K.rejecter(Error("Velocity: First argument ("+A+") was not a property map, a known action, or a registered redirect. Aborting.")),a()}Z="start"}var U={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,
remToPx:null,vwToPx:null,vhToPx:null},ha=[];x.each(z,function(a,b){C.isNode(b)&&h(b,a)});l=x.extend({},B.defaults,E);l.loop=parseInt(l.loop,10);q=2*l.loop-1;if(l.loop)for(H=0;H<q;H++){var ia={delay:l.delay,progress:l.progress};H===q-1&&(ia.display=l.display,ia.visibility=l.visibility,ia.complete=l.complete);F(z,"reverse",ia)}return a()}},B=x.extend(F,B);B.animate=F;var H=c.requestAnimationFrame||r;return B.State.isMobile||b.hidden===k||b.addEventListener("visibilitychange",function(){b.hidden?(H=
function(a){return setTimeout(function(){a(!0)},16)},t()):H=c.requestAnimationFrame||r}),a.Velocity=B,a!==c&&(a.fn.velocity=F,a.fn.velocity.defaults=B.defaults),x.each(["Down","Up"],function(a,h){B.Redirects["slide"+h]=function(a,b,c,n,m,l){b=x.extend({},b);var r=b.begin,t=b.complete,p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},w={};b.display===k&&(b.display="Down"===h?"inline"===B.CSS.Values.getDisplayType(a)?"inline-block":"block":"none");b.begin=function(){r&&r.call(m,
m);for(var b in p){w[b]=a.style[b];var c=B.CSS.getPropertyValue(a,b);p[b]="Down"===h?[c,0]:[0,c]}w.overflow=a.style.overflow;a.style.overflow="hidden"};b.complete=function(){for(var h in w)a.style[h]=w[h];t&&t.call(m,m);l&&l.resolver(m)};B(a,p,b)}}),x.each(["In","Out"],function(a,h){B.Redirects["fade"+h]=function(a,b,c,n,m,l){a=x.extend({},b);var r=a.complete;b={opacity:"In"===h?1:0};c!==n-1?a.complete=a.begin=null:a.complete=function(){r&&r.call(m,m);l&&l.resolver(m)};a.display===k&&(a.display="In"===
h?"auto":"none");B(this,b,a)}}),B}(window.jQuery||window.Zepto||window,window,document)});
!function(a){"function"==typeof require&&"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(["velocity"],a):a()}(function(){return function(a,c,b,k){var l=a.Velocity;if(l&&l.Utilities){var p=l.Utilities;if(function(a,h){var b=[];return!(!a||!h)&&(p.each([a,h],function(a,h){var c=[];p.each(h,function(a,h){for(;5>h.toString().length;)h="0"+h;c.push(h)});b.push(c.join(""))}),parseFloat(b[0])>parseFloat(b[1]))}({major:1,minor:1,patch:0},l.version))throw alert("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),
Error("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");l.RegisterEffect=l.RegisterUI=function(a,h){function b(a,h,c,k){var m,n=0;p.each(a.nodeType?[a]:a,function(a,h){k&&(c+=a*k);m=h.parentNode;propertiesToSum=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===l.CSS.getPropertyValue(h,"boxSizing").toString().toLowerCase()&&(propertiesToSum=["height"]);p.each(propertiesToSum,function(a,
b){n+=parseFloat(l.CSS.getPropertyValue(h,b))})});l.animate(m,{height:("In"===h?"+":"-")+"\x3d"+n},{queue:!1,easing:"ease-in-out",duration:c*("In"===h?.6:1)})}return l.Redirects[a]=function(c,m,x,z,r,C){var A=x===z-1;"function"==typeof h.defaultDuration?h.defaultDuration=h.defaultDuration.call(r,r):h.defaultDuration=parseFloat(h.defaultDuration);for(z=0;z<h.calls.length;z++){var w=h.calls[z],B=w[0],E=1E3,D=w[1],w=w[2]||{},F={};if(m.duration!==k?E=m.duration:h.defaultDuration!==k&&(E=h.defaultDuration),
F.duration=E*(D||1),F.queue=m.queue||"",F.easing=w.easing||"ease",F.delay=parseFloat(w.delay)||0,F._cacheValues=w._cacheValues||!0,0===z){if(F.delay+=parseFloat(m.delay)||0,0===x&&(F.begin=function(){m.begin&&m.begin.call(r,r);var h=a.match(/(In|Out)$/);h&&"In"===h[0]&&B.opacity!==k&&p.each(r.nodeType?[r]:r,function(a,h){l.CSS.setPropertyValue(h,"opacity",0)});m.animateParentHeight&&h&&b(r,h[0],E+F.delay,m.stagger)}),null!==m.display)m.display!==k&&"none"!==m.display?F.display=m.display:/In$/.test(a)&&
(D=l.CSS.Values.getDisplayType(c),F.display="inline"===D?"inline-block":D);m.visibility&&"hidden"!==m.visibility&&(F.visibility=m.visibility)}if(z===h.calls.length-1){var H=function(){m.display!==k&&"none"!==m.display||!/Out$/.test(a)||p.each(r.nodeType?[r]:r,function(a,h){l.CSS.setPropertyValue(h,"display","none")});m.complete&&m.complete.call(r,r);C&&C.resolver(r||c)};F.complete=function(){if(h.reset){for(var a in h.reset){var b=h.reset[a];l.CSS.Hooks.registered[a]!==k||"string"!=typeof b&&"number"!=
typeof b||(h.reset[a]=[h.reset[a],h.reset[a]])}a={duration:0,queue:!1};A&&(a.complete=H);l.animate(c,h.reset,a)}else A&&H()};"hidden"===m.visibility&&(F.visibility=m.visibility)}l.animate(c,B,F)}},l};l.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},
.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},
.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,
calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],
rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,
calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,
0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],
scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,
calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,
scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},
.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,
calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},
.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],
reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,
0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],
transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],
transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var m in l.RegisterEffect.packagedEffects)l.RegisterEffect(m,l.RegisterEffect.packagedEffects[m]);
l.RunSequence=function(a){var h=p.extend(!0,[],a);1<h.length&&(p.each(h.reverse(),function(a,b){var c=h[a+1];if(c){var k=b.o||b.options;a=c.o||c.options;var k=k&&!1===k.sequenceQueue?"begin":"complete",m=a&&a[k],r={};r[k]=function(){var a=c.e||c.elements,a=a.nodeType?[a]:a;m&&m.call(a,a);l(b)};c.o?c.o=p.extend({},a,r):c.options=p.extend({},a,r)}}),h.reverse());l(h[0])}}}(window.jQuery||window.Zepto||window,window,document)});
(function(a,c){"function"===typeof define&&define.amd?define(["jquery"],c):a.jQuery?c(a.jQuery):c(a.Zepto)})(this,function(a,c){a.fn.jPlayer=function(b){var k="string"===typeof b,h=Array.prototype.slice.call(arguments,1),n=this;b=!k&&h.length?a.extend.apply(null,[!0,b].concat(h)):b;if(k&&"_"===b.charAt(0))return n;k?this.each(function(){var k=a(this).data("jPlayer"),l=k&&a.isFunction(k[b])?k[b].apply(k,h):k;if(l!==k&&l!==c)return n=l,!1}):this.each(function(){var h=a(this).data("jPlayer");h?h.option(b||
{}):a(this).data("jPlayer",new a.jPlayer(b,this))});return n};a.jPlayer=function(b,c){if(arguments.length){this.element=a(c);this.options=a.extend(!0,{},this.options,b);var h=this;this.element.bind("remove.jPlayer",function(){h.destroy()});this._init()}};"function"!==typeof a.fn.stop&&(a.fn.stop=function(){});a.jPlayer.emulateMethods="load play pause";a.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";a.jPlayer.emulateOptions="muted volume";a.jPlayer.reservedEvent=
"ready flashreset resize repeat error warning";a.jPlayer.event={};a.each("ready flashreset resize repeat click error warning loadstart progress suspend abort emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange".split(" "),function(){a.jPlayer.event[this]="jPlayer_"+this});a.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata loadeddata canplay canplaythrough ratechange".split(" ");
a.jPlayer.pause=function(){a.each(a.jPlayer.prototype.instances,function(a,b){b.data("jPlayer").status.srcSet&&b.jPlayer("pause")})};a.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var b=function(){this.init()};b.prototype={init:function(){this.options={timeFormat:a.jPlayer.timeFormat}},time:function(a){var b=new Date(1E3*(a&&"number"===typeof a?a:0)),h=b.getUTCHours();a=this.options.timeFormat.showHour?b.getUTCMinutes():b.getUTCMinutes()+
60*h;b=this.options.timeFormat.showMin?b.getUTCSeconds():b.getUTCSeconds()+60*a;h=this.options.timeFormat.padHour&&10>h?"0"+h:h;a=this.options.timeFormat.padMin&&10>a?"0"+a:a;b=this.options.timeFormat.padSec&&10>b?"0"+b:b;h=""+(this.options.timeFormat.showHour?h+this.options.timeFormat.sepHour:"");h+=this.options.timeFormat.showMin?a+this.options.timeFormat.sepMin:"";return h+(this.options.timeFormat.showSec?b+this.options.timeFormat.sepSec:"")}};var k=new b;a.jPlayer.convertTime=function(a){return k.time(a)};
a.jPlayer.uaBrowser=function(a){a=a.toLowerCase();var b=/(opera)(?:.*version)?[ \/]([\w.]+)/,h=/(msie) ([\w.]+)/,c=/(mozilla)(?:.*? rv:([\w.]+))?/;a=/(webkit)[ \/]([\w.]+)/.exec(a)||b.exec(a)||h.exec(a)||0>a.indexOf("compatible")&&c.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a.jPlayer.uaPlatform=function(a){var b=a.toLowerCase(),h=/(android)/,c=/(mobile)/;a=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(b)||[];b=/(ipad|playbook)/.exec(b)||!c.exec(b)&&h.exec(b)||
[];a[1]&&(a[1]=a[1].replace(/\s/g,"_"));return{platform:a[1]||"",tablet:b[1]||""}};a.jPlayer.browser={};a.jPlayer.platform={};var l=a.jPlayer.uaBrowser(navigator.userAgent);l.browser&&(a.jPlayer.browser[l.browser]=!0,a.jPlayer.browser.version=l.version);l=a.jPlayer.uaPlatform(navigator.userAgent);l.platform&&(a.jPlayer.platform[l.platform]=!0,a.jPlayer.platform.mobile=!l.tablet,a.jPlayer.platform.tablet=!!l.tablet);a.jPlayer.getDocMode=function(){var b;a.jPlayer.browser.msie&&(document.documentMode?
b=document.documentMode:(b=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(b=7)));return b};a.jPlayer.browser.documentMode=a.jPlayer.getDocMode();a.jPlayer.nativeFeatures={init:function(){var a=document,b=a.createElement("video"),h={w3c:"fullscreenEnabled fullscreenElement requestFullscreen exitFullscreen fullscreenchange fullscreenerror".split(" "),moz:"mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),
webkit:" webkitCurrentFullScreenElement webkitRequestFullScreen webkitCancelFullScreen webkitfullscreenchange ".split(" "),webkitVideo:"webkitSupportsFullscreen webkitDisplayingFullscreen webkitEnterFullscreen webkitExitFullscreen  ".split(" ")},c=["w3c","moz","webkit","webkitVideo"],k,l;this.fullscreen=b={support:{w3c:!!a[h.w3c[0]],moz:!!a[h.moz[0]],webkit:"function"===typeof a[h.webkit[3]],webkitVideo:"function"===typeof b[h.webkitVideo[2]]},used:{}};k=0;for(l=c.length;k<l;k++){var p=c[k];if(b.support[p]){b.spec=
p;b.used[p]=!0;break}}if(b.spec){var z=h[b.spec];b.api={fullscreenEnabled:!0,fullscreenElement:function(h){h=h?h:a;return h[z[1]]},requestFullscreen:function(a){return a[z[2]]()},exitFullscreen:function(h){h=h?h:a;return h[z[3]]()}};b.event={fullscreenchange:z[4],fullscreenerror:z[5]}}else b.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},b.event={}}};a.jPlayer.nativeFeatures.init();a.jPlayer.focus=null;a.jPlayer.keyIgnoreElementNames=
"INPUT TEXTAREA";var p=function(b){var c=a.jPlayer.focus,h;c&&(a.each(a.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(a,c){if(b.target.nodeName.toUpperCase()===c.toUpperCase())return h=!0,!1}),h||a.each(c.options.keyBindings,function(h,k){if(k&&b.which===k.key&&a.isFunction(k.fn))return b.preventDefault(),k.fn(c),!1}))};a.jPlayer.keys=function(b){a(document.documentElement).unbind("keydown.jPlayer");b&&a(document.documentElement).bind("keydown.jPlayer",p)};a.jPlayer.keys(!0);a.jPlayer.prototype=
{count:0,version:{script:"2.4.0",needFlash:"2.4.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",
currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1E3},loop:!1,repeat:function(b){b.jPlayer.options.loop?a(this).unbind(".jPlayerRepeat").bind(a.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){a(this).jPlayer("play")}):a(this).unbind(".jPlayerRepeat")},
nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},
keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:32,fn:function(a){a.status.paused?a.play():a.pause()}},fullScreen:{key:13,fn:function(a){(a.status.video||a.options.audioFullScreen)&&a._setOption("fullScreen",!a.options.fullScreen)}},muted:{key:8,fn:function(a){a._muted(!a.options.muted)}},volumeUp:{key:38,fn:function(a){a.volume(a.options.volume+.1)}},volumeDown:{key:40,fn:function(a){a.volume(a.options.volume-.1)}}},verticalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,errorAlerts:!1,
warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,videoWidth:0,videoHeight:0,readyState:0,
networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs\x3d"mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,
media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var b=this;
this.element.empty();this.status=a.extend({},this.status);this.internal=a.extend({},this.internal);this.options.timeFormat=a.extend({},a.jPlayer.timeFormat,this.options.timeFormat);this.internal.cmdsIgnored=a.jPlayer.platform.ipad||a.jPlayer.platform.iphone||a.jPlayer.platform.ipod;this.internal.domNode=this.element.get(0);this.options.keyEnabled&&!a.jPlayer.focus&&(a.jPlayer.focus=this);this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html={};this.html.audio={};this.html.video=
{};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);a.each(this.options.supplied.toLowerCase().split(","),function(h,c){var k=c.replace(/^\s+|\s+$/g,"");if(b.format[k]){var n=!1;a.each(b.formats,function(a,h){if(k===h)return n=!0,!1});n||b.formats.push(k)}});a.each(this.options.solution.toLowerCase().split(","),function(h,c){var k=c.replace(/^\s+|\s+$/g,"");if(b.solution[k]){var n=!1;a.each(b.solutions,function(a,
h){if(k===h)return n=!0,!1});n||b.solutions.push(k)}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);this.internal.self=a.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=a.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:c});this.internal.video=a.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:c});this.internal.flash=
a.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:c,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")});this.internal.poster=a.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:c});a.each(a.jPlayer.event,function(a,h){b.options[a]!==c&&(b.element.bind(h+".jPlayer",b.options[a]),b.options[a]=c)});this.require.audio=!1;this.require.video=!1;a.each(this.formats,function(a,
h){b.require[b.format[h].media]=!0});this.options=this.require.video?a.extend(!0,{},this.optionsVideo,this.options):a.extend(!0,{},this.optionsAudio,this.options);this._setSize();this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this.status.noVolume=this._uaBlocklist(this.options.noVolume);a.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners();this._restrictNativeVideoControls();
this.htmlElement.poster=document.createElement("img");this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){b.status.video&&!b.status.waitForPlay||b.internal.poster.jq.show()};this.element.append(this.htmlElement.poster);this.internal.poster.jq=a("#"+this.internal.poster.id);this.internal.poster.jq.css({width:this.status.width,height:this.status.height});this.internal.poster.jq.hide();this.internal.poster.jq.bind("click.jPlayer",function(){b._trigger(a.jPlayer.event.click)});
this.html.audio.available=!1;this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio));this.html.video.available=!1;this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video));
this.flash.available=this._checkForFlash(10.1);this.html.canPlay={};this.flash.canPlay={};a.each(this.formats,function(a,h){b.html.canPlay[h]=b.html[b.format[h].media].available&&""!==b.htmlElement[b.format[h].media].canPlayType(b.format[h].codec);b.flash.canPlay[h]=b.format[h].flashCanPlay&&b.flash.available});this.html.desired=!1;this.flash.desired=!1;a.each(this.solutions,function(h,c){if(0===h)b[c].desired=!0;else{var k=!1,n=!1;a.each(b.formats,function(a,h){b[b.solutions[0]].canPlay[h]&&("video"===
b.format[h].media?n=!0:k=!0)});b[c].desired=b.require.audio&&!k||b.require.video&&!n}});this.html.support={};this.flash.support={};a.each(this.formats,function(a,h){b.html.support[h]=b.html.canPlay[h]&&b.html.desired;b.flash.support[h]=b.flash.canPlay[h]&&b.flash.desired});this.html.used=!1;this.flash.used=!1;a.each(this.solutions,function(h,c){a.each(b.formats,function(a,h){if(b[c].support[h])return b[c].used=!0,!1})});this._resetActive();this._resetGate();this._cssSelectorAncestor(this.options.cssSelectorAncestor);
this.html.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:a.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SOLUTION,hint:a.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show());if(this.flash.used){var k,h="jQuery\x3d"+encodeURI(this.options.noConflict)+"\x26id\x3d"+encodeURI(this.internal.self.id)+"\x26vol\x3d"+
this.options.volume+"\x26muted\x3d"+this.options.muted;if(a.jPlayer.browser.msie&&(9>Number(a.jPlayer.browser.version)||9>a.jPlayer.browser.documentMode)){h=['\x3cparam name\x3d"movie" value\x3d"'+this.internal.flash.swf+'" /\x3e','\x3cparam name\x3d"FlashVars" value\x3d"'+h+'" /\x3e','\x3cparam name\x3d"allowScriptAccess" value\x3d"always" /\x3e','\x3cparam name\x3d"bgcolor" value\x3d"'+this.options.backgroundColor+'" /\x3e','\x3cparam name\x3d"wmode" value\x3d"'+this.options.wmode+'" /\x3e'];k=
document.createElement('\x3cobject id\x3d"'+this.internal.flash.id+'" classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width\x3d"0" height\x3d"0" tabindex\x3d"-1"\x3e\x3c/object\x3e');for(var n=0;n<h.length;n++)k.appendChild(document.createElement(h[n]))}else n=function(a,h,b){var c=document.createElement("param");c.setAttribute("name",h);c.setAttribute("value",b);a.appendChild(c)},k=document.createElement("object"),k.setAttribute("id",this.internal.flash.id),k.setAttribute("name",this.internal.flash.id),
k.setAttribute("data",this.internal.flash.swf),k.setAttribute("type","application/x-shockwave-flash"),k.setAttribute("width","1"),k.setAttribute("height","1"),k.setAttribute("tabindex","-1"),n(k,"flashvars",h),n(k,"allowscriptaccess","always"),n(k,"bgcolor",this.options.backgroundColor),n(k,"wmode",this.options.wmode);this.element.append(k);this.internal.flash.jq=a(k)}this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),
this.internal.audio.jq=a("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=a("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){b._trigger(a.jPlayer.event.click)})));
this.options.emulateHtml&&this._emulateHtmlBridge();this.html.used&&!this.flash.used&&setTimeout(function(){b.internal.ready=!0;b.version.flash="n/a";b._trigger(a.jPlayer.event.repeat);b._trigger(a.jPlayer.event.ready)},100);this._updateNativeVideoControls();this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();a.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");
a.each(this.css.jq,function(a,b){b.length&&b.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this._fullscreenRemoveEventListeners();this===a.jPlayer.focus&&(a.jPlayer.focus=null);this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(a){try{return a.canPlayType(this.format.mp3.codec),
!0}catch(b){return!1}},_uaBlocklist:function(b){var c=navigator.userAgent.toLowerCase(),h=!1;a.each(b,function(a,b){if(b&&b.test(c))return h=!0,!1});return h},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&
this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(b,c){var h=this;b.preload=this.options.preload;b.muted=this.options.muted;b.volume=this.options.volume;b.addEventListener("progress",function(){c.gate&&(h.internal.cmdsIgnored&&0<this.readyState&&(h.internal.cmdsIgnored=
!1),h._getHtmlStatus(b),h._updateInterface(),h._trigger(a.jPlayer.event.progress))},!1);b.addEventListener("timeupdate",function(){c.gate&&(h._getHtmlStatus(b),h._updateInterface(),h._trigger(a.jPlayer.event.timeupdate))},!1);b.addEventListener("durationchange",function(){c.gate&&(h._getHtmlStatus(b),h._updateInterface(),h._trigger(a.jPlayer.event.durationchange))},!1);b.addEventListener("play",function(){c.gate&&(h._updateButtons(!0),h._html_checkWaitForPlay(),h._trigger(a.jPlayer.event.play))},
!1);b.addEventListener("playing",function(){c.gate&&(h._updateButtons(!0),h._seeked(),h._trigger(a.jPlayer.event.playing))},!1);b.addEventListener("pause",function(){c.gate&&(h._updateButtons(!1),h._trigger(a.jPlayer.event.pause))},!1);b.addEventListener("waiting",function(){c.gate&&(h._seeking(),h._trigger(a.jPlayer.event.waiting))},!1);b.addEventListener("seeking",function(){c.gate&&(h._seeking(),h._trigger(a.jPlayer.event.seeking))},!1);b.addEventListener("seeked",function(){c.gate&&(h._seeked(),
h._trigger(a.jPlayer.event.seeked))},!1);b.addEventListener("volumechange",function(){c.gate&&(h.options.volume=b.volume,h.options.muted=b.muted,h._updateMute(),h._updateVolume(),h._trigger(a.jPlayer.event.volumechange))},!1);b.addEventListener("suspend",function(){c.gate&&(h._seeked(),h._trigger(a.jPlayer.event.suspend))},!1);b.addEventListener("ended",function(){c.gate&&(a.jPlayer.browser.webkit||(h.htmlElement.media.currentTime=0),h.htmlElement.media.pause(),h._updateButtons(!1),h._getHtmlStatus(b,
!0),h._updateInterface(),h._trigger(a.jPlayer.event.ended))},!1);b.addEventListener("error",function(){c.gate&&(h._updateButtons(!1),h._seeked(),h.status.srcSet&&(clearTimeout(h.internal.htmlDlyCmdId),h.status.waitForLoad=!0,h.status.waitForPlay=!0,h.status.video&&!h.status.nativeVideoControls&&h.internal.video.jq.css({width:"0px",height:"0px"}),h._validString(h.status.media.poster)&&!h.status.nativeVideoControls&&h.internal.poster.jq.show(),h.css.jq.videoPlay.length&&h.css.jq.videoPlay.show(),h._error({type:a.jPlayer.error.URL,
context:h.status.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL})))},!1);a.each(a.jPlayer.htmlEvent,function(k,l){b.addEventListener(this,function(){c.gate&&h._trigger(a.jPlayer.event[l])},!1)})},_getHtmlStatus:function(a,b){var h,c,k=0,l=0;isFinite(a.duration)&&(this.status.duration=a.duration);h=a.currentTime;c=0<this.status.duration?100*h/this.status.duration:0;"object"===typeof a.seekable&&0<a.seekable.length?(k=0<this.status.duration?100*a.seekable.end(a.seekable.length-1)/this.status.duration:
100,l=0<this.status.duration?100*a.currentTime/a.seekable.end(a.seekable.length-1):0):(k=100,l=c);b&&(c=l=h=0);this.status.seekPercent=k;this.status.currentPercentRelative=l;this.status.currentPercentAbsolute=c;this.status.currentTime=h;this.status.videoWidth=a.videoWidth;this.status.videoHeight=a.videoHeight;this.status.readyState=a.readyState;this.status.networkState=a.networkState;this.status.playbackRate=a.playbackRate;this.status.ended=a.ended},_resetStatus:function(){this.status=a.extend({},
this.status,a.jPlayer.prototype.status)},_trigger:function(b,c,h){b=a.Event(b);b.jPlayer={};b.jPlayer.version=a.extend({},this.version);b.jPlayer.options=a.extend(!0,{},this.options);b.jPlayer.status=a.extend(!0,{},this.status);b.jPlayer.html=a.extend(!0,{},this.html);b.jPlayer.flash=a.extend(!0,{},this.flash);c&&(b.jPlayer.error=a.extend({},c));h&&(b.jPlayer.warning=a.extend({},h));this.element.trigger(b)},jPlayerFlashEvent:function(b,c){if(b===a.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var h=
this.status.currentTime,k=this.status.paused;this.setMedia(this.status.media);0<h&&(k?this.pause(h):this.play(h))}this._trigger(a.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=c.version,this.version.needFlash!==this.version.flash&&this._error({type:a.jPlayer.error.VERSION,context:this.version.flash,message:a.jPlayer.errorMsg.VERSION+this.version.flash,hint:a.jPlayer.errorHint.VERSION}),this._trigger(a.jPlayer.event.repeat),
this._trigger(b);if(this.flash.gate)switch(b){case a.jPlayer.event.progress:this._getFlashStatus(c);this._updateInterface();this._trigger(b);break;case a.jPlayer.event.timeupdate:this._getFlashStatus(c);this._updateInterface();this._trigger(b);break;case a.jPlayer.event.play:this._seeked();this._updateButtons(!0);this._trigger(b);break;case a.jPlayer.event.pause:this._updateButtons(!1);this._trigger(b);break;case a.jPlayer.event.ended:this._updateButtons(!1);this._trigger(b);break;case a.jPlayer.event.click:this._trigger(b);
break;case a.jPlayer.event.error:this.status.waitForLoad=!0;this.status.waitForPlay=!0;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(!1);this._error({type:a.jPlayer.error.URL,context:c.src,message:a.jPlayer.errorMsg.URL,
hint:a.jPlayer.errorHint.URL});break;case a.jPlayer.event.seeking:this._seeking();this._trigger(b);break;case a.jPlayer.event.seeked:this._seeked();this._trigger(b);break;case a.jPlayer.event.ready:break;default:this._trigger(b)}return!1},_getFlashStatus:function(a){this.status.seekPercent=a.seekPercent;this.status.currentPercentRelative=a.currentPercentRelative;this.status.currentPercentAbsolute=a.currentPercentAbsolute;this.status.currentTime=a.currentTime;this.status.duration=a.duration;this.status.videoWidth=
a.videoWidth;this.status.videoHeight=a.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_updateButtons:function(a){a===c?a=!this.status.paused:this.status.paused=!a;this.css.jq.play.length&&this.css.jq.pause.length&&(a?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()));this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),
this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide()));this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&
(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));this.css.jq.currentTime.length&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));this.css.jq.duration.length&&this.css.jq.duration.text(this._convertTime(this.status.duration))},_convertTime:b.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},
_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=!1;this.html.video.gate=!1;this.flash.gate=!1},_resetActive:function(){this.html.active=!1;this.flash.active=!1},setMedia:function(b){var c=this,h=!1,k=this.status.media.poster!==b.poster;this._resetMedia();this._resetGate();this._resetActive();a.each(this.formats,function(k,n){var l="video"===c.format[n].media;a.each(c.solutions,function(a,k){if(c[k].support[n]&&
c._validString(b[n]))return a="html"===k,l?(a?(c.html.video.gate=!0,c._html_setVideo(b),c.html.active=!0):(c.flash.gate=!0,c._flash_setVideo(b),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.show(),c.status.video=!0):(a?(c.html.audio.gate=!0,c._html_setAudio(b),c.html.active=!0):(c.flash.gate=!0,c._flash_setAudio(b),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.hide(),c.status.video=!1),h=!0,!1});if(h)return!1});h?(this.status.nativeVideoControls&&this.html.video.gate||
!this._validString(b.poster)||(k?this.htmlElement.poster.src=b.poster:this.internal.poster.jq.show()),this.status.srcSet=!0,this.status.media=a.extend({},b),this._updateButtons(!1),this._updateInterface()):this._error({type:a.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SUPPORT,hint:a.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus();this._updateButtons(!1);this._updateInterface();this._seeked();this.internal.poster.jq.hide();
clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(a.jPlayer.focus=this)},play:function(a){a=
"number"===typeof a?a:NaN;this.status.srcSet?(this.focus(),this.html.active?this._html_play(a):this.flash.active&&this._flash_play(a)):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(a){a="number"===typeof a?a:NaN;this.status.srcSet?this.html.active?this._html_pause(a):this.flash.active&&this._flash_pause(a):this._urlNotSetError("pause")},pauseOthers:function(){var b=this;a.each(this.instances,function(a,h){b.element!==h&&h.data("jPlayer").status.srcSet&&h.jPlayer("pause")})},
stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(a){a=this._limitValue(a,0,100);this.status.srcSet?this.html.active?this._html_playHead(a):this.flash.active&&this._flash_playHead(a):this._urlNotSetError("playHead")},_muted:function(b){this.options.muted=b;this.html.used&&this._html_mute(b);this.flash.used&&this._flash_mute(b);this.html.video.gate||this.html.audio.gate||(this._updateMute(b),
this._updateVolume(this.options.volume),this._trigger(a.jPlayer.event.volumechange))},mute:function(a){a=a===c?!0:!!a;this._muted(a)},unmute:function(a){a=a===c?!0:!!a;this._muted(!a)},_updateMute:function(a){a===c&&(a=this.options.muted);this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):a?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(b){b=this._limitValue(b,
0,1);this.options.volume=b;this.html.used&&this._html_volume(b);this.flash.used&&this._flash_volume(b);this.html.video.gate||this.html.audio.gate||(this._updateVolume(b),this._trigger(a.jPlayer.event.volumechange))},volumeBar:function(b){if(this.css.jq.volumeBar.length){var c=a(b.currentTarget),h=c.offset(),k=b.pageX-h.left,l=c.width();b=c.height()-b.pageY+h.top;c=c.height();this.options.verticalVolume?this.volume(b/c):this.volume(k/l)}this.options.muted&&this._muted(!1)},volumeBarValue:function(){},
_updateVolume:function(a){a===c&&(a=this.options.volume);a=this.options.muted?0:a;this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*a+
"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1);this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(b){var c=this;this.options.cssSelectorAncestor=b;this._removeUiClass();this.ancestorJq=b?a(b):[];b&&1!==this.ancestorJq.length&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT});
this._addUiClass();a.each(this.options.cssSelector,function(a,b){c._cssSelector(a,b)});this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute()},_cssSelector:function(b,c){var h=this;"string"===typeof c?a.jPlayer.prototype.options.cssSelector[b]?(this.css.jq[b]&&this.css.jq[b].length&&this.css.jq[b].unbind(".jPlayer"),this.options.cssSelector[b]=c,this.css.cs[b]=this.options.cssSelectorAncestor+" "+c,this.css.jq[b]=c?a(this.css.cs[b]):[],this.css.jq[b].length&&
this.css.jq[b].bind("click.jPlayer",function(c){c.preventDefault();h[b](c);a(this).blur()}),c&&1!==this.css.jq[b].length&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[b],message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[b].length+" found for "+b+" method.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:a.jPlayer.warning.CSS_SELECTOR_METHOD,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:a.jPlayer.warningHint.CSS_SELECTOR_METHOD}):
this._warning({type:a.jPlayer.warning.CSS_SELECTOR_STRING,context:c,message:a.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:a.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(b){if(this.css.jq.seekBar.length){var c=a(b.currentTarget),h=c.offset();b=b.pageX-h.left;c=c.width();this.playHead(100*b/c)}},playBar:function(){},repeat:function(){this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(b){this.options.loop!==b&&(this.options.loop=b,this._updateButtons(),this._trigger(a.jPlayer.event.repeat))},
currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(b,k){var h=b;if(0===arguments.length)return a.extend(!0,{},this.options);if("string"===typeof b){var n=b.split(".");if(k===c){for(var h=a.extend(!0,{},this.options),l=0;l<n.length;l++)if(h[n[l]]!==c)h=h[n[l]];else return this._warning({type:a.jPlayer.warning.OPTION_KEY,context:b,message:a.jPlayer.warningMsg.OPTION_KEY,hint:a.jPlayer.warningHint.OPTION_KEY}),c;return h}for(var l=h={},p=0;p<n.length;p++)p<
n.length-1?(l[n[p]]={},l=l[n[p]]):l[n[p]]=k}this._setOptions(h);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(b,c){var h=this;switch(b){case "volume":this.volume(c);break;case "muted":this._muted(c);break;case "cssSelectorAncestor":this._cssSelectorAncestor(c);break;case "cssSelector":a.each(c,function(a,b){h._cssSelector(a,b)});break;case "fullScreen":if(this.options[b]!==c){var k=a.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;
if(!k||k&&!this.status.waitForPlay)k||(this.options[b]=c),c?this._requestFullscreen():this._exitFullscreen(),k||this._setOption("fullWindow",c)}break;case "fullWindow":this.options[b]!==c&&(this._removeUiClass(),this.options[b]=c,this._refreshSize());break;case "size":!this.options.fullWindow&&this.options[b].cssClass!==c.cssClass&&this._removeUiClass();this.options[b]=a.extend({},this.options[b],c);this._refreshSize();break;case "sizeFull":this.options.fullWindow&&this.options[b].cssClass!==c.cssClass&&
this._removeUiClass();this.options[b]=a.extend({},this.options[b],c);this._refreshSize();break;case "autohide":this.options[b]=a.extend({},this.options[b],c);this._updateAutohide();break;case "loop":this._loop(c);break;case "nativeVideoControls":this.options[b]=a.extend({},this.options[b],c);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case "noFullWindow":this.options[b]=a.extend({},
this.options[b],c);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();break;case "noVolume":this.options[b]=a.extend({},this.options[b],c);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case "emulateHtml":this.options[b]!==c&&((this.options[b]=c)?this._emulateHtmlBridge():this._destroyHtmlBridge());
break;case "timeFormat":this.options[b]=a.extend({},this.options[b],c);break;case "keyEnabled":this.options[b]=c;!c&&this===a.jPlayer.focus&&(a.jPlayer.focus=null);break;case "keyBindings":this.options[b]=a.extend(!0,{},this.options[b],c);break;case "audioFullScreen":this.options[b]=c}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(a.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?
(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},
_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var a=this,
b=function(){a.css.jq.gui.fadeIn(a.options.autohide.fadeIn,function(){clearTimeout(a.internal.autohideId);a.internal.autohideId=setTimeout(function(){a.css.jq.gui.fadeOut(a.options.autohide.fadeOut)},a.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||
!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",b),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",b),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(){this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var b=this,c=a.jPlayer.nativeFeatures.fullscreen;c.api.fullscreenEnabled&&c.event.fullscreenchange&&("function"!==typeof this.internal.fullscreenchangeHandler&&
(this.internal.fullscreenchangeHandler=function(){b._fullscreenchange()}),document.addEventListener(c.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var b=a.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.addEventListener(b.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!a.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&
this._setOption("fullScreen",!1)},_requestFullscreen:function(){var b=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],c=a.jPlayer.nativeFeatures.fullscreen;c.used.webkitVideo&&(b=this.htmlElement.video);c.api.fullscreenEnabled&&c.api.requestFullscreen(b)},_exitFullscreen:function(){var b=a.jPlayer.nativeFeatures.fullscreen,c;b.used.webkitVideo&&(c=this.htmlElement.video);b.api.fullscreenEnabled&&b.api.exitFullscreen(c)},_html_initMedia:function(b){var c=a(this.htmlElement.media).empty();
a.each(b.track||[],function(a,b){a=document.createElement("track");a.setAttribute("kind",b.kind?b.kind:"");a.setAttribute("src",b.src?b.src:"");a.setAttribute("srclang",b.srclang?b.srclang:"");a.setAttribute("label",b.label?b.label:"");b.def&&a.setAttribute("default",b.def);c.append(a)});this.htmlElement.media.src=this.status.src;"none"!==this.options.preload&&this._html_load();this._trigger(a.jPlayer.event.timeupdate)},_html_setFormat:function(b){var c=this;a.each(this.formats,function(a,k){if(c.html.support[k]&&
b[k])return c.status.src=b[k],c.status.format[k]=!0,c.status.formatType=k,!1})},_html_setAudio:function(a){this._html_setFormat(a);this.htmlElement.media=this.htmlElement.audio;this._html_initMedia(a)},_html_setVideo:function(a){this._html_setFormat(a);this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(a.poster)?a.poster:"");this.htmlElement.media=this.htmlElement.video;this._html_initMedia(a)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id===
this.internal.video.id&&!this.status.nativeVideoControls&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load());clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(a){var b=this,h=this.htmlElement.media;this._html_load();if(isNaN(a))h.play();
else{this.internal.cmdsIgnored&&h.play();try{if(!h.seekable||"object"===typeof h.seekable&&0<h.seekable.length)h.currentTime=a,h.play();else throw 1;}catch(c){this.internal.htmlDlyCmdId=setTimeout(function(){b.play(a)},250);return}}this._html_checkWaitForPlay()},_html_pause:function(a){var b=this,h=this.htmlElement.media;0<a?this._html_load():clearTimeout(this.internal.htmlDlyCmdId);h.pause();if(!isNaN(a))try{if(!h.seekable||"object"===typeof h.seekable&&0<h.seekable.length)h.currentTime=a;else throw 1;
}catch(c){this.internal.htmlDlyCmdId=setTimeout(function(){b.pause(a)},250);return}0<a&&this._html_checkWaitForPlay()},_html_playHead:function(a){var b=this,h=this.htmlElement.media;this._html_load();try{if("object"===typeof h.seekable&&0<h.seekable.length)h.currentTime=a*h.seekable.end(h.seekable.length-1)/100;else if(0<h.duration&&!isNaN(h.duration))h.currentTime=a*h.duration/100;else throw"e";}catch(c){this.internal.htmlDlyCmdId=setTimeout(function(){b.playHead(a)},250);return}this.status.waitForLoad||
this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_volume:function(a){this.html.audio.available&&(this.htmlElement.audio.volume=a);this.html.video.available&&(this.htmlElement.video.volume=a)},_html_mute:function(a){this.html.audio.available&&
(this.htmlElement.audio.muted=a);this.html.video.available&&(this.htmlElement.video.muted=a)},_flash_setAudio:function(b){var c=this;try{a.each(this.formats,function(a,k){if(c.flash.support[k]&&b[k]){switch(k){case "m4a":case "fla":c._getMovie().fl_setAudio_m4a(b[k]);break;case "mp3":c._getMovie().fl_setAudio_mp3(b[k]);break;case "rtmpa":c._getMovie().fl_setAudio_rtmp(b[k])}c.status.src=b[k];c.status.format[k]=!0;c.status.formatType=k;return!1}}),"auto"===this.options.preload&&(this._flash_load(),
this.status.waitForLoad=!1)}catch(h){this._flashError(h)}},_flash_setVideo:function(b){var c=this;try{a.each(this.formats,function(a,k){if(c.flash.support[k]&&b[k]){switch(k){case "m4v":case "flv":c._getMovie().fl_setVideo_m4v(b[k]);break;case "rtmpv":c._getMovie().fl_setVideo_rtmp(b[k])}c.status.src=b[k];c.status.format[k]=!0;c.status.formatType=k;return!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(h){this._flashError(h)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",
height:"0px"});this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(a){this._flashError(a)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(a){this._flashError(a)}this.status.waitForLoad=!1},_flash_play:function(a){try{this._getMovie().fl_play(a)}catch(b){this._flashError(b)}this.status.waitForLoad=!1;this._flash_checkWaitForPlay()},_flash_pause:function(a){try{this._getMovie().fl_pause(a)}catch(b){this._flashError(b)}0<a&&(this.status.waitForLoad=
!1,this._flash_checkWaitForPlay())},_flash_playHead:function(a){try{this._getMovie().fl_play_head(a)}catch(b){this._flashError(b)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(a){try{this._getMovie().fl_volume(a)}catch(b){this._flashError(b)}},
_flash_mute:function(a){try{this._getMovie().fl_mute(a)}catch(b){this._flashError(b)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var a=0,b;if(window.ActiveXObject)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");var h=b.GetVariable("$version");h&&(h=h.split(" ")[1].split(","),a=parseInt(h[0],10)+"."+parseInt(h[1],10))}catch(c){}else navigator.plugins&&0<navigator.mimeTypes.length&&navigator.plugins["Shockwave Flash"]&&(a=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,
"$1"));return 1*a},_checkForFlash:function(a){var b=!1;this._getFlashPluginVersion()>=a&&(b=!0);return b},_validString:function(a){return a&&"string"===typeof a},_limitValue:function(a,b,h){return a<b?b:a>h?h:a},_urlNotSetError:function(b){this._error({type:a.jPlayer.error.URL_NOT_SET,context:b,message:a.jPlayer.errorMsg.URL_NOT_SET,hint:a.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(b){var c;c=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:a.jPlayer.error[c],context:this.internal.flash.swf,
message:a.jPlayer.errorMsg[c]+b.message,hint:a.jPlayer.errorHint[c]});this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(b){this._trigger(a.jPlayer.event.error,b);this.options.errorAlerts&&this._alert("Error!"+(b.message?"\n\n"+b.message:"")+(b.hint?"\n\n"+b.hint:"")+"\n\nContext: "+b.context)},_warning:function(b){this._trigger(a.jPlayer.event.warning,c,b);this.options.warningAlerts&&this._alert("Warning!"+(b.message?"\n\n"+b.message:"")+(b.hint?"\n\n"+b.hint:"")+"\n\nContext: "+
b.context)},_alert:function(a){alert("jPlayer "+this.version.script+" : id\x3d'"+this.internal.self.id+"' : "+a)},_emulateHtmlBridge:function(){var b=this;a.each(a.jPlayer.emulateMethods.split(/\s+/g),function(a,h){b.internal.domNode[h]=function(a){b[h](a)}});a.each(a.jPlayer.event,function(c,h){var k=!0;a.each(a.jPlayer.reservedEvent.split(/\s+/g),function(a,h){if(h===c)return k=!1});k&&b.element.bind(h+".jPlayer.jPlayerHtml",function(){b._emulateHtmlUpdate();var a=document.createEvent("Event");
a.initEvent(c,!1,!0);b.internal.domNode.dispatchEvent(a)})})},_emulateHtmlUpdate:function(){var b=this;a.each(a.jPlayer.emulateStatus.split(/\s+/g),function(a,h){b.internal.domNode[h]=b.status[h]});a.each(a.jPlayer.emulateOptions.split(/\s+/g),function(a,h){b.internal.domNode[h]=b.options[h]})},_destroyHtmlBridge:function(){var b=this;this.element.unbind(".jPlayerHtml");a.each((a.jPlayer.emulateMethods+" "+a.jPlayer.emulateStatus+" "+a.jPlayer.emulateOptions).split(/\s+/g),function(a,h){delete b.internal.domNode[h]})}};
a.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};a.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",
NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+a.jPlayer.prototype.version.script+" needs Jplayer.swf version "+a.jPlayer.prototype.version.needFlash+" but found "};a.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",
NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};a.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};a.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",
CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};a.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});
(function(a,c){function b(a){A.put.call(this,a)}function k(a){this.parent=a;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;this.count=1}function l(a,h){return function(){if(w.plugin.debug)return a.apply(this,arguments);try{return a.apply(this,arguments)}catch(b){w.plugin.errors.push({plugin:h,thrown:b,source:a.toString()}),this.emit("pluginerror",w.plugin.errors)}}}if(c.addEventListener){var p=Array.prototype,
m=Object.prototype,q=p.forEach,h=p.slice,n=m.hasOwnProperty,t=m.toString,y=a.Popcorn,x=[],z=!1,r={hash:{},apis:{}},C=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(h,b){a.setTimeout(h,16)}}(),A={put:function(a){for(var h in a)a.hasOwnProperty(h)&&(this[h]=a[h])}},w=function(a,h){return new w.p.init(a,h||null)};w.version="@VERSION";w.isSupported=!0;w.instances=[];w.p=w.prototype={init:function(a,
h){var b,n=this;if("function"===typeof a)if("complete"===c.readyState)a(c,w);else{if(x.push(a),!z){z=!0;var l=function(){c.removeEventListener("DOMContentLoaded",l,!1);for(var a=0,h=x.length;a<h;a++)x[a].call(c,w);x=null};c.addEventListener("DOMContentLoaded",l,!1)}}else{if("string"===typeof a)try{b=c.querySelector(a)}catch(r){throw Error("Popcorn.js Error: Invalid media element selector: "+a);}this.media=b||a;b=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";this[b]=this.media;this.options=
w.extend({},h)||{};this.id=this.options.id||w.guid(b);if(w.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1;this.data={running:{cue:[]},timeUpdate:w.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new k(this)};w.instances.push(this);var m=function(){0>n.media.currentTime&&(n.media.currentTime=0);n.media.removeEventListener("loadedmetadata",m,!1);var a,h,b,c,k;a=n.media.duration;a=a!=a?Number.MAX_VALUE:
a+1;w.addTrackEvent(n,{start:a,end:a});n.isDestroyed||(n.data.durationChange=function(){var a=n.media.duration,h=a+1,b=n.data.trackEvents.byStart,c=n.data.trackEvents.byEnd;b.pop();c.pop();for(var k=c.length-1;0<k;k--)c[k].end>a&&n.removeTrackEvent(c[k]._id);for(c=0;c<b.length;c++)b[c].end>a&&n.removeTrackEvent(b[c]._id);n.data.trackEvents.byEnd.push({start:h,end:h});n.data.trackEvents.byStart.push({start:h,end:h})},n.media.addEventListener("durationchange",n.data.durationChange,!1));n.options.frameAnimation?
(n.data.timeUpdate=function(){w.timeUpdate(n,{});w.forEach(w.manifest,function(a,l){if(h=n.data.running[l])for(c=h.length,a=0;a<c;a++)b=h[a],(k=b._natives)&&k.frame&&k.frame.call(n,{},b,n.currentTime())});n.emit("timeupdate");!n.isDestroyed&&C(n.data.timeUpdate)},!n.isDestroyed&&C(n.data.timeUpdate)):(n.data.timeUpdate=function(a){w.timeUpdate(n,a)},n.isDestroyed||n.media.addEventListener("timeupdate",n.data.timeUpdate,!1))};n.media.addEventListener("error",function(){n.error=n.media.error},!1);1<=
n.media.readyState?m():n.media.addEventListener("loadedmetadata",m,!1);return this}}};w.p.init.prototype=w.p;w.byId=function(a){for(var h=w.instances,b=h.length,c=0;c<b;c++)if(h[c].id===a)return h[c];return null};w.forEach=function(a,h,b){if(!a||!h)return{};b=b||this;var c,k;if(q&&a.forEach===q)return a.forEach(h,b);if("[object NodeList]"===t.call(a)){c=0;for(k=a.length;c<k;c++)h.call(b,a[c],c,a);return a}for(c in a)n.call(a,c)&&h.call(b,a[c],c,a);return a};w.extend=function(a){var b=a,c=h.call(arguments,
1);w.forEach(c,function(a){for(var h in a)b[h]=a[h]});return b};w.extend(w,{noConflict:function(h){h&&(a.Popcorn=y);return w},error:function(a){throw Error(a);},guid:function(a){w.guid.counter++;return(a?a:"")+(+new Date+w.guid.counter)},sizeOf:function(a){var h=0,b;for(b in a)h++;return h},isArray:Array.isArray||function(a){return"[object Array]"===t.call(a)},nop:function(){},position:function(h){if(!h.parentNode)return null;h=h.getBoundingClientRect();var b={},k=c.documentElement,n=c.body,l,r,m;
l=k.clientTop||n.clientTop||0;r=k.clientLeft||n.clientLeft||0;m=a.pageYOffset&&k.scrollTop||n.scrollTop;k=a.pageXOffset&&k.scrollLeft||n.scrollLeft;l=Math.ceil(h.top+m-l);r=Math.ceil(h.left+k-r);for(var t in h)b[t]=Math.round(h[t]);return w.extend({},b,{top:l,left:r})},disable:function(a,h){if(!a.data.disabled[h]){a.data.disabled[h]=!0;if(h in w.registryByName&&a.data.running[h])for(var b=a.data.running[h].length-1,c;0<=b;b--)c=a.data.running[h][b],c._natives.end.call(a,null,c),a.emit("trackend",
w.extend({},c,{plugin:c.type,type:"trackend"}));return a}},enable:function(a,h){if(a.data.disabled[h]){a.data.disabled[h]=!1;if(h in w.registryByName&&a.data.running[h])for(var b=a.data.running[h].length-1,c;0<=b;b--)c=a.data.running[h][b],c._natives.start.call(a,null,c),a.emit("trackstart",w.extend({},c,{plugin:c.type,type:"trackstart",track:c}));return a}},destroy:function(a){var h=a.data.events,b=a.data.trackEvents,c,k,n,l;for(k in h){c=h[k];for(n in c)delete c[n];h[k]=null}for(l in w.registryByName)w.removePlugin(a,
l);b.byStart.length=0;b.byEnd.length=0;a.isDestroyed||(a.data.timeUpdate&&a.media.removeEventListener("timeupdate",a.data.timeUpdate,!1),a.isDestroyed=!0);w.instances.splice(w.instances.indexOf(a),1)}});w.guid.counter=1;w.extend(w.p,function(){var a={};w.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(h){a[h]=function(a){var b;return"function"===typeof this.media[h]?
(null!=a&&/play|pause/.test(h)&&(this.media.currentTime=w.util.toSeconds(a)),this.media[h](),this):null!=a?(b=this.media[h],this.media[h]=a,b!==a&&this.emit("attrchange",{attribute:h,previousValue:b,currentValue:a}),this):this.media[h]}});return a}());w.forEach(["enable","disable"],function(a){w.p[a]=function(h){return w[a](this,h)}});w.extend(w.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(a,h,c){var k=arguments.length,n="trackadded",l,r;try{r=w.util.toSeconds(a)}catch(m){}"number"===
typeof r&&(a=r);if("number"===typeof a&&2===k)c=h,h=a,a=w.guid("cue");else if(1===k)h=-1;else if(l=this.getTrackEvent(a))this.data.trackEvents.remove(a),b.end(this,l),w.removeTrackEvent.ref(this,a),n="cuechange","string"===typeof a&&2===k&&("number"===typeof h&&(c=l._natives.start),"function"===typeof h&&(c=h,h=l.start));else if(2<=k){if("string"===typeof h){try{r=w.util.toSeconds(h)}catch(m){}h=r}"number"===typeof h&&(c=c||w.nop());"function"===typeof h&&(c=h,h=-1)}k={id:a,start:h,end:h+1,_running:!1,
_natives:{start:c||w.nop,end:w.nop,type:"cue"}};l&&(k=w.extend(l,k));"cuechange"===n?(k._id=k.id||k._id||w.guid(k._natives.type),this.data.trackEvents.add(k),b.start(this,k),this.timeUpdate(this,null,!0),w.addTrackEvent.ref(this,k),this.emit(n,w.extend({},k,{id:a,type:n,previousValue:{time:l.start,fn:l._natives.start},currentValue:{time:h,fn:c||w.nop},track:l}))):w.addTrackEvent(this,k);return this},mute:function(a){a=null==a||!0===a?"muted":"unmuted";"unmuted"===a&&(this.media.muted=!1,this.media.volume=
this.data.state.volume);"muted"===a&&(this.data.state.volume=this.media.volume,this.media.muted=!0);this.emit(a);return this},unmute:function(a){return this.mute(null==a?!1:!a)},position:function(){return w.position(this.media)},toggle:function(a){return w[this.data.disabled[a]?"enable":"disable"](this,a)},defaults:function(a,h){if(w.isArray(a))return w.forEach(a,function(a){for(var h in a)this.defaults(h,a[h])},this),this;this.options.defaults||(this.options.defaults={});this.options.defaults[a]||
(this.options.defaults[a]={});w.extend(this.options.defaults[a],h);return this}});w.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};w.Events.Natives=w.Events.UIEvents+" "+w.Events.MouseEvents+
" "+w.Events.Events;r.apiTypes=["UIEvents","MouseEvents","Events"];(function(a,h){for(var b=r.apiTypes,c=a.Natives.split(/\s+/g),k=0,n=c.length;k<n;k++)h.hash[c[k]]=!0;b.forEach(function(b,c){h.apis[b]={};c=a[b].split(/\s+/g);for(var k=c.length,n=0;n<k;n++)h.apis[b][c[n]]=!0})})(w.Events,r);w.events={isNative:function(a){return!!r.hash[a]},getInterface:function(a){if(!w.events.isNative(a))return!1;for(var h=r.apiTypes,b=r.apis,c=0,k=h.length,n,l;c<k;c++)if(l=h[c],b[l][a]){n=l;break}return n},all:w.Events.Natives.split(/\s+/g),
fn:{trigger:function(h,b){var k,n=this.data.events[h];if(n){if(k=w.events.getInterface(h))return k=c.createEvent(k),k.initEvent(h,!0,!0,a,1),this.media.dispatchEvent(k),this;for(k=n.slice();k.length;)k.shift().call(this,b)}return this},listen:function(a,h){var b=this,c=!0,k=w.events.hooks[a],n,l;if("function"!==typeof h)throw Error("Popcorn.js Error: Listener is not a function");this.data.events[a]||(this.data.events[a]=[],c=!1);k&&(k.add&&k.add.call(this,{},h),k.bind&&(a=k.bind),k.handler&&(l=h,
h=function(a){k.handler.call(b,a,l)}),c=!0,this.data.events[a]||(this.data.events[a]=[],c=!1));this.data.events[a].push(h);!c&&-1<w.events.all.indexOf(a)&&this.media.addEventListener(a,function(h){if(b.data.events[a])for(n=b.data.events[a].slice();n.length;)n.shift().call(b,h)},!1);return this},unlisten:function(a,h){var b,c=this.data.events[a];if(c){if("string"===typeof h){for(b=0;b<c.length;b++)c[b].name===h&&c.splice(b--,1);return this}if("function"===typeof h){for(;-1!==b;)b=c.indexOf(h),-1!==
b&&c.splice(b,1);return this}this.data.events[a]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(a,h){var b=!1;this.media.readyState&&(setTimeout(function(){h.call(this,a)}.bind(this),0),b=!0);this.data.hooks.canplayall={fired:b}},handler:function(a,h){this.data.hooks.canplayall.fired||(h.call(this,a),this.data.hooks.canplayall.fired=!0)}}}};w.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(a){w.p[a[0]]=w.p[a[1]]=w.events.fn[a[0]]});b.start=function(a,
h){h.end>a.media.currentTime&&h.start<=a.media.currentTime&&!h._running&&(h._running=!0,a.data.running[h._natives.type].push(h),a.data.disabled[h._natives.type]||(h._natives.start.call(a,null,h),a.emit("trackstart",w.extend({},h,{plugin:h._natives.type,type:"trackstart",track:h}))))};b.end=function(a,h){var b;(h.end<=a.media.currentTime||h.start>a.media.currentTime)&&h._running&&(b=a.data.running[h._natives.type],h._running=!1,b.splice(b.indexOf(h),1),a.data.disabled[h._natives.type]||(h._natives.end.call(a,
null,h),a.emit("trackend",w.extend({},h,{plugin:h._natives.type,type:"trackend",track:h}))))};k.prototype.where=function(a){return(this.parent.getTrackEvents()||[]).filter(function(h){var b,c;if(!a)return!0;for(b in a){c=a[b];var k;(k=h[b]&&h[b]===c)||(k=h._natives,k=k[b]&&k[b]===c);if(k)return!0}return!1})};k.prototype.add=function(a){var h=this.byStart,b=this.byEnd,c;a&&a._id&&this.parent.data.history.push(a._id);a.start=w.util.toSeconds(a.start,this.parent.options.framerate);a.end=w.util.toSeconds(a.end,
this.parent.options.framerate);for(c=h.length-1;0<=c;c--)if(a.start>=h[c].start){h.splice(c+1,0,a);break}for(h=b.length-1;0<=h;h--)if(a.end>b[h].end){b.splice(h+1,0,a);break}c<=this.parent.data.trackEvents.startIndex&&a.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;h<=this.parent.data.trackEvents.endIndex&&a.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++;this.count++};k.prototype.remove=function(a,h){a instanceof
b&&(a=a.id);if("object"===typeof a)return this.where(a).forEach(function(a){this.removeTrackEvent(a._id)},this.parent),this;var c,k;k=this.byStart.length;for(var n=0,l=0,r=[],m=[],t=[],p=[];-1<--k;)h=this.byStart[n],c=this.byEnd[n],h._id||(r.push(h),m.push(c)),h._id&&(h._id!==a&&r.push(h),c._id!==a&&m.push(c),h._id===a&&(l=n)),n++;k=this.animating.length;n=0;if(k)for(;-1<--k;)h=this.animating[n],h._id||t.push(h),h._id&&h._id!==a&&t.push(h),n++;l<=this.startIndex&&this.startIndex--;l<=this.endIndex&&
this.endIndex--;this.byStart=r;this.byEnd=m;this.animating=t;this.count--;k=this.parent.data.history.length;for(n=0;n<k;n++)this.parent.data.history[n]!==a&&p.push(this.parent.data.history[n]);this.parent.data.history=p};w.addTrackEvent=function(a,h){var c;h instanceof b||((h=new b(h),h._natives)&&h._natives.type&&a.options.defaults&&a.options.defaults[h._natives.type]&&(c=w.extend({},h),w.extend(h,a.options.defaults[h._natives.type],c)),h._natives&&(h._id=h.id||h._id||w.guid(h._natives.type),h._natives._setup&&
(h._natives._setup.call(a,h),a.emit("tracksetup",w.extend({},h,{plugin:h._natives.type,type:"tracksetup",track:h})))),a.data.trackEvents.add(h),b.start(a,h),this.timeUpdate(a,null,!0),h._id&&w.addTrackEvent.ref(a,h),a.emit("trackadded",w.extend({},h,h._natives?{plugin:h._natives.type}:{},{type:"trackadded",track:h})))};w.addTrackEvent.ref=function(a,h){a.data.trackRefs[h._id]=h;return a};w.removeTrackEvent=function(a,h){var b=a.getTrackEvent(h);b&&(b._natives._teardown&&b._natives._teardown.call(a,
b),a.data.trackEvents.remove(h),w.removeTrackEvent.ref(a,h),b._natives&&a.emit("trackremoved",w.extend({},b,{plugin:b._natives.type,type:"trackremoved",track:b})))};w.removeTrackEvent.ref=function(a,h){delete a.data.trackRefs[h];return a};w.getTrackEvents=function(a){var h=[];a=a.data.trackEvents.byStart;for(var b=a.length,c=0,k;c<b;c++)k=a[c],k._id&&h.push(k);return h};w.getTrackEvents.ref=function(a){return a.data.trackRefs};w.getTrackEvent=function(a,h){return a.data.trackRefs[h]};w.getTrackEvent.ref=
function(a,h){return a.data.trackRefs[h]};w.getLastTrackEventId=function(a){return a.data.history[a.data.history.length-1]};w.timeUpdate=function(a,h){var b=a.media.currentTime,c=a.data.trackEvents.previousUpdateTime,k=a.data.trackEvents,n=k.endIndex,l=k.startIndex,r=k.byStart.length,m=k.byEnd.length,t=w.registryByName,p,x,y;if(c<=b){for(;k.byEnd[n]&&k.byEnd[n].end<=b;)if(p=k.byEnd[n],x=(c=p._natives)&&c.type,!c||t[x]||a[x])!0===p._running&&(p._running=!1,y=a.data.running[x],y.splice(y.indexOf(p),
1),a.data.disabled[x]||(c.end.call(a,h,p),a.emit("trackend",w.extend({},p,{plugin:x,type:"trackend",track:p})))),n++;else{w.removeTrackEvent(a,p._id);return}for(;k.byStart[l]&&k.byStart[l].start<=b;)if(p=k.byStart[l],x=(c=p._natives)&&c.type,!c||t[x]||a[x])p.end>b&&!1===p._running&&(p._running=!0,a.data.running[x].push(p),a.data.disabled[x]||(c.start.call(a,h,p),a.emit("trackstart",w.extend({},p,{plugin:x,type:"trackstart",track:p})))),l++;else{w.removeTrackEvent(a,p._id);return}}else if(c>b){for(;k.byStart[l]&&
k.byStart[l].start>b;)if(p=k.byStart[l],x=(c=p._natives)&&c.type,!c||t[x]||a[x])!0===p._running&&(p._running=!1,y=a.data.running[x],y.splice(y.indexOf(p),1),a.data.disabled[x]||(c.end.call(a,h,p),a.emit("trackend",w.extend({},p,{plugin:x,type:"trackend",track:p})))),l--;else{w.removeTrackEvent(a,p._id);return}for(;k.byEnd[n]&&k.byEnd[n].end>b;)if(p=k.byEnd[n],x=(c=p._natives)&&c.type,!c||t[x]||a[x])p.start<=b&&!1===p._running&&(p._running=!0,a.data.running[x].push(p),a.data.disabled[x]||(c.start.call(a,
h,p),a.emit("trackstart",w.extend({},p,{plugin:x,type:"trackstart",track:p})))),n--;else{w.removeTrackEvent(a,p._id);return}}k.endIndex=n;k.startIndex=l;k.previousUpdateTime=b;k.byStart.length<r&&k.startIndex--;k.byEnd.length<m&&k.endIndex--};w.extend(w.p,{getTrackEvents:function(){return w.getTrackEvents.call(null,this)},getTrackEvent:function(a){return w.getTrackEvent.call(null,this,a)},getLastTrackEventId:function(){return w.getLastTrackEventId.call(null,this)},removeTrackEvent:function(a){w.removeTrackEvent.call(null,
this,a);return this},removePlugin:function(a){w.removePlugin.call(null,this,a);return this},timeUpdate:function(a){w.timeUpdate.call(null,this,a);return this},destroy:function(){w.destroy.call(null,this);return this}});w.manifest={};w.registry=[];w.registryByName={};w.plugin=function(a,c,k){if(0<=w.protect.natives.indexOf(a.toLowerCase()))w.error("'"+a+"' is a protected function name");else{var r="function"===typeof c,m=["start","end","type","manifest"],t=["_setup","_teardown","start","end","frame"],
p={},x=function(a,h){a=a||w.nop;h=h||w.nop;return function(){a.apply(this,arguments);h.apply(this,arguments)}};w.manifest[a]=k=k||c.manifest||{};t.forEach(function(h){c[h]=l(c[h]||w.nop,a)});var y=function(c,l){if(!l)return this;if(l.ranges&&w.isArray(l.ranges))return w.forEach(l.ranges,function(h){h=w.extend({},l,h);delete h.ranges;this[a](h)},this),this;var r=l._natives={},p="",y;w.extend(r,c);l._natives.type=l._natives.plugin=a;l._running=!1;r.start=r.start||r["in"];r.end=r.end||r.out;l.once&&
(r.end=x(r.end,function(){this.removeTrackEvent(l._id)}));r._teardown=x(function(){var a=h.call(arguments),b=this.data.running[r.type];a.unshift(null);a[1]._running&&b.splice(b.indexOf(l),1)&&r.end.apply(this,a);a[1]._running=!1;this.emit("trackend",w.extend({},l,{plugin:r.type,type:"trackend",track:w.getTrackEvent(this,l.id||l._id)}))},r._teardown);r._teardown=x(r._teardown,function(){this.emit("trackteardown",w.extend({},l,{plugin:a,type:"trackteardown",track:w.getTrackEvent(this,l.id||l._id)}))});
l.compose=l.compose||[];"string"===typeof l.compose&&(l.compose=l.compose.split(" "));l.effect=l.effect||[];"string"===typeof l.effect&&(l.effect=l.effect.split(" "));l.compose=l.compose.concat(l.effect);l.compose.forEach(function(a){p=w.compositions[a]||{};t.forEach(function(a){r[a]=x(r[a],p[a])})});l._natives.manifest=k;"start"in l||(l.start=l["in"]||0);l.end||0===l.end||(l.end=l.out||Number.MAX_VALUE);n.call(l,"toString")||(l.toString=function(){var h=["start: "+l.start,"end: "+l.end,"id: "+(l.id||
l._id)];null!=l.target&&h.push("target: "+l.target);return a+" ( "+h.join(", ")+" )"});l.target||(y="options"in k&&k.options,l.target=y&&"target"in y&&y.target);!l._id&&l._natives&&(l._id=w.guid(l._natives.type));l instanceof b?(l._natives&&(l._id=l.id||l._id||w.guid(l._natives.type),l._natives._setup&&(l._natives._setup.call(this,l),this.emit("tracksetup",w.extend({},l,{plugin:l._natives.type,type:"tracksetup",track:l})))),this.data.trackEvents.add(l),b.start(this,l),this.timeUpdate(this,null,!0),
l._id&&w.addTrackEvent.ref(this,l)):w.addTrackEvent(this,l);w.forEach(c,function(a,h){if(-1===m.indexOf(h))this.on(h,a)},this);return this};w.p[a]=p[a]=function(h,k){var l,m;if(h&&!k)k=h;else{if(l=this.getTrackEvent(h)){m=k;var t={},p;for(p in l)n.call(m,p)&&n.call(l,p)&&(t[p]=l[p]);if(l._natives._update)this.data.trackEvents.remove(l),n.call(k,"start")&&(l.start=k.start),n.call(k,"end")&&(l.end=k.end),b.end(this,l),r&&c.call(this,l),l._natives._update.call(this,l,k),this.data.trackEvents.add(l),
b.start(this,l);else return w.extend(l,k),this.data.trackEvents.remove(h),l._natives._teardown&&l._natives._teardown.call(this,l),w.removeTrackEvent.ref(this,h),r?y.call(this,c.call(this,l),l):(l._id=l.id||l._id||w.guid(l._natives.type),l._natives&&l._natives._setup&&(l._natives._setup.call(this,l),this.emit("tracksetup",w.extend({},l,{plugin:l._natives.type,type:"tracksetup",track:l}))),this.data.trackEvents.add(l),b.start(this,l),this.timeUpdate(this,null,!0),w.addTrackEvent.ref(this,l)),this.emit("trackchange",
{id:l.id,type:"trackchange",previousValue:t,currentValue:l,track:l}),this;"cue"!==l._natives.type&&this.emit("trackchange",{id:l.id,type:"trackchange",previousValue:t,currentValue:m,track:l});return this}k.id=h}this.data.running[a]=this.data.running[a]||[];l=w.extend({},this.options.defaults&&this.options.defaults[a]||{},k);y.call(this,r?c.call(this,l):c,l);return this};k&&w.extend(c,{manifest:k});var q={fn:p[a],definition:c,base:c,parents:[],name:a};w.registry.push(w.extend(p,q,{type:a}));w.registryByName[a]=
q;return p}};w.plugin.errors=[];w.plugin.debug="@VERSION"===w.version;w.removePlugin=function(a,h){if(!h){h=a;a=w.p;if(0<=w.protect.natives.indexOf(h.toLowerCase())){w.error("'"+h+"' is a protected function name");return}var b=w.registry.length,c;for(c=0;c<b;c++)if(w.registry[c].name===h){w.registry.splice(c,1);delete w.registryByName[h];delete w.manifest[h];delete a[h];return}}b=a.data.trackEvents.byStart;c=a.data.trackEvents.byEnd;var k=a.data.trackEvents.animating,l,n;l=0;for(n=b.length;l<n;l++)b[l]&&
b[l]._natives&&b[l]._natives.type===h&&(b[l]._natives._teardown&&b[l]._natives._teardown.call(a,b[l]),b.splice(l,1),l--,n--,a.data.trackEvents.startIndex<=l&&(a.data.trackEvents.startIndex--,a.data.trackEvents.endIndex--)),c[l]&&c[l]._natives&&c[l]._natives.type===h&&c.splice(l,1);l=0;for(n=k.length;l<n;l++)k[l]&&k[l]._natives&&k[l]._natives.type===h&&(k.splice(l,1),l--,n--)};w.compositions={};w.compose=function(a,h,b){w.manifest[a]=b||h.manifest||{};w.compositions[a]=h};w.plugin.effect=w.effect=
w.compose;var B=/^(?:\.|#|\[)/;w.dom={debug:!1,find:function(a,h){var b=null;h=h||c;if(a){if(!B.test(a)&&(b=c.getElementById(a),null!==b))return b;try{b=h.querySelector(a)}catch(k){if(w.dom.debug)throw Error(k);}}return b}};var E=/\?/,D={ajax:null,url:"",data:"",dataType:"",success:w.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8"};w.xhr=function(a){a.dataType=a.dataType&&a.dataType.toLowerCase()||null;if(!a.dataType||"jsonp"!==a.dataType&&"script"!==a.dataType){if(a=
w.extend({},D,a),a.ajax=new XMLHttpRequest,a.ajax)return"GET"===a.type&&a.data&&(a.url+=(E.test(a.url)?"\x26":"?")+a.data,a.data=null),a.ajax.open(a.type,a.url,a.async),"POST"===a.type&&a.ajax.setRequestHeader("Content-Type",a.contentType),a.ajax.send(a.data||null),w.xhr.httpData(a)}else w.xhr.getJSONP(a.url,a.success,"script"===a.dataType)};w.xhr.httpData=function(a){var h,b=null,c,k=null;a.ajax.onreadystatechange=function(){if(4===a.ajax.readyState){try{b=JSON.parse(a.ajax.responseText)}catch(l){}h=
{xml:a.ajax.responseXML,text:a.ajax.responseText,json:b};if(!h.xml||!h.xml.documentElement){h.xml=null;try{c=new DOMParser,k=c.parseFromString(a.ajax.responseText,"text/xml"),k.getElementsByTagName("parsererror").length||(h.xml=k)}catch(l){}}a.dataType&&(h=h[a.dataType]);a.success.call(a.ajax,h)}};return h};w.xhr.getJSONP=function(a,h,b){var k=c.head||c.getElementsByTagName("head")[0]||c.documentElement,l=c.createElement("script"),n=!1,r=[],r=/(=)\?(?=&|$)|\?\?/,m,t;b||(t=a.match(/(callback=[^&]*)/),
null!==t&&t.length?(r=t[1].split("\x3d")[1],"?"===r&&(r="jsonp"),m=w.guid(r),a=a.replace(/(callback=[^&]*)/,"callback\x3d"+m)):(m=w.guid("jsonp"),r.test(a)&&(a=a.replace(r,"$1"+m)),r=a.split(/\?(.+)?/),a=r[0]+"?",r[1]&&(a+=r[1]+"\x26"),a+="callback\x3d"+m),window[m]=function(a){h&&h(a);n=!0});l.addEventListener("load",function(){b&&h&&h();n&&delete window[m];k.removeChild(l)},!1);l.addEventListener("error",function(a){h&&h({error:a});b||delete window[m];k.removeChild(l)},!1);l.src=a;k.insertBefore(l,
k.firstChild)};w.getJSONP=w.xhr.getJSONP;w.getScript=w.xhr.getScript=function(a,h){return w.xhr.getJSONP(a,h,!0)};w.util={toSeconds:function(a,h){var b=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,c,k;if("number"===typeof a)return a;"string"!==typeof a||b.test(a)||w.error("Invalid time format");b=a.split(":");a=b.length-1;c=b[a];-1<c.indexOf(";")&&(c=c.split(";"),k=0,h&&"number"===typeof h&&(k=parseFloat(c[1],10)/h),b[a]=parseInt(c[0],10)+k);a=b[0];return{1:parseFloat(a,10),2:60*parseInt(a,10)+parseFloat(b[1],
10),3:3600*parseInt(a,10)+60*parseInt(b[1],10)+parseFloat(b[2],10)}[b.length||1]}};w.p.cue=w.p.exec;w.protect={natives:function(a){if(Object.keys)a=Object.keys(a);else{var h,b=[];for(h in a)n.call(a,h)&&b.push(h);a=b}return a}(w.p).map(function(a){return a.toLowerCase()})};w.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(a,h){var b=w.p[h];w.p[h]=function(){"undefined"!==typeof console&&console.warn&&(w.p[h]=b);return w.p[a].apply(this,[].slice.call(arguments))}});a.Popcorn=
w}else for(a.Popcorn={isSupported:!1},p="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);p.length;)a.Popcorn[p.shift()]=function(){}})(window,window.document);
(function(a){var c=function(b,c){b=b||a.nop;c=c||a.nop;return function(){b.apply(this,arguments);c.apply(this,arguments)}};a.player=function(b,k){if(!a[b]){k=k||{};var l=function(b,l,q){q=q||{};var h=new Date/1E3,n=h,t=0,y=0,x=1,z=!1,r={},C="string"===typeof b?a.dom.find(b):b,A={};Object.prototype.__defineGetter__||(A=C||document.createElement("div"));for(var w in C)w in A||("object"===typeof C[w]?A[w]=C[w]:"function"===typeof C[w]?A[w]=function(a){return"length"in C[a]&&!C[a].call?C[a]:function(){return C[a].apply(C,
arguments)}}(w):a.player.defineProperty(A,w,{get:function(a){return function(){return C[a]}}(w),set:a.nop,configurable:!0}));var B=function(){h=new Date/1E3;A.paused||(A.currentTime+=h-n,A.dispatchEvent("timeupdate"),setTimeout(B,10));n=h};A.play=function(){this.paused=!1;4<=A.readyState&&(n=new Date/1E3,A.dispatchEvent("play"),B())};A.pause=function(){this.paused=!0;A.dispatchEvent("pause")};a.player.defineProperty(A,"currentTime",{get:function(){return t},set:function(a){t=+a;A.dispatchEvent("timeupdate");
return t},configurable:!0});a.player.defineProperty(A,"volume",{get:function(){return x},set:function(a){x=+a;A.dispatchEvent("volumechange");return x},configurable:!0});a.player.defineProperty(A,"muted",{get:function(){return z},set:function(a){z=+a;A.dispatchEvent("volumechange");return z},configurable:!0});a.player.defineProperty(A,"readyState",{get:function(){return y},set:function(a){return y=a},configurable:!0});A.addEventListener=function(a,h){r[a]||(r[a]=[]);r[a].push(h);return h};A.removeEventListener=
function(a,h){var b=r[a];if(b){for(a=r[a].length-1;0<=a;a--)h===b[a]&&b.splice(a,1);return h}};A.dispatchEvent=function(h){var b,c=h.type;!c&&(c=h,h=a.events.getInterface(c))&&(b=document.createEvent(h),b.initEvent(c,!0,!0,window,1));if(r[c])for(h=r[c].length-1;0<=h;h--)r[c][h].call(this,b,this)};A.src=l||"";A.duration=0;A.paused=!0;A.ended=0;q&&q.events&&a.forEach(q.events,function(a,h){A.addEventListener(h,a,!1)});!1!==k._canPlayType(C.nodeName,l)?k._setup?k._setup.call(A,q):(A.readyState=4,A.dispatchEvent("loadedmetadata"),
A.dispatchEvent("loadeddata"),A.dispatchEvent("canplaythrough")):setTimeout(function(){A.dispatchEvent("error")},0);b=new a.p.init(A,q);k._teardown&&(b.destroy=c(b.destroy,function(){k._teardown.call(A,q)}));return b};l.canPlayType=k._canPlayType=k._canPlayType||a.nop;a[b]=a.player.registry[b]=l}};a.player.registry={};a.player.defineProperty=Object.defineProperty||function(b,c,l){b.__defineGetter__(c,l.get||a.nop);b.__defineSetter__(c,l.set||a.nop)};a.player.playerQueue=function(){var a=[],c=!1;return{next:function(){c=
!1;a.shift();a[0]&&a[0]()},add:function(l){a.push(function(){c=!0;l&&l()});!c&&a[0]()}}};a.smart=function(b,c,l){var p="string"===typeof b?a.dom.find(b):b,m,q,h,n,t,y=["HTMLYouTubeVideoElement","HTMLVimeoVideoElement","HTMLSoundCloudAudioElement","HTMLNullVideoElement"];if(p){c="string"===typeof c?[c]:c;b=0;for(t=c.length;b<t;b++){m=c[b];for(q=0;q<y.length;q++)if((n=a[y[q]])&&"probably"===n._canPlaySrc(m))return h=n(p),l=a(h,l),setTimeout(function(){h.src=m},0),l;for(var x in a.player.registry)if(a.player.registry.hasOwnProperty(x)&&
a.player.registry[x].canPlayType(p.nodeName,m))return a[x](p,m,l)}var z;x=a.guid("popcorn-video-");q=document.createElement("div");q.style.width="100%";q.style.height="100%";if(1===c.length)return z=document.createElement("video"),z.id=x,p.appendChild(z),setTimeout(function(){var a=document.createElement("div");a.innerHTML=c[0];z.src=a.firstChild.nodeValue},0),a("#"+x,l);p.appendChild(q);y='\x3cvideo id\x3d"'+x+'" preload\x3dauto autobuffer\x3e';b=0;for(t=c.length;b<t;b++)y+='\x3csource src\x3d"'+
c[b]+'"\x3e';q.innerHTML=y+"\x3c/video\x3e";l&&l.events&&l.events.error&&p.addEventListener("error",l.events.error,!1);return a("#"+x,l)}a.error("Specified target `"+b+"` was not found.")}})(Popcorn);
(function(a){var c=Object.prototype.hasOwnProperty;a.parsers={};a.parser=function(b,k,l){if(0<=a.protect.natives.indexOf(b.toLowerCase()))a.error("'"+b+"' is a protected function name");else if("function"!==typeof k||l||(l=k,k=""),"function"===typeof l&&"string"===typeof k){var p={};p[b]=function(b,p,h){if(!b)return this;"function"===typeof p||h||(h=p,p=null);var n=this;a.xhr({url:b,dataType:k,success:function(a){var b,k,m=0;a=l(a,h).data||[];if(b=a.length){for(;m<b;m++){k=a[m];for(var r in k)if(c.call(k,
r)&&n[r])n[r](k[r])}p&&p()}}});return this};a.extend(a.p,p);return p}}})(Popcorn);
(function(a){function c(a,b){var c={};c[a]=b;return c}function b(a){a=a.split(":");try{var b=a[2].split(",");1===b.length&&(b=a[2].split("."));return 3600*parseFloat(a[0],10)+60*parseFloat(a[1],10)+parseFloat(b[0],10)+parseFloat(b[1],10)/1E3}catch(c){return 0}}a.parser("parseSRT",function(a,l){var p={title:"",remote:"",data:[]},m=[],q,h,n,t,y,x;h=a.text.split(/(?:\r\n|\r|\n)/gm);for(t=h.length-1;0<=t&&!h[t];)t--;y=t+1;for(a=0;a<y;a++){x={};for(t=[];!h[a];)a++;x.id=parseInt(h[a++],10);n=h[a++].split(/[\t ]*--\x3e[\t ]*/);
x.start=b(n[0]);q=n[1].indexOf(" ");-1!==q&&(n[1]=n[1].substr(0,q));for(x.end=b(n[1]);a<y&&h[a];)t.push(h[a++]);x.text=t.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"");x.text=x.text.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");x.text=x.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"\x3c$1$3$7\x3e");x.text=x.text.replace(/\\N/gi,"\x3cbr /\x3e");l&&l.target&&(x.target=l.target);m.push(c("subtitle",x))}p.data=m;
return p})})(Popcorn);
(function(a){a.parser("parseSBV",function(a){var b={title:"",remote:"",data:[]},k=[],l=0,p=0,m=function(a){a=a.split(":");var h=a.length-1,b;try{b=60*parseInt(a[h-1],10)+parseFloat(a[h],10),2===h&&(b+=3600*parseInt(a[0],10))}catch(c){throw"Bad cue";}return b},q=function(a,h){var b={};b[a]=h;return b};a=a.text.split(/(?:\r\n|\r|\n)/gm);for(p=a.length;l<p;){var h={},n=[],t=a[l++].split(",");try{h.start=m(t[0]);for(h.end=m(t[1]);l<p&&a[l];)n.push(a[l++]);h.text=n.join("\x3cbr /\x3e");k.push(q("subtitle",
h))}catch(y){for(;l<p&&a[l];)l++}for(;l<p&&!a[l];)l++}b.data=k;return b})})(Popcorn);
(function(a){function c(a){var b=a.split(":");a=a.length;var c;if(12!==a&&9!==a)throw"Bad cue";a=b.length-1;try{c=60*parseInt(b[a-1],10)+parseFloat(b[a],10),2===a&&(c+=3600*parseInt(b[0],10))}catch(m){throw"Bad cue";}return c}function b(a,b){var c={};c[a]=b;return c}a.parser("parseVTT",function(a){var l={title:"",remote:"",data:[]},p=[],m=0,q,h,n;q=a.text.split(/(?:\r\n|\r|\n)/gm);a=q.length;if(0===a||"WEBVTT"!==q[0])return l;for(m++;m<a;){h=[];try{for(var t=m;t<a&&!q[t];)t++;var m=t,t=void 0,y=q[m++],
x={};if(!y)throw"Bad cue";if(-1===y.indexOf("--\x3e")){y=q[m];if(-1===y.indexOf("--\x3e"))throw"Bad cue";m++}t=y.replace(/--\x3e/," --\x3e ").split(/[\t ]+/);if(2>t.length)throw"Bad cue";x.id=y;x.start=c(t[0]);x.end=c(t[2]);for(n=x;m<a&&q[m];)h.push(q[m++]);n.text=h.join("\x3cbr /\x3e");p.push(b("subtitle",n))}catch(z){for(;m<a&&q[m];)m++}}l.data=p;return l})})(Popcorn);
(function(a){var c=0,b=function(b,c){var p=b.container=document.createElement("div"),m=p.style;p.id=c||a.guid();p.className="subClass";m.position="absolute";m.color="white";m.textShadow="black 2px 2px 6px";m.fontWeight="400";m.textAlign="center";b.media.parentNode.appendChild(p);return p};a.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",
type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(a){var l=document.createElement("div");l.id="subtitle-"+c++;l.style.display="none";this.container||a.target&&"subtitle-container"!==a.target||b(this);a.container=a.target&&"subtitle-container"!==a.target?document.getElementById(a.target)||b(this,a.target):this.container;document.getElementById(a.container.id)&&document.getElementById(a.container.id).appendChild(l);a.innerContainer=l;
a.formatText=function(){a.text=a.text.replace("[br]","\x3cbr/\x3e")};a.showSubtitle=function(){a.formatText();var b=a.text?"\x26nbsp"+a.text.replace(/<br\s*[\/]?>/gi,"\x26nbsp\x3cbr\x3e\x26nbsp")+"\x26nbsp":"";a.innerContainer.innerHTML=b.replace("[br]","\x3cbr/\x3e")}},start:function(a,b){b.innerContainer.style.display="inline";b.showSubtitle(b,b.text)},end:function(a,b){b.innerContainer.style.display="none";b.innerContainer.innerHTML=""},_teardown:function(a){a.container.removeChild(a.innerContainer)}})})(Popcorn);
(function(a){var c=!1,b=!1,k={mp3:{codec:'audio/mpeg; codecs\x3d"mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,
media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},l=function(a){return a&&"object"===typeof a&&a.hasOwnProperty?!0:!1},p=function(a){var h=!1;/\.mp3$/i.test(a)?
h="mp3":/\.mp4$/i.test(a)||/\.m4v$/i.test(a)?h="m4v":/\.m4a$/i.test(a)?h="m4a":/\.ogg$/i.test(a)||/\.oga$/i.test(a)?h="oga":/\.ogv$/i.test(a)?h="ogv":/\.webm$/i.test(a)&&(h="webmv");return h},m=function(a){var h="",b="";if(l(a))for(var c in a)a.hasOwnProperty(c)&&(h+=b+c,b=",");return h};a.player("jplayer",{_canPlayType:function(a,h){var b=a.toLowerCase(),c={media:{},options:{}};a=!1;if("video"!==b&&"audio"!==b&&("string"===typeof h?/^http.*/i.test(h)&&(b=p(h))&&(c.media[b]=h,c.options.solution="html,flash",
c.options.supplied=b):c=h,l(c)&&l(c.media))){l(c.options)||(c.options={});c.options.solution||(c.options.solution="html,flash");c.options.supplied||(c.options.supplied=m(c.media));h=c.options.solution.toLowerCase().split(",");for(var c=c.options.supplied.toLowerCase().split(","),y=0;y<h.length;y++)for(var b=h[y].replace(/^\s+|\s+$/g,""),x="html"===b,z="flash"===b,r,C=0;C<c.length;C++)if(b=c[C].replace(/^\s+|\s+$/g,""),k[b]){!r&&x&&(r=document.createElement(k[b].media));var A=!!(r&&r.canPlayType&&
r.canPlayType(k[b].codec))&&x,w=k[b].flashCanPlay&&z;if(A||w)a={html:A,type:b},y=h.length,C=c.length}}return a},_setup:function(){var k=this,h,n,t="unknown",y={},x={},z=!1,r=0,C=null,A=!1,w=null,B=function(){z?k.dispatchEvent("durationchange"):(clearTimeout(C),C=setTimeout(B,250))},E=function(){var a=function(a){a.jPlayer.status.duration!==r&&(r=a.jPlayer.status.duration,B())},b=function(a){A||100!==a.jPlayer.status.seekPercent||(A=!0,setTimeout(function(){n._trigger($.jPlayer.event.canplaythrough)},
0))};h.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){n._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(h){a(h);b(h)}).bind($.jPlayer.event.timeupdate,function(h){a(h);b(h)}).bind($.jPlayer.event.play,function(){setTimeout(function(){n._trigger($.jPlayer.event.playing)},0)})},D=function(){(function(b){h=b("#"+k.id);"string"===typeof k.src?(t=p(k.src),y[t]=k.src,x.supplied=t,x.solution="html,flash"):l(k.src)&&(y=l(k.src.media)?k.src.media:{},x=l(k.src.options)?
k.src.options:{},x.solution=x.solution||"html,flash",x.supplied=x.supplied||m(k.src.media));x.swfPath=x.swfPath||"http://www.jplayer.org/2.4.0/js/Jplayer.swf";h.bind(b.jPlayer.event.ready,function(a){a.jPlayer.flash.used&&E();b(this).jPlayer("setMedia",y).jPlayer("load")});var c=(b.jPlayer.reservedEvent+" loadeddata durationchange").split(/\s+/g),C=function(a){h.bind(b.jPlayer.event[a],function(h){k.dispatchEvent(a)})},A;for(A in b.jPlayer.event)if(b.jPlayer.event.hasOwnProperty(A)){var D=!0,H;for(H in c)if(c.hasOwnProperty(H)&&
c[H]===A){D=!1;break}D&&C(A)}h.bind(b.jPlayer.event.loadeddata,function(a){k.dispatchEvent("loadeddata");z=!0});h.bind(b.jPlayer.event.durationchange,function(a){r=a.jPlayer.status.duration;B()});h.bind(b.jPlayer.event.error,function(a){w=a.jPlayer.error;w.code=w.type===b.jPlayer.error.URL?4:0;k.dispatchEvent("error")});a.player.defineProperty(k,"error",{set:function(){return w},get:function(){return w}});a.player.defineProperty(k,"currentTime",{set:function(a){n.status.paused?h.jPlayer("pause",a):
h.jPlayer("play",a);return a},get:function(){return n.status.currentTime}});a.player.defineProperty(k,"duration",{set:function(){return z?r:NaN},get:function(){return z?r:NaN}});a.player.defineProperty(k,"muted",{set:function(a){h.jPlayer("mute",a);return n.options.muted},get:function(){return n.options.muted}});a.player.defineProperty(k,"volume",{set:function(a){h.jPlayer("volume",a);return n.options.volume},get:function(){return n.options.volume}});a.player.defineProperty(k,"paused",{set:function(){return n.status.paused},
get:function(){return n.status.paused}});k.play=function(){h.jPlayer("play")};k.pause=function(){h.jPlayer("pause")};h.jPlayer(x);n=h.data("jPlayer")})(jQuery)},F=function(){jQuery.jPlayer?D():b?setTimeout(F,250):(b=!0,a.getScript("http://www.jplayer.org/2.4.0/js/jquery.jplayer.min.js",function(){b=!1;D()}))},H=function(){window.jQuery?F():c?setTimeout(H,250):(c=!0,a.getScript("http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js",function(){c=!1;F()}))};H()},_teardown:function(){jQuery("#"+
this.id).jPlayer("destroy")}})})(Popcorn);
!function(){function a(k){if(!k)throw Error("No options passed to Waypoint constructor");if(!k.element)throw Error("No element option passed to Waypoint constructor");if(!k.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+c;this.options=a.Adapter.extend({},a.defaults,k);this.element=this.options.element;this.adapter=new a.Adapter(this.element);this.callback=k.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=a.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=a.Context.findOrCreateByElement(this.options.context);a.offsetAliases[this.options.offset]&&(this.options.offset=a.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);b[this.key]=this;c+=1}var c=0,b={};a.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)};a.prototype.trigger=function(a){this.enabled&&this.callback&&this.callback.apply(this,a)};a.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete b[this.key]};a.prototype.disable=function(){return this.enabled=!1,this};a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};a.prototype.next=function(){return this.group.next(this)};a.prototype.previous=function(){return this.group.previous(this)};a.invokeAll=function(a){var c=[],p;for(p in b)c.push(b[p]);p=0;for(var m=c.length;m>p;p++)c[p][a]()};a.destroyAll=function(){a.invokeAll("destroy")};a.disableAll=
function(){a.invokeAll("disable")};a.enableAll=function(){a.invokeAll("enable")};a.refreshAll=function(){a.Context.refreshAll()};a.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};a.viewportWidth=function(){return document.documentElement.clientWidth};a.adapters=[];a.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};a.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},
"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=a}();
(function(){function a(a){window.setTimeout(a,1E3/60)}function c(a){this.element=a;this.Adapter=l.Adapter;this.adapter=new this.Adapter(a);this.key="waypoint-context-"+b;this.didResize=this.didScroll=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};a.waypointContextKey=this.key;k[a.waypointContextKey]=this;b+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var b=0,k={},l=window.Waypoint,p=window.onload;
c.prototype.add=function(a){this.waypoints[a.options.horizontal?"horizontal":"vertical"][a.key]=a;this.refresh()};c.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),b=this.Adapter.isEmptyObject(this.waypoints.vertical);a&&b&&(this.adapter.off(".waypoints"),delete k[this.key])};c.prototype.createThrottledResizeHandler=function(){function a(){b.handleResize();b.didResize=!1}var b=this;this.adapter.on("resize.waypoints",function(){b.didResize||(b.didResize=
!0,l.requestAnimationFrame(a))})};c.prototype.createThrottledScrollHandler=function(){function a(){b.handleScroll();b.didScroll=!1}var b=this;this.adapter.on("scroll.waypoints",function(){b.didScroll&&!l.isTouch||(b.didScroll=!0,l.requestAnimationFrame(a))})};c.prototype.handleResize=function(){l.Context.refreshAll()};c.prototype.handleScroll=function(){var a={},b={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),
oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},h;for(h in b){var c=b[h],k=c.newScroll>c.oldScroll?c.forward:c.backward,l;for(l in this.waypoints[h]){var p=this.waypoints[h][l],z=c.oldScroll<p.triggerPoint,r=c.newScroll>=p.triggerPoint,C=!z&&!r;(z&&r||C)&&(p.queueTrigger(k),a[p.group.id]=p.group)}}for(var A in a)a[A].flushTriggers();this.oldScroll={x:b.horizontal.newScroll,y:b.vertical.newScroll}};c.prototype.innerHeight=function(){return this.element==this.element.window?l.viewportHeight():
this.adapter.innerHeight()};c.prototype.remove=function(a){delete this.waypoints[a.axis][a.key];this.checkEmpty()};c.prototype.innerWidth=function(){return this.element==this.element.window?l.viewportWidth():this.adapter.innerWidth()};c.prototype.destroy=function(){var a=[],b;for(b in this.waypoints)for(var h in this.waypoints[b])a.push(this.waypoints[b][h]);b=0;for(h=a.length;h>b;b++)a[b].destroy()};c.prototype.refresh=function(){var a;a=this.element==this.element.window;var b=this.adapter.offset(),
h={};this.handleScroll();a={horizontal:{contextOffset:a?0:b.left,contextScroll:a?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:a?0:b.top,contextScroll:a?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var c in a){var b=a[c],k;for(k in this.waypoints[c]){var l,p,z,r=this.waypoints[c][k];z=r.options.offset;
l=r.triggerPoint;p=0;var C=null==l;r.element!==r.element.window&&(p=r.adapter.offset()[b.offsetProp]);"function"==typeof z?z=z.apply(r):"string"==typeof z&&(z=parseFloat(z),-1<r.options.offset.indexOf("%")&&(z=Math.ceil(b.contextDimension*z/100)));r.triggerPoint=p+(b.contextScroll-b.contextOffset)-z;l=l<b.oldScroll;p=r.triggerPoint>=b.oldScroll;z=l&&p;l=!l&&!p;!C&&z?(r.queueTrigger(b.backward),h[r.group.id]=r.group):!C&&l?(r.queueTrigger(b.forward),h[r.group.id]=r.group):C&&b.oldScroll>=r.triggerPoint&&
(r.queueTrigger(b.forward),h[r.group.id]=r.group)}}for(var A in h)h[A].flushTriggers();return this};c.findOrCreateByElement=function(a){return c.findByElement(a)||new c(a)};c.refreshAll=function(){for(var a in k)k[a].refresh()};c.findByElement=function(a){return k[a.waypointContextKey]};window.onload=function(){p&&p();c.refreshAll()};l.requestAnimationFrame=function(b){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||a).call(window,b)};l.Context=
c})();
(function(){function a(a,b){return a.triggerPoint-b.triggerPoint}function c(a,b){return b.triggerPoint-a.triggerPoint}function b(a){this.name=a.name;this.axis=a.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();k[this.axis][this.name]=this}var k={vertical:{},horizontal:{}},l=window.Waypoint;b.prototype.add=function(a){this.waypoints.push(a)};b.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};b.prototype.flushTriggers=function(){for(var b in this.triggerQueues){var k=
this.triggerQueues[b];k.sort("up"===b||"left"===b?c:a);for(var l=0,h=k.length;h>l;l+=1){var n=k[l];(n.options.continuous||l===k.length-1)&&n.trigger([b])}}this.clearTriggerQueues()};b.prototype.next=function(b){this.waypoints.sort(a);b=l.Adapter.inArray(b,this.waypoints);return b===this.waypoints.length-1?null:this.waypoints[b+1]};b.prototype.previous=function(b){this.waypoints.sort(a);return(b=l.Adapter.inArray(b,this.waypoints))?this.waypoints[b-1]:null};b.prototype.queueTrigger=function(a,b){this.triggerQueues[b].push(a)};
b.prototype.remove=function(a){a=l.Adapter.inArray(a,this.waypoints);-1<a&&this.waypoints.splice(a,1)};b.prototype.first=function(){return this.waypoints[0]};b.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};b.findOrCreate=function(a){return k[a.axis][a.name]||new b(a)};l.Group=b})();
(function(){function a(a){this.$element=c(a)}var c=window.jQuery,b=window.Waypoint;c.each("innerHeight innerWidth off offset on outerHeight outerWidth scrollLeft scrollTop".split(" "),function(b,c){a.prototype[c]=function(){var a=Array.prototype.slice.call(arguments);return this.$element[c].apply(this.$element,a)}});c.each(["extend","inArray","isEmptyObject"],function(b,l){a[l]=c[l]});b.adapters.push({name:"jquery",Adapter:a});b.Adapter=a})();
(function(){function a(a){return function(k,l){var p=[],m=k;return a.isFunction(k)&&(m=a.extend({},l),m.handler=k),this.each(function(){var k=a.extend({},m,{element:this});"string"==typeof k.context&&(k.context=a(this).closest(k.context)[0]);p.push(new c(k))}),p}}var c=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=a(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=a(window.Zepto))})();
!function(){function a(){}function c(a){this.options=b.Adapter.extend({},c.defaults,a);this.axis=this.options.horizontal?"horizontal":"vertical";this.waypoints=[];this.createWaypoints()}var b=window.Waypoint;c.prototype.createWaypoints=function(){for(var a={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",
left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},b=0,c=a[this.axis].length;c>b;b++)this.createWaypoint(a[this.axis][b])};c.prototype.createWaypoint=function(a){var c=this;this.waypoints.push(new b({element:this.options.element,handler:function(a){return function(b){c.options[a[b]].call(this,b)}}(a),offset:a.offset,horizontal:this.options.horizontal}))};
c.prototype.destroy=function(){for(var a=0,b=this.waypoints.length;b>a;a++)this.waypoints[a].destroy();this.waypoints=[]};c.defaults={enter:a,entered:a,exit:a,exited:a};b.Inview=c}();
(function(a){a.fn.extend({reflect:function(c){c=a.extend({height:1/3,opacity:.5},c);return this.unreflect().each(function(){var b=this;if(/^img$/i.test(b.tagName)){var k=function(){var k=b.width,p=b.height,m,q,h,n;q=Math.floor(1<c.height?Math.min(p,c.height):p*c.height);m=a("\x3ccanvas /\x3e")[0];if(m.getContext){h=m.getContext("2d");try{a(m).attr({width:k,height:q}),h.save(),h.translate(0,p-1),h.scale(1,-1),h.drawImage(b,0,0,k,p),h.restore(),h.globalCompositeOperation="destination-out",n=h.createLinearGradient(0,
0,0,q),n.addColorStop(0,"rgba(255, 255, 255, "+(1-c.opacity)+")"),n.addColorStop(1,"rgba(255, 255, 255, 1.0)"),h.fillStyle=n,h.rect(0,0,k,q),h.fill()}catch(t){return}}else{if(!a.browser.msie)return;m=a("\x3cimg /\x3e").attr("src",b.src).css({width:k,height:p,marginBottom:q-p,filter:"FlipV progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+100*c.opacity+", FinishOpacity\x3d0, Style\x3d1, StartX\x3d0, StartY\x3d0, FinishX\x3d0, FinishY\x3d"+q/p*100+")"})[0]}a(m).css({display:"block",border:0});m=
a(/^a$/i.test(b.parentNode.tagName)?"\x3cspan /\x3e":"\x3cdiv /\x3e").insertAfter(b).append([b,m])[0];m.className=b.className;a.data(b,"reflected",m.style.cssText=b.style.cssText);a(m).css({width:k,height:p+q,overflow:"hidden"});b.style.cssText="display: block; border: 0px";b.className="reflected";void 0!=c.attr&&void 0!=c.attr.style&&(m.style.cssText=c.attr.style);void 0!=c.attr&&void 0!=c.attr.cls&&(m.className=c.attr.cls)};b.complete?k():a(b).load(k)}})},unreflect:function(){return this.unbind("load").each(function(){var c=
a.data(this,"reflected"),b;void 0!==c&&(b=this.parentNode,this.className=b.className,this.style.cssText=c,a.removeData(this,"reflected"),b.parentNode.replaceChild(this,b))})}})})(jQuery);jQuery(function(a){a("img.reflect").reflect({})});
(function(a,c){function b(b,c){var h,l,t,p=b.nodeName.toLowerCase();return"area"===p?(h=b.parentNode,l=h.name,b.href&&l&&"map"===h.nodeName.toLowerCase()?(t=a("img[usemap\x3d#"+l+"]")[0],!!t&&k(t)):!1):(/input|select|textarea|button|object/.test(p)?!b.disabled:"a"===p?b.href||c:c)&&k(b)}function k(b){return a.expr.filters.visible(b)&&!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var l=0,p=/^ui-id-\d+$/;a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.9.1",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var h=this;setTimeout(function(){a(h).focus();c&&c.call(h)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==
c)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var k;b.length&&b[0]!==document;){k=b.css("position");if("absolute"===k||"relative"===k||"fixed"===k)if(k=parseInt(b.css("zIndex"),10),!isNaN(k)&&0!==k)return k;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++l)})},removeUniqueId:function(){return this.each(function(){p.test(this.id)&&a(this).removeAttr("id")})}}),a("\x3ca\x3e").outerWidth(1).jquery||a.each(["Width","Height"],function(b,
k){function h(h,b,c,k){return a.each(l,function(){b-=parseFloat(a.css(h,"padding"+this))||0;c&&(b-=parseFloat(a.css(h,"border"+this+"Width"))||0);k&&(b-=parseFloat(a.css(h,"margin"+this))||0)}),b}var l="Width"===k?["Left","Right"]:["Top","Bottom"],t=k.toLowerCase(),p={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+k]=function(b){return b===c?p["inner"+k].call(this):this.each(function(){a(this).css(t,h(this,b)+"px")})};
a.fn["outer"+k]=function(b,c){return"number"!=typeof b?p["outer"+k].call(this,b):this.each(function(){a(this).css(t,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,h){return!!a.data(b,h[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var k=a.attr(c,"tabindex"),h=isNaN(k);return(h||0<=k)&&b(c,!h)}}),a(function(){var b=document.body,c=b.appendChild(c=
document.createElement("div"));c.offsetHeight;a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=100===c.offsetHeight;a.support.selectstart="onselectstart"in c;b.removeChild(c).style.display="none"}),function(){var b=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];a.ui.ie=b.length?!0:!1;a.ui.ie6=6===parseFloat(b[1],10)}(),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,h){var k;b=a.ui[b].prototype;for(k in h)b.plugins[k]=b.plugins[k]||[],b.plugins[k].push([c,h[k]])},call:function(a,b,h){var c=a.plugins[b];if(c&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<c.length;b++)a.options[c[b][0]]&&c[b][1].apply(a.element,h)}},contains:a.contains,hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;
c=c&&"left"===c?"scrollLeft":"scrollTop";var h=!1;return 0<b[c]?!0:(b[c]=1,h=0<b[c],b[c]=0,h)},isOverAxis:function(a,b,h){return a>b&&a<b+h},isOver:function(b,c,h,k,l,p){return a.ui.isOverAxis(b,h,l)&&a.ui.isOverAxis(c,k,p)}}))})(jQuery);
(function(a,c){var b=0,k=Array.prototype.slice,l=a.cleanData;a.cleanData=function(b){for(var c=0,k;null!=(k=b[c]);c++)try{a(k).triggerHandler("remove")}catch(h){}l(b)};a.widget=function(b,c,k){var h,l,t,y,x=b.split(".")[0];b=b.split(".")[1];h=x+"-"+b;k||(k=c,c=a.Widget);a.expr[":"][h.toLowerCase()]=function(b){return!!a.data(b,h)};a[x]=a[x]||{};l=a[x][b];t=a[x][b]=function(a,h){if(!this._createWidget)return new t(a,h);arguments.length&&this._createWidget(a,h)};a.extend(t,l,{version:k.version,_proto:a.extend({},
k),_childConstructors:[]});y=new c;y.options=a.widget.extend({},y.options);a.each(k,function(h,b){a.isFunction(b)&&(k[h]=function(){var a=function(){return c.prototype[h].apply(this,arguments)},k=function(a){return c.prototype[h].apply(this,a)};return function(){var h=this._super,c=this._superApply,l;return this._super=a,this._superApply=k,l=b.apply(this,arguments),this._super=h,this._superApply=c,l}}())});t.prototype=a.widget.extend(y,{widgetEventPrefix:y.widgetEventPrefix||b},k,{constructor:t,namespace:x,
widgetName:b,widgetBaseClass:h,widgetFullName:h});l?(a.each(l._childConstructors,function(h,b){h=b.prototype;a.widget(h.namespace+"."+h.widgetName,t,b._proto)}),delete l._childConstructors):c._childConstructors.push(t);a.widget.bridge(b,t)};a.widget.extend=function(b){for(var l=k.call(arguments,1),q=0,h=l.length,n,t;q<h;q++)for(n in l[q])t=l[q][n],l[q].hasOwnProperty(n)&&t!==c&&(a.isPlainObject(t)?b[n]=a.isPlainObject(b[n])?a.widget.extend({},b[n],t):a.widget.extend({},t):b[n]=t);return b};a.widget.bridge=
function(b,l){var q=l.prototype.widgetFullName;a.fn[b]=function(h){var n="string"==typeof h,t=k.call(arguments,1),y=this;return h=!n&&t.length?a.widget.extend.apply(null,[h].concat(t)):h,n?this.each(function(){var k,l=a.data(this,q);if(!l)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+h+"'");if(!a.isFunction(l[h])||"_"===h.charAt(0))return a.error("no such method '"+h+"' for "+b+" widget instance");k=l[h].apply(l,t);if(k!==l&&k!==c)return y=k&&k.jquery?
y.pushStack(k.get()):k,!1}):this.each(function(){var b=a.data(this,q);b?b.option(h||{})._init():new l(h,this)}),y}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{disabled:!1,create:null},_createWidget:function(c,k){k=a(k||this.defaultElement||this)[0];this.element=a(k);this.uuid=b++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),
c);this.bindings=a();this.hoverable=a();this.focusable=a();k!==this&&(a.data(k,this.widgetName,this),a.data(k,this.widgetFullName,this),this._on(this.element,{remove:function(a){a.target===k&&this.destroy()}}),this.document=a(k.style?k.ownerDocument:k.document||k),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,
destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,k){var l=b,h,n,t;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(l={},h=b.split("."),b=h.shift(),h.length){n=l[b]=a.widget.extend({},this.options[b]);for(t=0;t<h.length-1;t++)n[h[t]]=n[h[t]]||{},n=n[h[t]];b=h.pop();if(k===c)return n[b]===c?null:n[b];n[b]=k}else{if(k===c)return this.options[b]===c?null:this.options[b];l[b]=k}return this._setOptions(l),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c){var k,h=this;c?(b=k=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,k=this.widget());a.each(c,function(c,l){function m(){if(!0!==
h.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof l?h[l]:l).apply(h,arguments)}"string"!=typeof l&&(m.guid=l.guid=l.guid||m.guid||a.guid++);var x=c.match(/^(\w+)\s*(.*)$/);c=x[1]+h.eventNamespace;(x=x[2])?k.delegate(x,c,m):b.bind(c,m)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==typeof a?c[a]:a).apply(c,arguments)},
b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,k){var h,l=this.options[b];k=k||{};c=a.Event(c);
c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(h in b)h in c||(c[h]=b[h]);return this.element.trigger(c,k),!(a.isFunction(l)&&!1===l.apply(this.element[0],[c].concat(k))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(k,h,l){"string"==typeof h&&(h={effect:h});var t,y=h?!0===h||"number"==typeof h?c:h.effect||c:b;h=h||{};"number"==typeof h&&(h={duration:h});
t=!a.isEmptyObject(h);h.complete=l;h.delay&&k.delay(h.delay);t&&a.effects&&(a.effects.effect[y]||!1!==a.uiBackCompat&&a.effects[y])?k[b](h):y!==b&&k[y]?k[y](h.duration,h.easing,l):k.queue(function(h){a(this)[b]();l&&l.call(k[0]);h()})}});!1!==a.uiBackCompat&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})})(jQuery);
(function(a,c){var b=!1;a(document).mouseup(function(a){b=!1});a.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var l=this,p=1===c.which,m="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;if(!p||m||!this._mouseCapture(c))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){l.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return l._mouseMove(a)},this._mouseUpDelegate=function(a){return l._mouseUp(a)},a(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)}},_mouseMove:function(b){return!a.ui.ie||9<=document.documentMode||b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},
_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);
(function(a,c){function b(a,b,h){return[parseInt(a[0],10)*(y.test(a[0])?b/100:1),parseInt(a[1],10)*(y.test(a[1])?h/100:1)]}a.ui=a.ui||{};var k,l=Math.max,p=Math.abs,m=Math.round,q=/left|center|right/,h=/top|center|bottom/,n=/[\+\-]\d+%?/,t=/^\w+/,y=/%$/,x=a.fn.position;a.position={scrollbarWidth:function(){if(k!==c)return k;var b,h,l=a("\x3cdiv style\x3d'display:block;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e"),n=l.children()[0];
return a("body").append(l),b=n.offsetWidth,l.css("overflow","scroll"),h=n.offsetWidth,b===h&&(h=l[0].clientWidth),l.remove(),k=b-h},getScrollInfo:function(b){var h=b.isWindow?"":b.element.css("overflow-x"),c=b.isWindow?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.height<b.element[0].scrollHeight;return{width:"scroll"===h||"auto"===h&&b.width<b.element[0].scrollWidth?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var h=
a.isWindow(b[0]);return{element:b,isWindow:h,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:h?b.width():b.outerWidth(),height:h?b.height():b.outerHeight()}}};a.fn.position=function(c){if(!c||!c.of)return x.apply(this,arguments);c=a.extend({},c);var k,y,A,w,B,E=a(c.of),D=a.position.getWithinInfo(c.within),F=a.position.getScrollInfo(D),H=E[0],G=(c.collision||"flip").split(" "),L={};return 9===H.nodeType?(y=E.width(),A=E.height(),w={top:0,left:0}):a.isWindow(H)?
(y=E.width(),A=E.height(),w={top:E.scrollTop(),left:E.scrollLeft()}):H.preventDefault?(c.at="left top",y=A=0,w={top:H.pageY,left:H.pageX}):(y=E.outerWidth(),A=E.outerHeight(),w=E.offset()),B=a.extend({},w),a.each(["my","at"],function(){var a=(c[this]||"").split(" "),b,k;1===a.length&&(a=q.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]);a[0]=q.test(a[0])?a[0]:"center";a[1]=h.test(a[1])?a[1]:"center";b=n.exec(a[0]);k=n.exec(a[1]);L[this]=[b?b[0]:0,k?k[0]:0];c[this]=
[t.exec(a[0])[0],t.exec(a[1])[0]]}),1===G.length&&(G[1]=G[0]),"right"===c.at[0]?B.left+=y:"center"===c.at[0]&&(B.left+=y/2),"bottom"===c.at[1]?B.top+=A:"center"===c.at[1]&&(B.top+=A/2),k=b(L.at,y,A),B.left+=k[0],B.top+=k[1],this.each(function(){var h,n,t=a(this),x=t.outerWidth(),q=t.outerHeight(),H=parseInt(a.css(this,"marginLeft"),10)||0,S=parseInt(a.css(this,"marginTop"),10)||0,Q=x+H+(parseInt(a.css(this,"marginRight"),10)||0)+F.width,T=q+S+(parseInt(a.css(this,"marginBottom"),10)||0)+F.height,
R=a.extend({},B),K=b(L.my,t.outerWidth(),t.outerHeight());"right"===c.my[0]?R.left-=x:"center"===c.my[0]&&(R.left-=x/2);"bottom"===c.my[1]?R.top-=q:"center"===c.my[1]&&(R.top-=q/2);R.left+=K[0];R.top+=K[1];a.support.offsetFractions||(R.left=m(R.left),R.top=m(R.top));h={marginLeft:H,marginTop:S};a.each(["left","top"],function(b,l){a.ui.position[G[b]]&&a.ui.position[G[b]][l](R,{targetWidth:y,targetHeight:A,elemWidth:x,elemHeight:q,collisionPosition:h,collisionWidth:Q,collisionHeight:T,offset:[k[0]+
K[0],k[1]+K[1]],my:c.my,at:c.at,within:D,elem:t})});a.fn.bgiframe&&t.bgiframe();c.using&&(n=function(a){var b=w.left-R.left,h=b+y-x,k=w.top-R.top,n=k+A-q,r={target:{element:E,left:w.left,top:w.top,width:y,height:A},element:{element:t,left:R.left,top:R.top,width:x,height:q},horizontal:0>h?"left":0<b?"right":"center",vertical:0>n?"top":0<k?"bottom":"middle"};y<x&&p(b+h)<y&&(r.horizontal="center");A<q&&p(k+n)<A&&(r.vertical="middle");l(p(b),p(h))>l(p(k),p(n))?r.important="horizontal":r.important="vertical";
c.using.call(this,a,r)});t.offset(a.extend(R,{using:n}))})};a.ui.position={fit:{left:function(a,b){var h=b.within,c=h.isWindow?h.scrollLeft:h.offset.left,h=h.width,k=a.left-b.collisionPosition.marginLeft,n=c-k,t=k+b.collisionWidth-h-c,m;b.collisionWidth>h?0<n&&0>=t?(m=a.left+n+b.collisionWidth-h-c,a.left+=n-m):0<t&&0>=n?a.left=c:n>t?a.left=c+h-b.collisionWidth:a.left=c:0<n?a.left+=n:0<t?a.left-=t:a.left=l(a.left-k,a.left)},top:function(a,b){var h=b.within,h=h.isWindow?h.scrollTop:h.offset.top,c=b.within.height,
k=a.top-b.collisionPosition.marginTop,n=h-k,t=k+b.collisionHeight-c-h,m;b.collisionHeight>c?0<n&&0>=t?(m=a.top+n+b.collisionHeight-c-h,a.top+=n-m):0<t&&0>=n?a.top=h:n>t?a.top=h+c-b.collisionHeight:a.top=h:0<n?a.top+=n:0<t?a.top-=t:a.top=l(a.top-k,a.top)}},flip:{left:function(a,b){var h=b.within,c=h.offset.left+h.scrollLeft,k=h.width,l=h.isWindow?h.scrollLeft:h.offset.left,n=a.left-b.collisionPosition.marginLeft,h=n-l,t=n+b.collisionWidth-k-l,n="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:
0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,x=-2*b.offset[0];if(0>h){if(b=a.left+n+m+x+b.collisionWidth-k-c,0>b||b<p(h))a.left+=n+m+x}else 0<t&&(b=a.left-b.collisionPosition.marginLeft+n+m+x-l,0<b||p(b)<t)&&(a.left+=n+m+x)},top:function(a,b){var h=b.within,c=h.offset.top+h.scrollTop,k=h.height,h=h.isWindow?h.scrollTop:h.offset.top,l=a.top-b.collisionPosition.marginTop,n=l-h,l=l+b.collisionHeight-k-h,t="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===
b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,x=-2*b.offset[1],y,q;0>n?(q=a.top+t+m+x+b.collisionHeight-k-c,a.top+t+m+x>n&&(0>q||q<p(n))&&(a.top+=t+m+x)):0<l&&(y=a.top-b.collisionPosition.marginTop+t+m+x-h,a.top+t+m+x>l&&(0<y||p(y)<l)&&(a.top+=t+m+x))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,
h,c,k,l=document.getElementsByTagName("body")[0];c=document.createElement("div");b=document.createElement(l?"div":"body");h={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};l&&a.extend(h,{position:"absolute",left:"-1000px",top:"-1000px"});for(k in h)b.style[k]=h[k];b.appendChild(c);h=l||document.documentElement;h.insertBefore(b,h.firstChild);c.style.cssText="position: absolute; left: 10.7432222px;";c=a(c).offset().left;a.support.offsetFractions=10<c&&11>c;b.innerHTML="";
h.removeChild(b)})();!1!==a.uiBackCompat&&function(a){var b=a.fn.position;a.fn.position=function(h){if(!h||!h.offset)return b.call(this,h);var k=h.offset.split(" "),l=h.at.split(" ");return 1===k.length&&(k[1]=k[0]),/^\d/.test(k[0])&&(k[0]="+"+k[0]),/^\d/.test(k[1])&&(k[1]="+"+k[1]),1===l.length&&(/left|center|right/.test(l[0])?l[1]="center":(l[1]=l[0],l[0]="center")),b.call(this,a.extend(h,{at:l[0]+k[0]+" "+l[1]+k[1],offset:c}))}}(jQuery)})(jQuery);
(function(a,c){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(a(!0===c.iframeFix?
"iframe":c.iframeFix).each(function(){a('\x3cdiv class\x3d"ui-draggable-iframeFix" style\x3d"background: #fff;"\x3e\x3c/div\x3e').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),
this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,
c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(!1===this._trigger("drag",b,c))return this._mouseUp({}),
!1;this.position=c.position}this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b));this.dropped&&(c=this.dropped,this.dropped=!1);for(var l=this.element[0],p=!1;l&&(l=l.parentNode);)l==document&&(p=!0);if(!p&&
"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var m=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==m._trigger("stop",b)&&m._clear()})}else!1!==this._trigger("stop",b)&&this._clear();return!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],
[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-
b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"==b.containment&&
(b.containment=this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+
(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var b=a(b.containment),c=b[0];if(c){b.offset();var l="hidden"!=a(c).css("overflow");this.containment=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),
10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(l?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(l?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=b}}},
_convertPositionTo:function(b,c){c||(c=this.position);b="absolute"==b?1:-1;var l="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(l[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:l.scrollTop())*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"==this.cssPosition?
-this.scrollParent.scrollLeft():p?0:l.scrollLeft())*b}},_generatePosition:function(b){var c=this.options,l="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(l[0].tagName),m=b.pageX,q=b.pageY;if(this.originalPosition){var h;this.containment&&(this.relative_container?(h=this.relative_container.offset(),h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+
h.left,this.containment[3]+h.top]):h=this.containment,b.pageX-this.offset.click.left<h[0]&&(m=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(q=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(m=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(q=h[3]+this.offset.click.top));c.grid&&(q=c.grid[1]?this.originalPageY+Math.round((q-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,q=h?q-this.offset.click.top<h[1]||q-this.offset.click.top>h[3]?
q-this.offset.click.top<h[1]?q+c.grid[1]:q-c.grid[1]:q:q,m=c.grid[0]?this.originalPageX+Math.round((m-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,m=h?m-this.offset.click.left<h[0]||m-this.offset.click.left>h[2]?m-this.offset.click.left<h[0]?m+c.grid[0]:m-c.grid[0]:m:m)}return{top:q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:l.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():p?0:l.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(b,c,l){return l=l||this._uiHash(),a.ui.plugin.call(this,b,[c,l]),"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,l)},plugins:{},
_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var l=a(this).data("draggable"),p=l.options,m=a.extend({},c,{item:l.element});l.sortables=[];a(p.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(l.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,m))})},
stop:function(b,c){var l=a(this).data("draggable"),p=a.extend({},c,{item:l.element});a.each(l.sortables,function(){this.instance.isOver?(this.instance.isOver=0,l.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==l.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
b,p))})},drag:function(b,c){var l=a(this).data("draggable"),p=this;a.each(l.sortables,function(m){var q=!1,h=this;this.instance.positionAbs=l.positionAbs;this.instance.helperProportions=l.helperProportions;this.instance.offset.click=l.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(q=!0,a.each(l.sortables,function(){return this.instance.positionAbs=l.positionAbs,this.instance.helperProportions=l.helperProportions,this.instance.offset.click=l.offset.click,this!=h&&this.instance._intersectsWith(this.instance.containerCache)&&
a.ui.contains(h.instance.element[0],this.instance.element[0])&&(q=!1),q}));q?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(p).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=l.offset.click.top,
this.instance.offset.click.left=l.offset.click.left,this.instance.offset.parent.left-=l.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=l.offset.parent.top-this.instance.offset.parent.top,l._trigger("toSortable",b),l.dropped=this.instance.element,l.currentItem=l.element,this.instance.fromOutside=l),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),l._trigger("fromSortable",b),l.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(b,c){b=a("body");c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor"));b.css("cursor",c.cursor)},stop:function(b,c){b=
a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;b.css("opacity")&&(c._opacity=b.css("opacity"));b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(b,c){b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&
(b.overflowOffset=b.scrollParent.offset())},drag:function(b,c){c=a(this).data("draggable");var l=c.options,p=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(l.axis&&"x"==l.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<l.scrollSensitivity?c.scrollParent[0].scrollTop=p=c.scrollParent[0].scrollTop+l.scrollSpeed:b.pageY-c.overflowOffset.top<l.scrollSensitivity&&(c.scrollParent[0].scrollTop=p=c.scrollParent[0].scrollTop-l.scrollSpeed)),l.axis&&"y"==l.axis||(c.overflowOffset.left+
c.scrollParent[0].offsetWidth-b.pageX<l.scrollSensitivity?c.scrollParent[0].scrollLeft=p=c.scrollParent[0].scrollLeft+l.scrollSpeed:b.pageX-c.overflowOffset.left<l.scrollSensitivity&&(c.scrollParent[0].scrollLeft=p=c.scrollParent[0].scrollLeft-l.scrollSpeed))):(l.axis&&"x"==l.axis||(b.pageY-a(document).scrollTop()<l.scrollSensitivity?p=a(document).scrollTop(a(document).scrollTop()-l.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<l.scrollSensitivity&&(p=a(document).scrollTop(a(document).scrollTop()+
l.scrollSpeed))),l.axis&&"y"==l.axis||(b.pageX-a(document).scrollLeft()<l.scrollSensitivity?p=a(document).scrollLeft(a(document).scrollLeft()-l.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<l.scrollSensitivity&&(p=a(document).scrollLeft(a(document).scrollLeft()+l.scrollSpeed))));!1!==p&&a.ui.ddmanager&&!l.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}});a.ui.plugin.add("draggable","snap",{start:function(b,c){var l=a(this).data("draggable");b=l.options;l.snapElements=[];a(b.snap.constructor!=
String?b.snap.items||":data(draggable)":b.snap).each(function(){var b=a(this),c=b.offset();this!=l.element[0]&&l.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){for(var l=a(this).data("draggable"),p=l.options,m=p.snapTolerance,q=c.offset.left,h=q+l.helperProportions.width,n=c.offset.top,t=n+l.helperProportions.height,y=l.snapElements.length-1;0<=y;y--){var x=l.snapElements[y].left,z=x+l.snapElements[y].width,r=l.snapElements[y].top,
C=r+l.snapElements[y].height;if(x-m<q&&q<z+m&&r-m<n&&n<C+m||x-m<q&&q<z+m&&r-m<t&&t<C+m||x-m<h&&h<z+m&&r-m<n&&n<C+m||x-m<h&&h<z+m&&r-m<t&&t<C+m){if("inner"!=p.snapMode){var A=Math.abs(r-t)<=m,w=Math.abs(C-n)<=m,B=Math.abs(x-h)<=m,E=Math.abs(z-q)<=m;A&&(c.position.top=l._convertPositionTo("relative",{top:r-l.helperProportions.height,left:0}).top-l.margins.top);w&&(c.position.top=l._convertPositionTo("relative",{top:C,left:0}).top-l.margins.top);B&&(c.position.left=l._convertPositionTo("relative",{top:0,
left:x-l.helperProportions.width}).left-l.margins.left);E&&(c.position.left=l._convertPositionTo("relative",{top:0,left:z}).left-l.margins.left)}var D=A||w||B||E;"outer"!=p.snapMode&&(A=Math.abs(r-n)<=m,w=Math.abs(C-t)<=m,B=Math.abs(x-q)<=m,E=Math.abs(z-h)<=m,A&&(c.position.top=l._convertPositionTo("relative",{top:r,left:0}).top-l.margins.top),w&&(c.position.top=l._convertPositionTo("relative",{top:C-l.helperProportions.height,left:0}).top-l.margins.top),B&&(c.position.left=l._convertPositionTo("relative",
{top:0,left:x}).left-l.margins.left),E&&(c.position.left=l._convertPositionTo("relative",{top:0,left:z-l.helperProportions.width}).left-l.margins.left));!l.snapElements[y].snapping&&(A||w||B||E||D)&&l.options.snap.snap&&l.options.snap.snap.call(l.element,b,a.extend(l._uiHash(),{snapItem:l.snapElements[y].item}));l.snapElements[y].snapping=A||w||B||E||D}else l.snapElements[y].snapping&&l.options.snap.release&&l.options.snap.release.call(l.element,b,a.extend(l._uiHash(),{snapItem:l.snapElements[y].item})),
l.snapElements[y].snapping=!1}}});a.ui.plugin.add("draggable","stack",{start:function(b,c){b=a(this).data("draggable").options;b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(b.length){var l=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=l+a});this[0].style.zIndex=l+b.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;b.css("zIndex")&&
(c._zIndex=b.css("zIndex"));b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a,c){a.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(a){return a.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);
b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=
a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var l=c||a.ui.ddmanager.current;if(!l||(l.currentItem||l.element)[0]==this.element[0])return!1;var p=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&
!b.options.disabled&&b.options.scope==l.options.scope&&b.accept.call(b.element[0],l.currentItem||l.element)&&a.ui.intersect(l,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return p=!0,!1}),p?!1:this.accept.call(this.element[0],l.currentItem||l.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(l)),this.element):!1},ui:function(a){return{draggable:a.currentItem||
a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(b,c,l){if(!c.offset)return!1;var p=(b.positionAbs||b.position.absolute).left,m=p+b.helperProportions.width,q=(b.positionAbs||b.position.absolute).top,h=q+b.helperProportions.height,n=c.offset.left,t=n+c.proportions.width,y=c.offset.top,x=y+c.proportions.height;switch(l){case "fit":return n<=p&&m<=t&&y<=q&&h<=x;case "intersect":return n<p+b.helperProportions.width/2&&m-b.helperProportions.width/2<t&&y<q+
b.helperProportions.height/2&&h-b.helperProportions.height/2<x;case "pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,y,n,c.proportions.height,c.proportions.width);case "touch":return(q>=y&&q<=x||h>=y&&h<=x||q<y&&h>x)&&(p>=n&&p<=t||m>=n&&m<=t||p<n&&m>t);default:return!1}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var l=a.ui.ddmanager.droppables[b.options.scope]||
[],p=c?c.type:null,m=(b.currentItem||b.element).find(":data(droppable)").andSelf(),q=0;a:for(;q<l.length;q++)if(!(l[q].options.disabled||b&&!l[q].accept.call(l[q].element[0],b.currentItem||b.element))){for(var h=0;h<m.length;h++)if(m[h]==l[q].element[0]){l[q].proportions.height=0;continue a}l[q].visible="none"!=l[q].element.css("display");l[q].visible&&("mousedown"==p&&l[q]._activate.call(l[q],c),l[q].offset=l[q].element.offset(),l[q].proportions={width:l[q].element[0].offsetWidth,height:l[q].element[0].offsetHeight})}},
drop:function(b,c){var l=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(l=this._drop.call(this,c)||l),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),l},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||
a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var l=a.ui.intersect(b,this,this.options.tolerance);if(l=l||1!=this.isover?l&&0==this.isover?"isover":null:"isout"){var p;if(this.options.greedy){var m=this.options.scope,q=this.element.parents(":data(droppable)").filter(function(){return a.data(this,"droppable").options.scope===
m});q.length&&(p=a.data(q[0],"droppable"),p.greedyChild="isover"==l?1:0)}p&&"isover"==l&&(p.isover=0,p.isout=1,p._out.call(p,c));this[l]=1;this["isout"==l?"isover":"isout"]=0;this["isover"==l?"_over":"_out"].call(this,c);p&&"isout"==l&&(p.isout=0,p.isover=1,p._over.call(p,c))}}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable");b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);
(function(a,c){a.widget("ui.resizable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('\x3cdiv class\x3d"ui-wrapper" style\x3d"overflow: hidden;"\x3e\x3c/div\x3e').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",
this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var k=this.handles.split(",");
this.handles={};for(var q=0;q<k.length;q++){var h=a.trim(k[q]),n=a('\x3cdiv class\x3d"ui-resizable-handle ui-resizable-'+h+'"\x3e\x3c/div\x3e');n.css({zIndex:c.zIndex});"se"==h&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[h]=".ui-resizable-"+h;this.element.append(n)}}this._renderAxis=function(b){b=b||this.element;for(var h in this.handles){this.handles[h].constructor==String&&(this.handles[h]=a(this.handles[h],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var c=
a(this.handles[h],this.element),c=/sw|ne|nw|se|n|s/.test(h)?c.outerHeight():c.outerWidth(),k=["padding",/ne|nw|n/.test(h)?"Top":/se|sw|s/.test(h)?"Bottom":/^e$/.test(h)?"Right":"Left"].join("");b.css(k,c);this._proportionallyResize()}a(this.handles[h])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&
a[1]?a[1]:"se"}});c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())}).mouseleave(function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){b(this.element);var c=this.element;this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c);c.remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1,k;for(k in this.handles)a(this.handles[k])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var k=this.options,m=this.element.position(),
q=this.element;this.resizing=!0;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};(q.is(".ui-draggable")||/absolute/.test(q.css("position")))&&q.css({position:"absolute",top:m.top,left:m.left});this._renderProxy();var m=b(this.helper.css("left")),h=b(this.helper.css("top"));k.containment&&(m+=a(k.containment).scrollLeft()||0,h+=a(k.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:m,top:h};this.size=this._helper?{width:q.outerWidth(),height:q.outerHeight()}:
{width:q.width(),height:q.height()};this.originalSize=this._helper?{width:q.outerWidth(),height:q.outerHeight()}:{width:q.width(),height:q.height()};this.originalPosition={left:m,top:h};this.sizeDiff={width:q.outerWidth()-q.width(),height:q.outerHeight()-q.height()};this.originalMousePosition={left:c.pageX,top:c.pageY};this.aspectRatio="number"==typeof k.aspectRatio?k.aspectRatio:this.originalSize.width/this.originalSize.height||1;k=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",
"auto"==k?this.axis+"-resize":k),q.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(a){var b=this.helper,c=this.originalMousePosition,k=this._change[this.axis];if(!k)return!1;c=k.apply(this,[a,a.pageX-c.left||0,a.pageY-c.top||0]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);return c=this._respectSize(c,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(c),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options;if(this._helper){var k=this._proportionallyResizeElements,q=k.length&&/textarea/i.test(k[0].nodeName),k=q&&a.ui.hasScroll(k[0],"left")?0:this.sizeDiff.height,q=q?0:this.sizeDiff.width,q={width:this.helper.width()-q,height:this.helper.height()-k},k=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,h=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;c.animate||this.element.css(a.extend(q,{top:h,left:k}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=
this.options,c,q,h,b={minWidth:k(b.minWidth)?b.minWidth:0,maxWidth:k(b.maxWidth)?b.maxWidth:Infinity,minHeight:k(b.minHeight)?b.minHeight:0,maxHeight:k(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)a=b.minHeight*this.aspectRatio,q=b.minWidth/this.aspectRatio,c=b.maxHeight*this.aspectRatio,h=b.maxWidth/this.aspectRatio,a>b.minWidth&&(b.minWidth=a),q>b.minHeight&&(b.minHeight=q),c<b.maxWidth&&(b.maxWidth=c),h<b.maxHeight&&(b.maxHeight=h);this._vBoundaries=b},_updateCache:function(a){this.offset=
this.helper.offset();k(a.left)&&(this.position.left=a.left);k(a.top)&&(this.position.top=a.top);k(a.height)&&(this.size.height=a.height);k(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){b=this.position;var c=this.size,q=this.axis;return k(a.height)?a.width=a.height*this.aspectRatio:k(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==q&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"==q&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a,
b){b=this._vBoundaries;var c=this.axis,q=k(a.width)&&b.maxWidth&&b.maxWidth<a.width,h=k(a.height)&&b.maxHeight&&b.maxHeight<a.height,n=k(a.width)&&b.minWidth&&b.minWidth>a.width,t=k(a.height)&&b.minHeight&&b.minHeight>a.height;n&&(a.width=b.minWidth);t&&(a.height=b.minHeight);q&&(a.width=b.maxWidth);h&&(a.height=b.maxHeight);var y=this.originalPosition.left+this.originalSize.width,x=this.position.top+this.size.height,z=/sw|nw|w/.test(c),c=/nw|ne|n/.test(c);n&&z&&(a.left=y-b.minWidth);q&&z&&(a.left=
y-b.maxWidth);t&&c&&(a.top=x-b.minHeight);h&&c&&(a.top=x-b.maxHeight);b=!a.width&&!a.height;return b&&!a.left&&a.top?a.top=null:b&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var k=this._proportionallyResizeElements[c];if(!this.borderDif){var q=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")],
h=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")];this.borderDif=a.map(q,function(a,b){a=parseInt(a,10)||0;b=parseInt(h[b],10)||0;return a+b})}k.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('\x3cdiv style\x3d"overflow:hidden;"\x3e\x3c/div\x3e');var c=a.ui.ie6?
1:0,k=a.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+k,height:this.element.outerHeight()+k,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+
c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,k){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,k]))},sw:function(b,c,k){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,k]))},ne:function(b,c,k){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,k]))},nw:function(b,c,k){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,
[b,c,k]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){b=a(this).data("resizable").options;var k=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",
{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?k(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],k(b.alsoResize)):a.each(b.alsoResize,function(a){k(a)})},resize:function(b,c){b=a(this).data("resizable");var k=b.options,q=b.originalSize,h=b.originalPosition,n={height:b.size.height-q.height||0,width:b.size.width-q.width||0,top:b.position.top-h.top||
0,left:b.position.left-h.left||0},t=function(b,h){a(b).each(function(){var b=a(this),k=a(this).data("resizable-alsoresize"),l={},t=h&&h.length?h:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(t,function(a,b){(a=(k[b]||0)+(n[b]||0))&&0<=a&&(l[b]=a||null)});b.css(l)})};"object"!=typeof k.alsoResize||k.alsoResize.nodeType?t(k.alsoResize):a.each(k.alsoResize,function(a,b){t(a,b)})},stop:function(b,c){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable",
"animate",{stop:function(b,c){var k=a(this).data("resizable");c=k.options;var q=k._proportionallyResizeElements,h=q.length&&/textarea/i.test(q[0].nodeName),n=h&&a.ui.hasScroll(q[0],"left")?0:k.sizeDiff.height,h={width:k.size.width-(h?0:k.sizeDiff.width),height:k.size.height-n},n=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,t=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null;k.element.animate(a.extend(h,t&&n?{top:t,left:n}:{}),{duration:c.animateDuration,
easing:c.animateEasing,step:function(){var h={width:parseInt(k.element.css("width"),10),height:parseInt(k.element.css("height"),10),top:parseInt(k.element.css("top"),10),left:parseInt(k.element.css("left"),10)};q&&q.length&&a(q[0]).css({width:h.width,height:h.height});k._updateCache(h);k._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(c,k){c=a(this).data("resizable");k=c.element;var m=c.options.containment;if(k=m instanceof a?m.get(0):/parent/.test(m)?k.parent().get(0):
m)if(c.containerElement=a(k),/document/.test(m)||m==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var q=a(k),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){h[a]=b(q.css("padding"+c))});c.containerOffset=q.offset();c.containerPosition=q.position();c.containerSize={height:q.innerHeight()-h[3],width:q.innerWidth()-
h[1]};var m=c.containerOffset,n=c.containerSize.height,t=c.containerSize.width,t=a.ui.hasScroll(k,"left")?k.scrollWidth:t,n=a.ui.hasScroll(k)?k.scrollHeight:n;c.parentData={element:k,left:m.left,top:m.top,width:t,height:n}}},resize:function(b,c){c=a(this).data("resizable");var k=c.options,q=c.containerOffset,h=c.position;b=c._aspectRatio||b.shiftKey;var n={top:0,left:0},t=c.containerElement;t[0]!=document&&/static/.test(t.css("position"))&&(n=q);h.left<(c._helper?q.left:0)&&(c.size.width+=c._helper?
c.position.left-q.left:c.position.left-n.left,b&&(c.size.height=c.size.width/c.aspectRatio),c.position.left=k.helper?q.left:0);h.top<(c._helper?q.top:0)&&(c.size.height+=c._helper?c.position.top-q.top:c.position.top,b&&(c.size.width=c.size.height*c.aspectRatio),c.position.top=c._helper?q.top:0);c.offset.left=c.parentData.left+c.position.left;c.offset.top=c.parentData.top+c.position.top;k=Math.abs(c.offset.left-n.left+c.sizeDiff.width);q=Math.abs((c._helper?c.offset.top-n.top:c.offset.top-q.top)+c.sizeDiff.height);
h=c.containerElement.get(0)==c.element.parent().get(0);n=/relative|absolute/.test(c.containerElement.css("position"));h&&n&&(k-=c.parentData.left);k+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-k,b&&(c.size.height=c.size.width/c.aspectRatio));q+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-q,b&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(b,c){b=a(this).data("resizable");c=b.options;var k=b.containerOffset,q=b.containerPosition,h=b.containerElement,
n=a(b.helper),t=n.offset(),y=n.outerWidth()-b.sizeDiff.width,n=n.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(h.css("position"))&&a(this).css({left:t.left-q.left-k.left,width:y,height:n});b._helper&&!c.animate&&/static/.test(h.css("position"))&&a(this).css({left:t.left-q.left-k.left,width:y,height:n})}});a.ui.plugin.add("resizable","ghost",{start:function(b,c){b=a(this).data("resizable");c=b.options;var k=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,
display:"block",position:"relative",height:k.height,width:k.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(b,c){b=a(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(b,c){b=a(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(b,c){b=
a(this).data("resizable");var k=b.options,q=b.size;c=b.originalSize;var h=b.originalPosition,n=b.axis;k.grid="number"==typeof k.grid?[k.grid,k.grid]:k.grid;var t=Math.round((q.width-c.width)/(k.grid[0]||1))*(k.grid[0]||1),k=Math.round((q.height-c.height)/(k.grid[1]||1))*(k.grid[1]||1);/^(se|s|e)$/.test(n)?(b.size.width=c.width+t,b.size.height=c.height+k):/^(ne)$/.test(n)?(b.size.width=c.width+t,b.size.height=c.height+k,b.position.top=h.top-k):/^(sw)$/.test(n)?(b.size.width=c.width+t,b.size.height=
c.height+k,b.position.left=h.left-t):(b.size.width=c.width+t,b.size.height=c.height+k,b.position.top=h.top-k,b.position.left=h.left-t)}});var b=function(a){return parseInt(a,10)||0},k=function(a){return!isNaN(parseInt(a,10))}})(jQuery);
(function(a,c){a.widget("ui.selectable",a.ui.mouse,{version:"1.9.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]);c.addClass("ui-selectee");c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),
startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a("\x3cdiv class\x3d'ui-selectable-helper'\x3e\x3c/div\x3e")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(b){var c=this;this.opos=
[b.pageX,b.pageY];if(!this.options.disabled){var l=this.options;this.selectees=a(l.filter,this.element[0]);this._trigger("start",b);a(l.appendTo).append(this.helper);this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0});l.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var l=a.data(this,"selectable-item");l.startselected=!0;b.metaKey||b.ctrlKey||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,
c._trigger("unselecting",b,{unselecting:l.element}))});a(b.target).parents().andSelf().each(function(){var l=a.data(this,"selectable-item");if(l){var m=!b.metaKey&&!b.ctrlKey||!l.$element.hasClass("ui-selected");return l.$element.removeClass(m?"ui-unselecting":"ui-selected").addClass(m?"ui-selecting":"ui-unselecting"),l.unselecting=!m,l.selecting=m,l.selected=m,m?c._trigger("selecting",b,{selecting:l.element}):c._trigger("unselecting",b,{unselecting:l.element}),!1}})}},_mouseDrag:function(b){var c=
this;this.dragged=!0;if(!this.options.disabled){var l=this.options,p=this.opos[0],m=this.opos[1],q=b.pageX,h=b.pageY;p>q&&(p=q=p);m>h&&(m=h=m);return this.helper.css({left:p,top:m,width:q-p,height:h-m}),this.selectees.each(function(){var n=a.data(this,"selectable-item");if(n&&n.element!=c.element[0]){var t=!1;"touch"==l.tolerance?t=!(n.left>q||n.right<p||n.top>h||n.bottom<m):"fit"==l.tolerance&&(t=n.left>p&&n.right<q&&n.top>m&&n.bottom<h);t?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=
!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,c._trigger("selecting",b,{selecting:n.element}))):(n.selecting&&((b.metaKey||b.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),c._trigger("unselecting",
b,{unselecting:n.element}))),n.selected&&!b.metaKey&&!b.ctrlKey&&!n.startselected&&(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,c._trigger("unselecting",b,{unselecting:n.element})))}}),!1}},_mouseStop:function(b){var c=this;this.dragged=!1;return a(".ui-unselecting",this.element[0]).each(function(){var l=a.data(this,"selectable-item");l.$element.removeClass("ui-unselecting");l.unselecting=!1;l.startselected=!1;c._trigger("unselected",
b,{unselected:l.element})}),a(".ui-selecting",this.element[0]).each(function(){var l=a.data(this,"selectable-item");l.$element.removeClass("ui-selecting").addClass("ui-selected");l.selecting=!1;l.selected=!0;l.startselected=!0;c._trigger("selected",b,{selected:l.element})}),this._trigger("stop",b),this.helper.remove(),!1}})})(jQuery);
(function(a,c){a.widget("ui.sortable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"\x3e *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=
c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var l=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var p=null;a(b.target).parents().each(function(){if(a.data(this,l.widgetName+"-item")==l)return p=a(this),!1});a.data(b.target,l.widgetName+"-item")==l&&(p=a(b.target));if(!p)return!1;if(this.options.handle&&!c){var m=!1;a(this.options.handle,p).find("*").andSelf().each(function(){this==
b.target&&(m=!0)});if(!m)return!1}return this.currentItem=p,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,l){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,
top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
c.containment&&this._setContainment();c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!l)for(l=this.containers.length-1;0<=l;l--)this.containers[l]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,l=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?l=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(l=a(document).scrollTop(a(document).scrollTop()+
c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?l=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(l=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)));!1!==l&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");
this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--){var l=this.items[c],p=l.item[0],m=this._intersectsWithPointer(l);if(m&&l.instance===this.currentContainer&&p!=this.currentItem[0]&&this.placeholder[1==m?"next":"prev"]()[0]!=p&&!a.contains(this.placeholder[0],p)&&("semi-dynamic"==this.options.type?!a.contains(this.element[0],p):1)){this.direction=1==m?"down":"up";if("pointer"!=this.options.tolerance&&!this._intersectsWithSides(l))break;
this._rearrange(b,l);this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var l=this;c=this.placeholder.offset();this.reverting=!0;a(this.helper).animate({left:c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){l._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",
null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):
a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),l=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&l.push((b.key||c[1]+"[]")+"\x3d"+(b.key&&b.expression?c[1]:c[2]))}),!l.length&&b.key&&l.push(b.key+"\x3d"),l.join("\x26")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),l=[];return b=b||{},c.each(function(){l.push(a(b.item||
this).attr(b.attribute||"id")||"")}),l},_intersectsWith:function(a){var c=this.positionAbs.left,l=c+this.helperProportions.width,p=this.positionAbs.top,m=p+this.helperProportions.height,q=a.left,h=q+a.width,n=a.top,t=n+a.height,y=this.offset.click.top,x=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?p+y>n&&p+y<t&&c+x>q&&
c+x<h:q<c+this.helperProportions.width/2&&l-this.helperProportions.width/2<h&&n<p+this.helperProportions.height/2&&m-this.helperProportions.height/2<t},_intersectsWithPointer:function(b){var c="x"===this.options.axis||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b="y"===this.options.axis||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width);c=c&&b;b=this._getDragVerticalDirection();var l=this._getDragHorizontalDirection();return c?this.floating?
l&&"right"==l||"down"==b?2:1:b&&("down"==b?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var l=this._getDragVerticalDirection(),p=this._getDragHorizontalDirection();return this.floating&&p?"right"==p&&b||"left"==p&&!b:l&&("down"==l&&c||"up"==l&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;
return 0!=a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],l=[],p=this._connectWith();if(p&&b)for(b=p.length-1;0<=b;b--)for(var m=a(p[b]),q=m.length-1;0<=q;q--){var h=
a.data(m[q],this.widgetName);h&&h!=this&&!h.options.disabled&&l.push([a.isFunction(h.options.items)?h.options.items.call(h.element):a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}l.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=l.length-1;0<=b;b--)l[b][0].each(function(){c.push(this)});
return a(c)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]==a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var c=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(var m=p.length-
1;0<=m;m--)for(var q=a(p[m]),h=q.length-1;0<=h;h--){var n=a.data(q[h],this.widgetName);n&&n!=this&&!n.options.disabled&&(l.push([a.isFunction(n.options.items)?n.options.items.call(n.element[0],b,{item:this.currentItem}):a(n.options.items,n.element),n]),this.containers.push(n))}for(m=l.length-1;0<=m;m--)for(b=l[m][1],p=l[m][0],h=0,q=p.length;h<q;h++)n=a(p[h]),n.data(this.widgetName+"-item",b),c.push({item:n,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&
this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;0<=c;c--){var l=this.items[c];if(l.instance==this.currentContainer||!this.currentContainer||l.item[0]==this.currentItem[0]){var p=this.options.toleranceElement?a(this.options.toleranceElement,l.item):l.item;b||(l.width=p.outerWidth(),l.height=p.outerHeight());p=p.offset();l.left=p.left;l.top=p.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=
this.containers.length-1;0<=c;c--)p=this.containers[c].element.offset(),this.containers[c].containerCache.left=p.left,this.containers[c].containerCache.top=p.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var l=c.placeholder;c.placeholder={element:function(){var c=
a(document.createElement(b.currentItem[0].nodeName)).addClass(l||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return l||(c.style.visibility="hidden"),c},update:function(a,m){if(!l||c.forcePlaceholderSize)m.height()||m.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),m.width()||m.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||
0,10))}}}b.placeholder=a(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);c.placeholder.update(b,b.placeholder)},_contactContainers:function(b){for(var c=null,l=null,p=this.containers.length-1;0<=p;p--)a.contains(this.currentItem[0],this.containers[p].element[0])||(this._intersectsWith(this.containers[p].containerCache)?c&&a.contains(this.containers[p].element[0],c.element[0])||(c=this.containers[p],l=p):this.containers[p].containerCache.over&&(this.containers[p]._trigger("out",
b,this._uiHash(this)),this.containers[p].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[l]._trigger("over",b,this._uiHash(this)),this.containers[l].containerCache.over=1;else{for(var c=1E4,p=null,m=this.containers[l].floating?"left":"top",q=this.containers[l].floating?"width":"height",h=this.positionAbs[m]+this.offset.click[m],n=this.items.length-1;0<=n;n--)if(a.contains(this.containers[l].element[0],this.items[n].item[0])&&this.items[n].item[0]!=this.currentItem[0]){var t=
this.items[n].item.offset()[m],y=!1;Math.abs(t-h)>Math.abs(t+this.items[n][q]-h)&&(y=!0,t+=this.items[n][q]);Math.abs(t-h)<c&&(c=Math.abs(t-h),p=this.items[n],this.direction=y?"up":"down")}if(p||this.options.dropOnEmpty)this.currentContainer=this.containers[l],p?this._rearrange(b,p,null,!0):this._rearrange(b,null,this.containers[l].element,!0),this._trigger("change",b,this._uiHash()),this.containers[l]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),
this.containers[l]._trigger("over",b,this._uiHash(this)),this.containers[l].containerCache.over=1}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,
position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==b[0].style.width||c.forceHelperSize)&&b.width(this.currentItem.width()),(""==b[0].style.height||c.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-
b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"==b.containment&&(b.containment=this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=
[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],b=a(b.containment).offset(),l="hidden"!=a(c).css("overflow");this.containment=
[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(l?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(l?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),
10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);b="absolute"==b?1:-1;var l="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(l[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:
l.scrollTop())*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():p?0:l.scrollLeft())*b}},_generatePosition:function(b){var c=this.options,l="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(l[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||
(this.offset.relative=this._getRelativeOffset());var m=b.pageX,q=b.pageY;this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(m=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(q=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(m=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(q=this.containment[3]+this.offset.click.top)),
c.grid&&(q=this.originalPageY+Math.round((q-this.originalPageY)/c.grid[1])*c.grid[1],q=this.containment?q-this.offset.click.top<this.containment[1]||q-this.offset.click.top>this.containment[3]?q-this.offset.click.top<this.containment[1]?q+c.grid[1]:q-c.grid[1]:q:q,m=this.originalPageX+Math.round((m-this.originalPageX)/c.grid[0])*c.grid[0],m=this.containment?m-this.offset.click.left<this.containment[0]||m-this.offset.click.left>this.containment[2]?m-this.offset.click.left<this.containment[0]?m+c.grid[0]:
m-c.grid[0]:m:m));return{top:q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:l.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():p?0:l.scrollLeft())}},_rearrange:function(a,c,l,p){l?l[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?c.item[0]:c.item[0].nextSibling);
var m=this.counter=this.counter?++this.counter:1;this._delay(function(){m==this.counter&&this.refreshPositions(!p)})},_clear:function(b,c){this.reverting=!1;var l=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var p in this._storedCSS)if("auto"==this._storedCSS[p]||"static"==this._storedCSS[p])this._storedCSS[p]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!c&&l.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||c||l.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(c||(l.push(function(a){this._trigger("remove",a,this._uiHash())}),l.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,
this.currentContainer)),l.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(p=this.containers.length-1;0<=p;p--)c||l.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[p])),this.containers[p].containerCache.over&&(l.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[p])),this.containers[p].containerCache.over=0);this._storedCursor&&
a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(p=0;p<l.length;p++)l[p].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}c||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(p=0;p<l.length;p++)l[p].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})})(jQuery);
jQuery.effects||function(a,c){var b=!1!==a.uiBackCompat;a.effects={effect:{}};(function(b,c){function p(a,b,h){var c=x[b.type]||{};return null==a?h||!b.def?null:b.def:(a=c.floor?~~a:parseFloat(a),isNaN(a)?b.def:c.mod?(a+c.mod)%c.mod:0>a?0:c.max<a?c.max:a)}function m(a){var h=t(),c=h._rgba=[];return a=a.toLowerCase(),A(n,function(b,k){var n;b=(b=k.re.exec(a))&&k.parse(b);k=k.space||"rgba";if(b)return n=h[k](b),h[y[k].cache]=n[y[k].cache],c=h._rgba=n._rgba,!1}),c.length?("0,0,0,0"===c.join()&&b.extend(c,
C.transparent),h):C[a]}function q(a,b,h){return h=(h+1)%1,1>6*h?a+(b-a)*h*6:1>2*h?b:2>3*h?a+(b-a)*(2/3-h)*6:a}var h=/^([\-+])=\s*(\d+\.?\d*)/,n=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],t=b.Color=function(a,h,c,n){return new b.Color.fn.parse(a,h,c,n)},y={rgba:{props:{red:{idx:0,type:"byte"},
green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},x={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},z=t.support={},r=b("\x3cp\x3e")[0],C,A=b.each;r.style.cssText="background-color:rgba(1,1,1,.5)";z.rgba=-1<r.style.backgroundColor.indexOf("rgba");A(y,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});t.fn=b.extend(t.prototype,{parse:function(h,
n,r,x){if(h===c)return this._rgba=[null,null,null,null],this;if(h.jquery||h.nodeType)h=b(h).css(n),n=c;var q=this,z=b.type(h),G=this._rgba=[];n!==c&&(h=[h,n,r,x],z="array");if("string"===z)return this.parse(m(h)||C._default);if("array"===z)return A(y.rgba.props,function(a,b){G[b.idx]=p(h[b.idx],b)}),this;if("object"===z)return h instanceof t?A(y,function(a,b){h[b.cache]&&(q[b.cache]=h[b.cache].slice())}):A(y,function(b,c){var k=c.cache;A(c.props,function(a,b){if(!q[k]&&c.to){if("alpha"===a||null==
h[a])return;q[k]=c.to(q._rgba)}q[k][b.idx]=p(h[a],b,!0)});q[k]&&0>a.inArray(null,q[k].slice(0,3))&&(q[k][3]=1,c.from&&(q._rgba=c.from(q[k])))}),this},is:function(a){var b=t(a),h=!0,c=this;return A(y,function(a,k){var n,l=b[k.cache];return l&&(n=c[k.cache]||k.to&&k.to(c._rgba)||[],A(k.props,function(a,b){if(null!=l[b.idx])return h=l[b.idx]===n[b.idx],h})),h}),h},_space:function(){var a=[],b=this;return A(y,function(h,c){b[c.cache]&&a.push(h)}),a.pop()},transition:function(a,b){var h=t(a);a=h._space();
var c=y[a],k=0===this.alpha()?t("transparent"):this,n=k[c.cache]||c.to(k._rgba),l=n.slice();return h=h[c.cache],A(c.props,function(a,c){a=c.idx;var k=n[a],r=h[a],t=x[c.type]||{};null!==r&&(null===k?l[a]=r:(t.mod&&(r-k>t.mod/2?k+=t.mod:k-r>t.mod/2&&(k-=t.mod)),l[a]=p((r-k)*b+k,c)))}),this[a](l)},blend:function(a){if(1===this._rgba[3])return this;var h=this._rgba.slice(),c=h.pop(),n=t(a)._rgba;return t(b.map(h,function(a,b){return(1-c)*n[b]+c*a}))},toRgbaString:function(){var a="rgba(",h=b.map(this._rgba,
function(a,b){return null==a?2<b?1:0:a});return 1===h[3]&&(h.pop(),a="rgb("),a+h.join()+")"},toHslaString:function(){var a="hsla(",h=b.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===h[3]&&(h.pop(),a="hsl("),a+h.join()+")"},toHexString:function(a){var h=this._rgba.slice(),c=h.pop();return a&&h.push(~~(255*c)),"#"+b.map(h,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?
"transparent":this.toRgbaString()}});t.fn.parse.prototype=t.fn;y.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,h=a[1]/255,c=a[2]/255;a=a[3];var k=Math.max(b,h,c),n=Math.min(b,h,c),l=k-n,r=k+n,t=.5*r,m,x;return n===k?m=0:b===k?m=60*(h-c)/l+360:h===k?m=60*(c-b)/l+120:m=60*(b-h)/l+240,0===t||1===t?x=t:.5>=t?x=l/r:x=l/(2-r),[Math.round(m)%360,x,t,null==a?1:a]};y.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];
var b=a[0]/360,h=a[1],c=a[2];a=a[3];h=.5>=c?c*(1+h):c+h-c*h;c=2*c-h;return[Math.round(255*q(c,h,b+1/3)),Math.round(255*q(c,h,b)),Math.round(255*q(c,h,b-1/3)),a]};A(y,function(a,n){var r=n.props,m=n.cache,x=n.to,y=n.from;t.fn[a]=function(a){x&&!this[m]&&(this[m]=x(this._rgba));if(a===c)return this[m].slice();var h,n=b.type(a),w="array"===n||"object"===n?a:arguments,C=this[m].slice();return A(r,function(a,b){a=w["object"===n?a:b.idx];null==a&&(a=C[b.idx]);C[b.idx]=p(a,b)}),y?(h=t(y(C)),h[m]=C,h):t(C)};
A(r,function(c,n){t.fn[c]||(t.fn[c]=function(l){var r=b.type(l),t="alpha"===c?this._hsla?"hsla":"rgba":a,m=this[t](),x=m[n.idx],p;return"undefined"===r?x:("function"===r&&(l=l.call(this,x),r=b.type(l)),null==l&&n.empty?this:("string"===r&&(p=h.exec(l),p&&(l=x+parseFloat(p[2])*("+"===p[1]?1:-1))),m[n.idx]=l,this[t](m)))})})});A("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),function(a,
h){b.cssHooks[h]={set:function(a,c){var n,l="";if("string"!==b.type(c)||(n=m(c))){c=t(n||c);if(!z.rgba&&1!==c._rgba[3]){for(n="backgroundColor"===h?a.parentNode:a;(""===l||"transparent"===l)&&n&&n.style;)try{l=b.css(n,"backgroundColor"),n=n.parentNode}catch(r){}c=c.blend(l&&"transparent"!==l?l:"_default")}c=c.toRgbaString()}try{a.style[h]=c}catch(r){}}};b.fx.step[h]=function(a){a.colorInit||(a.start=t(a.elem,h),a.end=t(a.end),a.colorInit=!0);b.cssHooks[h].set(a.elem,a.start.transition(a.end,a.pos))}});
b.cssHooks.borderColor={expand:function(a){var b={};return A(["Top","Right","Bottom","Left"],function(h,c){b["border"+c+"Color"]=a}),b}};C=b.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function b(){var c=this.ownerDocument.defaultView?
this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,k={},h,n;if(c&&c.length&&c[0]&&c[c[0]])for(n=c.length;n--;)h=c[n],"string"==typeof c[h]&&(k[a.camelCase(h)]=c[h]);else for(h in c)"string"==typeof c[h]&&(k[h]=c[h]);return k}var l=["add","remove","toggle"],p={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=
function(a){if("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,c,a.end),a.setAttr=!0}});a.effects.animateClass=function(c,q,h,n){var t=a.speed(q,h,n);return this.queue(function(){var h=a(this),n=h.attr("class")||"",q,r=t.children?h.find("*").andSelf():h,r=r.map(function(){return{el:a(this),start:b.call(this)}});q=function(){a.each(l,function(a,b){c[b]&&h[b+"Class"](c[b])})};q();r=r.map(function(){this.end=b.call(this.el[0]);var h=this.start,c=this.end,n={},l,r;for(l in c)r=c[l],
h[l]===r||p[l]||!a.fx.step[l]&&isNaN(parseFloat(r))||(n[l]=r);return this.diff=n,this});h.attr("class",n);r=r.map(function(){var b=this,h=a.Deferred(),c=jQuery.extend({},t,{queue:!1,complete:function(){h.resolve(b)}});return this.el.animate(this.diff,c),h.promise()});a.when.apply(a,r.get()).done(function(){q();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});t.complete.call(h[0])})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,h,k){return c?a.effects.animateClass.call(this,
{add:b},c,h,k):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,h,k){return c?a.effects.animateClass.call(this,{remove:b},c,h,k):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(b,k,h,n,l){return"boolean"==typeof k||k===c?h?a.effects.animateClass.call(this,k?{add:b}:{remove:b},h,n,l):this._toggleClass(b,k):a.effects.animateClass.call(this,{toggle:b},k,h,n)},switchClass:function(b,c,h,k,l){return a.effects.animateClass.call(this,{add:c,remove:b},h,k,
l)}})})();(function(){function k(b,c,k,h){a.isPlainObject(b)&&(c=b,b=b.effect);b={effect:b};null==c&&(c={});a.isFunction(c)&&(h=c,k=null,c={});if("number"==typeof c||a.fx.speeds[c])h=k,k=c,c={};return a.isFunction(k)&&(h=k,k=null),c&&a.extend(b,c),k=k||c.duration,b.duration=a.fx.off?0:"number"==typeof k?k:k in a.fx.speeds?a.fx.speeds[k]:a.fx.speeds._default,b.complete=h||c.complete,b}function l(c){return!c||"number"==typeof c||a.fx.speeds[c]?!0:"string"!=typeof c||a.effects.effect[c]?!1:b&&a.effects[c]?
!1:!0}a.extend(a.effects,{version:"1.9.1",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ui-effects-"+b[c],a[0].style[b[c]])},restore:function(a,b){var k,h;for(h=0;h<b.length;h++)null!==b[h]&&(k=a.data("ui-effects-"+b[h]),k===c&&(k=""),a.css(b[h],k))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c;switch(a[0]){case "top":c=0;break;case "middle":c=.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":a=
0;break;case "center":a=.5;break;case "right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},k=a("\x3cdiv\x3e\x3c/div\x3e").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),h={width:b.width(),height:b.height()},n=document.activeElement;try{n.id}catch(l){n=document.body}return b.wrap(k),
(b[0]===n||a.contains(b[0],n))&&a(n).focus(),k=b.parent(),"static"===b.css("position")?(k.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,h){c[h]=b.css(h);isNaN(parseInt(c[h],10))&&(c[h]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(h),k.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&
(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,k,h){return h=h||{},a.each(c,function(a,c){a=b.cssUnit(c);0<a[0]&&(h[c]=a[0]*k+a[1])}),h}});a.fn.extend({effect:function(){function c(b){function h(){a.isFunction(r)&&r.call(k[0]);a.isFunction(b)&&b()}var k=a(this),r=l.complete,t=l.mode;(k.is(":hidden")?"hide"===t:"show"===t)?h():n.call(k[0],l,h)}var l=k.apply(this,arguments),q=l.mode,h=l.queue,n=a.effects.effect[l.effect],t=!n&&b&&a.effects[l.effect];
return a.fx.off||!n&&!t?q?this[q](l.duration,l.complete):this.each(function(){l.complete&&l.complete.call(this)}):n?!1===h?this.each(c):this.queue(h||"fx",c):t.call(this,{options:l,duration:l.duration,callback:l.complete,mode:l.mode})},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);return b.mode="show",this.effect.call(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);
return b.mode="hide",this.effect.call(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)},cssUnit:function(b){var c=this.css(b),k=[];return a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(k=[parseFloat(c),b])}),k}})})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,
a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-c(1-a)};a.easing["easeInOut"+b]=function(a){return.5>
a?c(2*a)/2:1-c(-2*a+2)/2}})})()}(jQuery);
(function(a,c){var b=/up|down|vertical/,k=/up|left|vertical|horizontal/;a.effects.effect.blind=function(c,p){var m=a(this),q="position top bottom left right height width".split(" "),h=a.effects.setMode(m,c.mode||"hide"),n=c.direction||"up",t=b.test(n),y=t?"height":"width",x=t?"top":"left",n=k.test(n),z={},r="show"===h,C,A,w;m.parent().is(".ui-effects-wrapper")?a.effects.save(m.parent(),q):a.effects.save(m,q);m.show();C=a.effects.createWrapper(m).css({overflow:"hidden"});A=C[y]();w=parseFloat(C.css(x))||
0;z[y]=r?A:0;n||(m.css(t?"bottom":"right",0).css(t?"top":"left","auto").css({position:"absolute"}),z[x]=r?w:A+w);r&&(C.css(y,0),n||C.css(x,w+A));C.animate(z,{duration:c.duration,easing:c.easing,queue:!1,complete:function(){"hide"===h&&m.hide();a.effects.restore(m,q);a.effects.removeWrapper(m);p()}})}})(jQuery);
(function(a,c){a.effects.effect.bounce=function(b,c){var l=a(this),p="position top bottom left right height width".split(" "),m=a.effects.setMode(l,b.mode||"effect"),q="hide"===m,h="show"===m,n=b.direction||"up",m=b.distance,t=b.times||5,y=2*t+(h||q?1:0),x=b.duration/y;b=b.easing;var z="up"===n||"down"===n?"top":"left",n="up"===n||"left"===n,r,C,A=l.queue(),w=A.length;(h||q)&&p.push("opacity");a.effects.save(l,p);l.show();a.effects.createWrapper(l);m||(m=l["top"===z?"outerHeight":"outerWidth"]()/
3);h&&(C={opacity:1},C[z]=0,l.css("opacity",0).css(z,n?2*-m:2*m).animate(C,x,b));q&&(m/=Math.pow(2,t-1));C={};for(h=C[z]=0;h<t;h++)r={},r[z]=(n?"-\x3d":"+\x3d")+m,l.animate(r,x,b).animate(C,x,b),m=q?2*m:m/2;q&&(r={opacity:0},r[z]=(n?"-\x3d":"+\x3d")+m,l.animate(r,x,b));l.queue(function(){q&&l.hide();a.effects.restore(l,p);a.effects.removeWrapper(l);c()});1<w&&A.splice.apply(A,[1,0].concat(A.splice(w,y+1)));l.dequeue()}})(jQuery);
(function(a,c){a.effects.effect.clip=function(b,c){var l=a(this),p="position top bottom left right height width".split(" "),m="show"===a.effects.setMode(l,b.mode||"hide"),q="vertical"===(b.direction||"vertical"),h=q?"height":"width",q=q?"top":"left",n={},t,y;a.effects.save(l,p);l.show();t=a.effects.createWrapper(l).css({overflow:"hidden"});t="IMG"===l[0].tagName?t:l;y=t[h]();m&&(t.css(h,0),t.css(q,y/2));n[h]=m?y:0;n[q]=m?0:y/2;t.animate(n,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){m||
l.hide();a.effects.restore(l,p);a.effects.removeWrapper(l);c()}})}})(jQuery);
(function(a,c){a.effects.effect.drop=function(b,c){var l=a(this),p="position top bottom left right opacity height width".split(" "),m=a.effects.setMode(l,b.mode||"hide"),q="show"===m,h=b.direction||"left",n="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h?"pos":"neg",t={opacity:q?1:0},y;a.effects.save(l,p);l.show();a.effects.createWrapper(l);y=b.distance||l["top"===n?"outerHeight":"outerWidth"](!0)/2;q&&l.css("opacity",0).css(n,"pos"===h?-y:y);t[n]=(q?"pos"===h?"+\x3d":"-\x3d":"pos"===h?"-\x3d":
"+\x3d")+y;l.animate(t,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===m&&l.hide();a.effects.restore(l,p);a.effects.removeWrapper(l);c()}})}})(jQuery);
(function(a,c){a.effects.effect.explode=function(b,c){function l(){x.push(this);x.length===p*m&&(q.css({visibility:"visible"}),a(x).remove(),h||q.hide(),c())}var p=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=p,q=a(this),h="show"===a.effects.setMode(q,b.mode||"hide"),n=q.show().css("visibility","hidden").offset(),t=Math.ceil(q.outerWidth()/m),y=Math.ceil(q.outerHeight()/p),x=[],z,r,C,A,w,B;for(z=0;z<p;z++)for(A=n.top+z*y,B=z-(p-1)/2,r=0;r<m;r++)C=n.left+r*t,w=r-(m-1)/2,q.clone().appendTo("body").wrap("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",
visibility:"visible",left:-r*t,top:-z*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:t,height:y,left:C+(h?w*t:0),top:A+(h?B*y:0),opacity:h?0:1}).animate({left:C+(h?0:w*t),top:A+(h?0:B*y),opacity:h?1:0},b.duration||500,b.easing,l)}})(jQuery);(function(a,c){a.effects.effect.fade=function(b,c){var l=a(this),p=a.effects.setMode(l,b.mode||"toggle");l.animate({opacity:p},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}})(jQuery);
(function(a,c){a.effects.effect.fold=function(b,c){var l=a(this),p="position top bottom left right height width".split(" "),m=a.effects.setMode(l,b.mode||"hide"),q="show"===m,h="hide"===m,m=b.size||15,n=/([0-9]+)%/.exec(m),t=!!b.horizFirst,y=q!==t,x=y?["width","height"]:["height","width"],z=b.duration/2,r,C={},A={};a.effects.save(l,p);l.show();r=a.effects.createWrapper(l).css({overflow:"hidden"});y=y?[r.width(),r.height()]:[r.height(),r.width()];n&&(m=parseInt(n[1],10)/100*y[h?0:1]);q&&r.css(t?{height:0,
width:m}:{height:m,width:0});C[x[0]]=q?y[0]:m;A[x[1]]=q?y[1]:0;r.animate(C,z,b.easing).animate(A,z,b.easing,function(){h&&l.hide();a.effects.restore(l,p);a.effects.removeWrapper(l);c()})}})(jQuery);
(function(a,c){a.effects.effect.highlight=function(b,c){var l=a(this),p=["backgroundImage","backgroundColor","opacity"],m=a.effects.setMode(l,b.mode||"show"),q={backgroundColor:l.css("backgroundColor")};"hide"===m&&(q.opacity=0);a.effects.save(l,p);l.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(q,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===m&&l.hide();a.effects.restore(l,p);c()}})}})(jQuery);
(function(a,c){a.effects.effect.pulsate=function(b,c){var l=a(this),p=a.effects.setMode(l,b.mode||"show"),m="show"===p,q="hide"===p,p=2*(b.times||5)+(m||"hide"===p?1:0),h=b.duration/p,n=0,t=l.queue(),y=t.length;if(m||!l.is(":visible"))l.css("opacity",0).show(),n=1;for(m=1;m<p;m++)l.animate({opacity:n},h,b.easing),n=1-n;l.animate({opacity:n},h,b.easing);l.queue(function(){q&&l.hide();c()});1<y&&t.splice.apply(t,[1,0].concat(t.splice(y,p+1)));l.dequeue()}})(jQuery);
(function(a,c){a.effects.effect.puff=function(b,c){var l=a(this),p=a.effects.setMode(l,b.mode||"hide"),m="hide"===p,q=parseInt(b.percent,10)||150,h=q/100,n={height:l.height(),width:l.width()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:p,complete:c,percent:m?q:100,from:m?n:{height:n.height*h,width:n.width*h}});l.effect(b)};a.effects.effect.scale=function(b,c){var l=a(this),p=a.extend(!0,{},b),m=a.effects.setMode(l,b.mode||"effect"),q=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===
m?0:100),h=b.direction||"both",n=b.origin,t={height:l.height(),width:l.width(),outerHeight:l.outerHeight(),outerWidth:l.outerWidth()},y="horizontal"!==h?q/100:1,q="vertical"!==h?q/100:1;p.effect="size";p.queue=!1;p.complete=c;"effect"!==m&&(p.origin=n||["middle","center"],p.restore=!0);p.from=b.from||("show"===m?{height:0,width:0}:t);p.to={height:t.height*y,width:t.width*q,outerHeight:t.outerHeight*y,outerWidth:t.outerWidth*q};p.fade&&("show"===m&&(p.from.opacity=0,p.to.opacity=1),"hide"===m&&(p.from.opacity=
1,p.to.opacity=0));l.effect(p)};a.effects.effect.size=function(b,c){var l,p,m,q,h,n,t=a(this),y="position top bottom left right width height overflow opacity".split(" ");h="position top bottom left right overflow opacity".split(" ");var x=["width","height","overflow"],z=["fontSize"],r=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],C=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],A=a.effects.setMode(t,b.mode||"effect"),w=b.restore||"effect"!==A,B=b.scale||
"both",E=b.origin||["middle","center"],D=t.css("position"),F=w?y:h,H={height:0,width:0};"show"===A&&t.show();h={height:t.height(),width:t.width(),outerHeight:t.outerHeight(),outerWidth:t.outerWidth()};"toggle"===b.mode&&"show"===A?(t.from=b.to||H,t.to=b.from||h):(t.from=b.from||("show"===A?H:h),t.to=b.to||("hide"===A?H:h));m=t.from.height/h.height;q=t.from.width/h.width;l=t.to.height/h.height;p=t.to.width/h.width;if("box"===B||"both"===B)m!==l&&(F=F.concat(r),t.from=a.effects.setTransition(t,r,m,
t.from),t.to=a.effects.setTransition(t,r,l,t.to)),q!==p&&(F=F.concat(C),t.from=a.effects.setTransition(t,C,q,t.from),t.to=a.effects.setTransition(t,C,p,t.to));("content"===B||"both"===B)&&m!==l&&(F=F.concat(z).concat(x),t.from=a.effects.setTransition(t,z,m,t.from),t.to=a.effects.setTransition(t,z,l,t.to));a.effects.save(t,F);t.show();a.effects.createWrapper(t);t.css("overflow","hidden").css(t.from);E&&(n=a.effects.getBaseline(E,h),t.from.top=(h.outerHeight-t.outerHeight())*n.y,t.from.left=(h.outerWidth-
t.outerWidth())*n.x,t.to.top=(h.outerHeight-t.to.outerHeight)*n.y,t.to.left=(h.outerWidth-t.to.outerWidth)*n.x);t.css(t.from);if("content"===B||"both"===B)r=r.concat(["marginTop","marginBottom"]).concat(z),C=C.concat(["marginLeft","marginRight"]),x=y.concat(r).concat(C),t.find("*[width]").each(function(){var h=a(this),c=h.height(),k=h.width();w&&a.effects.save(h,x);h.from={height:c*m,width:k*q};h.to={height:c*l,width:k*p};m!==l&&(h.from=a.effects.setTransition(h,r,m,h.from),h.to=a.effects.setTransition(h,
r,l,h.to));q!==p&&(h.from=a.effects.setTransition(h,C,q,h.from),h.to=a.effects.setTransition(h,C,p,h.to));h.css(h.from);h.animate(h.to,b.duration,b.easing,function(){w&&a.effects.restore(h,x)})});t.animate(t.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===t.to.opacity&&t.css("opacity",t.from.opacity);"hide"===A&&t.hide();a.effects.restore(t,F);w||("static"===D?t.css({position:"relative",top:t.to.top,left:t.to.left}):a.each(["top","left"],function(a,b){t.css(b,function(b,h){b=
parseInt(h,10);var c=a?t.to.left:t.to.top;return"auto"===h?c+"px":b+c+"px"})}));a.effects.removeWrapper(t);c()}})}})(jQuery);
(function(a,c){a.effects.effect.shake=function(b,c){var l=a(this),p="position top bottom left right height width".split(" "),m=a.effects.setMode(l,b.mode||"effect"),q=b.direction||"left",h=b.distance||20,n=b.times||3,t=2*n+1,y=Math.round(b.duration/t),x="up"===q||"down"===q?"top":"left",z="up"===q||"left"===q,q={},r={},C={},A=l.queue(),w=A.length;a.effects.save(l,p);l.show();a.effects.createWrapper(l);q[x]=(z?"-\x3d":"+\x3d")+h;r[x]=(z?"+\x3d":"-\x3d")+2*h;C[x]=(z?"-\x3d":"+\x3d")+2*h;l.animate(q,
y,b.easing);for(h=1;h<n;h++)l.animate(r,y,b.easing).animate(C,y,b.easing);l.animate(r,y,b.easing).animate(q,y/2,b.easing).queue(function(){"hide"===m&&l.hide();a.effects.restore(l,p);a.effects.removeWrapper(l);c()});1<w&&A.splice.apply(A,[1,0].concat(A.splice(w,t+1)));l.dequeue()}})(jQuery);
(function(a,c){a.effects.effect.slide=function(b,c){var l=a(this),p="position top bottom left right width height".split(" "),m=a.effects.setMode(l,b.mode||"show"),q="show"===m,h=b.direction||"left",n="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h,t,y={};a.effects.save(l,p);l.show();t=b.distance||l["top"===n?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(l).css({overflow:"hidden"});q&&l.css(n,h?isNaN(t)?"-"+t:-t:t);y[n]=(q?h?"+\x3d":"-\x3d":h?"-\x3d":"+\x3d")+t;l.animate(y,{queue:!1,
duration:b.duration,easing:b.easing,complete:function(){"hide"===m&&l.hide();a.effects.restore(l,p);a.effects.removeWrapper(l);c()}})}})(jQuery);
(function(a,c){a.effects.effect.transfer=function(b,c){var l=a(this),p=a(b.to),m="fixed"===p.css("position"),q=a("body"),h=m?q.scrollTop():0,q=m?q.scrollLeft():0,n=p.offset(),p={top:n.top-h,left:n.left-q,height:p.innerHeight(),width:p.innerWidth()},n=l.offset(),t=a('\x3cdiv class\x3d"ui-effects-transfer"\x3e\x3c/div\x3e').appendTo(document.body).addClass(b.className).css({top:n.top-h,left:n.left-q,height:l.innerHeight(),width:l.innerWidth(),position:m?"fixed":"absolute"}).animate(p,b.duration,b.easing,
function(){t.remove();c()})}})(jQuery);
function d(a){var c,b;if(!this.length)return this;c=this[0];c.ownerDocument?b=c.ownerDocument:(b=c,c=b.documentElement);if(null==a)return b.cancelFullScreen||b.webkitCancelFullScreen||b.mozCancelFullScreen?(a=!!b.fullScreen||!!b.webkitIsFullScreen||!!b.mozFullScreen)?b.fullScreenElement||b.webkitCurrentFullScreenElement||b.mozFullScreenElement||a:a:null;a?(a=c.requestFullScreen||c.webkitRequestFullScreen||c.mozRequestFullScreen)&&a.call(c,Element.ALLOW_KEYBOARD_INPUT):(a=b.cancelFullScreen||b.webkitCancelFullScreen||
b.mozCancelFullScreen)&&a.call(b);return this}jQuery.fn.fullScreen=d;jQuery.fn.toggleFullScreen=function(){return d.call(this,!d.call(this))};var e,f,g;e=document;e.webkitCancelFullScreen?(f="webkitfullscreenchange",g="webkitfullscreenerror"):e.mozCancelFullScreen?(f="mozfullscreenchange",g="mozfullscreenerror"):(f="fullscreenchange",g="fullscreenerror");jQuery(document).bind(f,function(){jQuery(document).trigger(new jQuery.Event("fullscreenchange"))});jQuery(document).bind(g,function(){jQuery(document).trigger(new jQuery.Event("fullscreenerror"))});
(function(a){a.effects.fly=function(c){return this.queue(function(){var b=a(this),k=["position","top","bottom","left","right"];a.effects.setMode(b,c.options.mode||"show");var l=c.options.direction||"left";a.effects.save(b,k);var p=b.position();"none"==b.css("display")&&(b.css({visibility:"hidden",display:"block"}),p=b.position(),b.css({visibility:"inherit",display:"none"}));b.parent();"absolute"!=b.css("position")&&"relative"!=b.css("position")&&b.css({position:"absolute",top:p.top+"px",left:p.left+
"px"});"show"==c.options.mode?("left"==l?b.css("left",0-b.width()+"px"):"right"==l?b.css("left",a(document).width()+b.width()+"px"):"up"==l?b.css("top",0-b.height()+"px"):"down"==l&&b.css("top",a(document).height()+b.height()+"px"),b.show(),l=void 0!=c.duration?c.duration:1E3,b.animate(p,{duration:l,queue:!1,easing:"linear",complete:function(){a.effects.restore(b,k);c.callback&&c.callback.apply(this,arguments);b.dequeue()}})):(p={},"left"==l?p.left=0-b.width():"right"==l?p.left=a(document).width()+
b.width():"up"==l?p.top=0-b.height():"down"==l&&(p.top=a(document).height()+b.height()),l=void 0!=c.duration?c.duration:1E3,b.animate(p,{duration:l,queue:!1,easing:"linear",complete:function(){b.hide();a.effects.restore(b,k);c.callback&&c.callback.apply(this,arguments);b.dequeue()}}))})};a.effects.move=function(c){return this.queue(function(){var b=a(this),k=["position","top","bottom","left","right"],l=c.options.to;a.effects.save(b,k);var p=b.position();b.parent().css("height");"absolute"!=b.css("position")&&
"relative"!=b.css("position")&&b.css({position:"absolute",top:p.top+"px",left:p.left+"px"});p=void 0!=c.duration?c.duration:800;"undefined"!=typeof c.options.allowShow&&1!=c.options.allowShow||b.show();b.animate(l,{duration:p,queue:!1,easing:"linear",complete:function(){c.options.restore&&a.effects.restore(b,k);c.callback&&c.callback.apply(this,arguments);b.dequeue()}})})};a.effects.resize=function(c){return this.queue(function(){var b=a(this),k=c.options.to,l=void 0!=c.duration?c.duration:800;a.effects.save(b,
["width","height"]);var p={};void 0!=k.height&&(p.height=k.height+"%");void 0!=k.width&&(p.width=k.width+"%");b.velocity(p,{duration:l,complete:function(){c.callback&&c.callback.apply(this,arguments);b.dequeue()}});b.dequeue()})};a.effects.fadeTo=function(c){return this.queue(function(){var b=a(this);b.animate(c.options.to,{duration:void 0!=c.duration?c.duration:800,queue:!1,easing:"linear",complete:function(){c.callback&&c.callback.apply(this,arguments);b.dequeue()}})})};a.effects.fadeTo=a.effects.fadeTo;
a.effects.moveBy=a.effects.move;a.effects.moveTo=a.effects.move;a.effects.resizeTo=a.effects.resize;a.effects.resizeBy=a.effects.resize})(jQuery);
!function(a){var c=function(b,c){this.options=c;this.element=a(b);a(b).addClass("dki-stayInView").css("transition","top 100ms ease-in-out");this.initSubscribers();return this};c.DEFAULTS={scrollParent:a("body")};c.prototype={initSubscribers:function(){var b=this;this.options.scrollParent.hasClass("siv-wp")||this.options.scrollParent.addClass("siv-wp").data("siv-wp",new Waypoint.Inview({element:this.options.scrollParent[0],enter:function(){a(window).on("scroll."+b.element.data("id"),a.proxy(b.move,
b))},exited:function(){a(window).off("scroll."+a(b.el).data("id"))}}))},getVisibleRange:function(b){var c=a(window).scrollTop(),l=a(window).scrollTop()+a(window).height(),p=this.options.scrollParent.offset().top,m=this.options.scrollParent.offset().top+this.options.scrollParent.outerHeight();return Math.max(0,Math.min((l-p+Math.max(0,c-p))/2,m-(20+a(b).outerHeight())-p))},move:function(){var b=this;this.options.scrollParent.find(".dki-stayInView").each(function(){a(this).css("top",b.getVisibleRange(this))})},
destroy:function(){this.siv.element.removeClass(".dki-stayInView");0==this.siv.options.scrollParent.find(".dki-staInView").length&&(this.siv.options.scrollParent.data("siv-wp").destroy(),this.siv.options.scrollParent.data("siv-wp",""));a(window).off("scroll."+this.siv.element.data("id"))}};a.fn.StayInView=function(b){var k=b,l=Array.prototype.slice.call(arguments,1);return this.each(function(){var p=a(this),m=a(this).data("dki.StayInView");options=a.extend({},c.DEFAULTS,"object"===typeof k&&k);m?
"string"===typeof b&&(p=a(this).data("dki.StayInView"))&&p[b]&&p[b].apply({$:a(this),siv:a(this).data("dki.StayInView")},l):p.data("dki.StayInView",new c(this,options))})};a.fn.StayInView.Constructor=c}(window.jQuery);var DKI;DKI||(DKI={});var idSeed=0;DKI.apply=function(a,c){a="undefined"!=typeof a?a:{};c="undefined"!=typeof c?c:{};for(var b in c)a[b]=c[b];return a};
DKI.applyIf=function(a,c,b){a="undefined"!=typeof a?a:{};c="undefined"!=typeof c?c:{};if(a)if(void 0===b?0:b)DKI.applyIfDeep(a,c);else for(var k in c)"undefined"==typeof a[k]&&(a[k]=c[k]);return a};DKI.applyIfDeep=function(a,c){if(a)for(var b in c)"undefined"===typeof a[b]?DKI.isObject(c[b])?(a[b]={},arguments.callee(a[b],c[b])):a[b]=c[b]:DKI.isObject(c[b])&&arguments.callee(a[b],c[b]);return a};DKI.id=function(){for(;0<$(idSeed).length;)idSeed++;return idSeed};
DKI.determineRoot=function(){var a=window.location.href;return/\/$/.test(a)?a:a.replace(/\?.*$/,"").replace(/\w*\.[a-zA-Z]+$/,"")};DKI.getVideoEmbedURL=function(a){var c=dataStorage.getElement(a);return"videoembed"==c.elementtype?(c.meta2="dynamic",settings.inPreview?DKI.determineRoot().replace("/preview/","")+"ajax/element.cfm/"+a+"/videoEmbedTemp.html":"assets/elements/"+a+"/tempVideoEmbed.html"):""};
DKI.stripHTML=function(a){a=a.toString();a=a.replace(/<(?:.|\s)*?>/g,"");a=a.replace(/\&nbsp\;/g," ");a=a.replace(/\s+/g," ");return a=$("\x3cdiv\x3e"+a+"\x3c/div\x3e").text()};DKI.getObjectKeys=function(a){var c=[],b;for(b in a)c.push(b);return c};DKI.isObject=function(a){return"[object Object]"==Object.prototype.toString.call(a)};DKI.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};DKI.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};
DKI.clone=function(a,c){var b="undefined"==typeof c?!0:c;if(DKI.isArray(a)){c=[];for(var k=0;k<a.length;k++)b?c.push(DKI.clone(a[k])):c.push(a[k])}else if(DKI.isObject(a))for(k in c={},a){var l=a[k];c[k]=b?DKI.clone(l):l}else c=a;return c};
DKI.scrollTop=function(){var a;if(1==settings.courseType&&settings.scrolling)a=$("#contentFrame div.current.slide").scrollTop();else if(dkiUA.ie&&8>=dkiUA.ieVersion){a=document.body;var c=document.documentElement,c=c.clientHeight?c:a;a=c.scrollTop}else a=window.pageYOffset;return a};
DKI.centerInPlayer=function(a,c){var b="left";c||(b="margin-"+b);c=a.outerWidth(!0);var k=a.outerHeight(!0),l=$("#contentFrame").width(),p=((DKI.courseStore&&DKI.courseStore.course.get()?DKI.courseStore.course.get().height:$(p).height())-k)/2+DKI.scrollTop();c=(l-c)/2;a.css("top",p+"px").css(b,c+"px")};
DKI.calculateCoords=function(a,c,b){var k=$(window).height()>$("#contentFrame").height()?$("#contentFrame").height():$(window).height(),l=$("#contentFrame").width(),p=$("#headerContainer").height(),m=$(c).outerHeight();c=$(c).outerWidth();var q=($("html").width()-$("body").width())/2,q={x:$(a).offset().left-q-$("#contentFrame").offset().left,y:$(a).offset().top+a.offsetHeight+b-$("#contentFrame").offset().top},h=DKI.scrollTop();q.x+c>l&&(q.x=l-(c+20));l=k+h-p;1==settings.courseType&&(l=settings.courseHeight);
q.y+m>l&&(q.y=q.y-m-$(a).outerHeight()-b,0>q.y&&(q.y=k-p-m));q.y=0>q.y?0:q.y;return q};DKI.setNS=function(a,c,b){"string"===typeof a&&(a=a.split("."));if(1<a.length){var k=a.shift();DKI.setNS(a,c[k]="[object Object]"===Object.prototype.toString.call(c[k])?c[k]:{},b)}else c[a[0]]=b};DKI.capitalizeString=function(a){return a.toLowerCase().replace(/^[\u00C0-\u1FFF\u2C00-\uD7FF\w]|\s[\u00C0-\u1FFF\u2C00-\uD7FF\w]/g,function(a){return a.toUpperCase()})};DKI.waypointsDefaults={};
DKI.EVENT_CANCEL_BUBBLE=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};DKI.hexToRGB=function(a,c){a=a.replace("#","");var b=parseInt(a.substring(0,2),16),k=parseInt(a.substring(2,4),16);a=parseInt(a.substring(4,6),16);return"undefined"!==typeof c?"rgba("+b+","+k+","+a+","+c/100+")":"rgb("+b+","+k+","+a+")"};DKI.shuffle=function(a){for(var c=a.length,b,k;0!==c;)k=Math.floor(Math.random()*c),--c,b=a[c],a[c]=a[k],a[k]=b;return a};
DKI.formatDate=function(a,c,b,k){"string"===typeof a&&(a=a.replace(" ","T"));a=a instanceof Date?a:new Date(a);var l="";k||(l+=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2));c||(c=a.getHours(),k="",b||(k=11<c?"pm":"am",c%=12,0==c&&(c=12)),l+=" "+("0"+c).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+k);return l.trim()};
DKI.getURLParameterValue=function(a){var c=location;(a=decodeURIComponent(((new RegExp("[?|\x26]"+a+"\x3d([^\x26;]+?)(\x26|##|;|$)")).exec(c.search)||[null,""])[1].replace(/\+/g,"%20"))||null)||(a=c.href.split("?")[1]);return a};DKI.enforceFocus=function(a){$(document).off("focusin.enforce");if(a)$(document).on("focusin.enforce",$.proxy(function(c){document===c.target||a[0]===c.target||a.has(c.target).length||(c=a.find("*[tabindex\x3d'1']").first(),c[0]?c[0].focus():a[0].focus())},this))};
DKI.utility={dateDiff:function(a,c){a=a instanceof Date?a:new Date(a);c=(c-a)/1E3;var b="";0<c&&(b=1>c?"About a second ago":60>c?Math.floor(c)+" seconds ago":120>c?"About a minute ago":3600>c?Math.floor(c/60)+" minutes ago":7200>c?"About an hour ago":86400>=c?Math.floor(c/3600)+" hours ago":DKI.utility.formatDate(a,!0));return b},timeFunctions:{convertMsToTime:function(a){var c={d:0,h:0,m:0,s:0,ms:0};864E5<=a&&(c.d=Math.floor(a/864E5),a-=864E5*c.d);36E5<=a&&(c.h=Math.floor(a/36E5),a-=36E5*c.h);6E4<=
a&&(c.m=Math.floor(a/6E4),a-=6E4*c.m);1E3<=a&&(c.s=Math.floor(a/1E3),a-=1E3*c.s);c.ms=a;return c}},isValidEmail:function(a){return(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i)).test(a)},dragFix:function(a){var c=a.helper.data("initialPageYOffset");
a.position.top+=c;c=(a.originalPosition.top+(a.position.top-a.originalPosition.top))/settings.scale;a.position.left=(a.originalPosition.left+(a.position.left-a.originalPosition.left))/settings.scale;a.position.top=c;return a}};this.JSON||(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function c(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var b=q[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(a,k){var l,x,q=p,r,C=k[a];C&&"object"===typeof C&&"function"===typeof C.toJSON&&(C=C.toJSON(a));"function"===typeof h&&(C=h.call(k,a,C));switch(typeof C){case "string":return c(C);case "number":return isFinite(C)?String(C):"null";case "boolean":case "null":return String(C);
case "object":if(!C)return"null";p+=m;r=[];if("number"===typeof C.length&&!C.propertyIsEnumerable("length")){x=C.length;for(a=0;a<x;a+=1)r[a]=b(a,C)||"null";k=0===r.length?"[]":p?"[\n"+p+r.join(",\n"+p)+"\n"+q+"]":"["+r.join(",")+"]";p=q;return k}if(h&&"object"===typeof h)for(x=h.length,a=0;a<x;a+=1)l=h[a],"string"===typeof l&&(k=b(l,C))&&r.push(c(l)+(p?": ":":")+k);else for(l in C)Object.hasOwnProperty.call(C,l)&&(k=b(l,C))&&r.push(c(l)+(p?": ":":")+k);k=0===r.length?"{}":p?"{\n"+p+r.join(",\n"+
p)+"\n"+q+"}":"{"+r.join(",")+"}";p=q;return k}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,m,q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,c,k){var l;m=p="";if("number"===typeof k)for(l=0;l<k;l+=1)m+=" ";else"string"===typeof k&&(m=k);if((h=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function h(a,c){var k,n,l=a[c];if(l&&"object"===typeof l)for(k in l)Object.hasOwnProperty.call(l,k)&&(n=h(l,k),void 0!==n?l[k]=n:delete l[k]);return b.call(a,c,l)}k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return a=eval("("+a+")"),"function"===typeof b?h({"":a},""):a;throw new SyntaxError("JSON.parse");})})();
var swfobject=function(){function a(){if(!V){try{var a=E.getElementsByTagName("body")[0].appendChild(E.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}V=!0;for(var a=H.length,h=0;h<a;h++)H[h]()}}function c(a){V?a():H[H.length]=a}function b(a){if("undefined"!=typeof B.addEventListener)B.addEventListener("load",a,!1);else if("undefined"!=typeof E.addEventListener)E.addEventListener("load",a,!1);else if("undefined"!=typeof B.attachEvent)z(B,"onload",a);else if("function"==typeof B.onload){var b=
B.onload;B.onload=function(){b();a()}}else B.onload=a}function k(){var a=E.getElementsByTagName("body")[0],b=E.createElement("object");b.setAttribute("type","application/x-shockwave-flash");var h=a.appendChild(b);if(h){var c=0;(function(){if("undefined"!=typeof h.GetVariable){var k=h.GetVariable("$version");k&&(k=k.split(" ")[1].split(","),K.pv=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)])}else if(10>c){c++;setTimeout(arguments.callee,10);return}a.removeChild(b);h=null;l()})()}else l()}
function l(){var a=G.length;if(0<a)for(var b=0;b<a;b++){var c=G[b].id,k=G[b].callbackFn,n={success:!1,id:c};if(0<K.pv[0]){var l=x(c);if(l)if(!r(G[b].swfVersion)||K.wk&&312>K.wk)if(G[b].expressInstall&&m()){n={};n.data=G[b].expressInstall;n.width=l.getAttribute("width")||"0";n.height=l.getAttribute("height")||"0";l.getAttribute("class")&&(n.styleclass=l.getAttribute("class"));l.getAttribute("align")&&(n.align=l.getAttribute("align"));for(var t={},l=l.getElementsByTagName("param"),w=l.length,y=0;y<
w;y++)"movie"!=l[y].getAttribute("name").toLowerCase()&&(t[l[y].getAttribute("name")]=l[y].getAttribute("value"));q(n,t,c,k)}else h(l),k&&k(n);else A(c,!0),k&&(n.success=!0,n.ref=p(c),k(n))}else A(c,!0),k&&((c=p(c))&&"undefined"!=typeof c.SetVariable&&(n.success=!0,n.ref=c),k(n))}}function p(a){var b=null;(a=x(a))&&"OBJECT"==a.nodeName&&("undefined"!=typeof a.SetVariable?b=a:(a=a.getElementsByTagName("object")[0])&&(b=a));return b}function m(){return!S&&r("6.0.65")&&(K.win||K.mac)&&!(K.wk&&312>K.wk)}
function q(a,b,h,c){S=!0;J=c||null;Y={success:!1,id:h};var k=x(h);if(k){"OBJECT"==k.nodeName?(N=n(k),O=null):(N=k,O=h);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";E.title=E.title.slice(0,47)+" - Flash Player Installation";c=K.ie&&K.win?"ActiveX":"PlugIn";c="MMredirectURL\x3d"+B.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+
c+"\x26MMdoctitle\x3d"+E.title;b.flashvars="undefined"!=typeof b.flashvars?b.flashvars+("\x26"+c):c;K.ie&&K.win&&4!=k.readyState&&(c=E.createElement("div"),h+="SWFObjectNew",c.setAttribute("id",h),k.parentNode.insertBefore(c,k),k.style.display="none",function(){4==k.readyState?k.parentNode.removeChild(k):setTimeout(arguments.callee,10)}());t(a,b,h)}}function h(a){if(K.ie&&K.win&&4!=a.readyState){var b=E.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(n(a),b);a.style.display=
"none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var b=E.createElement("div");if(K.win&&K.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName("object")[0])if(a=a.childNodes)for(var h=a.length,c=0;c<h;c++)1==a[c].nodeType&&"PARAM"==a[c].nodeName||8==a[c].nodeType||b.appendChild(a[c].cloneNode(!0));return b}function t(a,b,h){var c,k=x(h);if(K.wk&&312>K.wk)return c;if(k)if("undefined"==typeof a.id&&
(a.id=h),K.ie&&K.win){var n="",l;for(l in a)a[l]!=Object.prototype[l]&&("data"==l.toLowerCase()?b.movie=a[l]:"styleclass"==l.toLowerCase()?n+=' class\x3d"'+a[l]+'"':"classid"!=l.toLowerCase()&&(n+=" "+l+'\x3d"'+a[l]+'"'));l="";for(var r in b)b[r]!=Object.prototype[r]&&(l+='\x3cparam name\x3d"'+r+'" value\x3d"'+b[r]+'" /\x3e');k.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+n+"\x3e"+l+"\x3c/object\x3e";L[L.length]=a.id;c=x(a.id)}else{r=E.createElement("object");r.setAttribute("type",
"application/x-shockwave-flash");for(var t in a)a[t]!=Object.prototype[t]&&("styleclass"==t.toLowerCase()?r.setAttribute("class",a[t]):"classid"!=t.toLowerCase()&&r.setAttribute(t,a[t]));for(n in b)b[n]!=Object.prototype[n]&&"movie"!=n.toLowerCase()&&(a=r,l=n,t=b[n],h=E.createElement("param"),h.setAttribute("name",l),h.setAttribute("value",t),a.appendChild(h));k.parentNode.replaceChild(r,k);c=r}return c}function y(a){var b=x(a);b&&"OBJECT"==b.nodeName&&(K.ie&&K.win?(b.style.display="none",function(){if(4==
b.readyState){var h=x(a);if(h){for(var c in h)"function"==typeof h[c]&&(h[c]=null);h.parentNode.removeChild(h)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function x(a){var b=null;try{b=E.getElementById(a)}catch(h){}return b}function z(a,b,h){a.attachEvent(b,h);I[I.length]=[a,b,h]}function r(a){var b=K.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:
!1}function C(a,b,h,c){if(!K.ie||!K.mac){var k=E.getElementsByTagName("head")[0];k&&(h=h&&"string"==typeof h?h:"screen",c&&(T=Q=null),Q&&T==h||(c=E.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("media",h),Q=k.appendChild(c),K.ie&&K.win&&"undefined"!=typeof E.styleSheets&&0<E.styleSheets.length&&(Q=E.styleSheets[E.styleSheets.length-1]),T=h),K.ie&&K.win?Q&&"object"==typeof Q.addRule&&Q.addRule(a,b):Q&&"undefined"!=typeof E.createTextNode&&Q.appendChild(E.createTextNode(a+
" {"+b+"}")))}}function A(a,b){R&&(b=b?"visible":"hidden",V&&x(a)?x(a).style.visibility=b:C("#"+a,"visibility:"+b))}function w(a){return null!=/[\\\"<>\.;]/.exec(a)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(a):a}var B=window,E=document,D=navigator,F=!1,H=[function(){F?k():l()}],G=[],L=[],I=[],N,O,J,Y,V=!1,S=!1,Q,T,R=!0,K=function(){var a="undefined"!=typeof E.getElementById&&"undefined"!=typeof E.getElementsByTagName&&"undefined"!=typeof E.createElement,b=D.userAgent.toLowerCase(),
h=D.platform.toLowerCase(),c=h?/win/.test(h):/win/.test(b),h=h?/mac/.test(h):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,k=!+"\v1",n=[0,0,0],l=null;if("undefined"!=typeof D.plugins&&"object"==typeof D.plugins["Shockwave Flash"])!(l=D.plugins["Shockwave Flash"].description)||"undefined"!=typeof D.mimeTypes&&D.mimeTypes["application/x-shockwave-flash"]&&!D.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(F=!0,k=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,
"$1"),n[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),n[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),n[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof B.ActiveXObject)try{if(l=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))k=!0,l=l.split(" ")[1].split(","),n=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]}catch(r){}return{w3:a,pv:n,wk:b,ie:k,win:c,mac:h}}();(function(){K.w3&&(("undefined"!=typeof E.readyState&&
"complete"==E.readyState||"undefined"==typeof E.readyState&&(E.getElementsByTagName("body")[0]||E.body))&&a(),V||("undefined"!=typeof E.addEventListener&&E.addEventListener("DOMContentLoaded",a,!1),K.ie&&K.win&&(E.attachEvent("onreadystatechange",function(){"complete"==E.readyState&&(E.detachEvent("onreadystatechange",arguments.callee),a())}),B==top&&function(){if(!V){try{E.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}a()}}()),K.wk&&function(){V||(/loaded|complete/.test(E.readyState)?
a():setTimeout(arguments.callee,0))}(),b(a)))})();(function(){K.ie&&K.win&&window.attachEvent("onunload",function(){for(var a=I.length,b=0;b<a;b++)I[b][0].detachEvent(I[b][1],I[b][2]);a=L.length;for(b=0;b<a;b++)y(L[b]);for(var h in K)K[h]=null;K=null;for(var c in swfobject)swfobject[c]=null;swfobject=null})})();return{registerObject:function(a,b,h,c){if(K.w3&&a&&b){var k={};k.id=a;k.swfVersion=b;k.expressInstall=h;k.callbackFn=c;G[G.length]=k;A(a,!1)}else c&&c({success:!1,id:a})},getObjectById:function(a){if(K.w3)return p(a)},
embedSWF:function(a,b,h,k,n,l,x,w,p,y){var C={success:!1,id:b};K.w3&&!(K.wk&&312>K.wk)&&a&&b&&h&&k&&n?(A(b,!1),c(function(){h+="";k+="";var c={};if(p&&"object"===typeof p)for(var z in p)c[z]=p[z];c.data=a;c.width=h;c.height=k;z={};if(w&&"object"===typeof w)for(var B in w)z[B]=w[B];if(x&&"object"===typeof x)for(var E in x)z.flashvars="undefined"!=typeof z.flashvars?z.flashvars+("\x26"+E+"\x3d"+x[E]):E+"\x3d"+x[E];if(r(n))B=t(c,z,b),c.id==b&&A(b,!0),C.success=!0,C.ref=B;else{if(l&&m()){c.data=l;q(c,
z,b,y);return}A(b,!0)}y&&y(C)})):y&&y(C)},switchOffAutoHideShow:function(){R=!1},ua:K,getFlashPlayerVersion:function(){return{major:K.pv[0],minor:K.pv[1],release:K.pv[2]}},hasFlashPlayerVersion:r,createSWF:function(a,b,h){if(K.w3)return t(a,b,h)},showExpressInstall:function(a,b,h,c){K.w3&&m()&&q(a,b,h,c)},removeSWF:function(a){K.w3&&y(a)},createCSS:function(a,b,h,c){K.w3&&C(a,b,h,c)},addDomLoadEvent:c,addLoadEvent:b,getQueryParamValue:function(a){var b=E.location.search||E.location.hash;if(b){/\?/.test(b)&&
(b=b.split("?")[1]);if(null==a)return w(b);for(var b=b.split("\x26"),h=0;h<b.length;h++)if(b[h].substring(0,b[h].indexOf("\x3d"))==a)return w(b[h].substring(b[h].indexOf("\x3d")+1))}return""},expressInstallCallback:function(){if(S){var a=x("SWFObjectExprInst");a&&N&&(a.parentNode.replaceChild(N,a),O&&(A(O,!0),K.ie&&K.win&&(N.style.display="block")),J&&J(Y));S=!1}}}}(),isMobile=$("body").hasClass("mobile"),isTablet=$("body").hasClass("tablet"),isOnline=$("body").hasClass("online");DKI||(DKI={});
DKI.templates={};DKI.templates.header="";DKI.templates.footer="";if(isMobile||isTablet||isOnline)DKI.templates.header+='\x3cdiv id\x3d"logo"\x3e\x3c/div\x3e';
isMobile?DKI.templates.header=isTablet?DKI.templates.header+'\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e\x3c/a\x3e \x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e':DKI.templates.header+
'\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e\x3c/a\x3e \x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.listButtonLabel}}" aria-haspopup\x3d"true" aria-owns\x3d"moreButtons" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1" role\x3d"region"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.previousButtonLabel}}" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.nextButtonLabel}}" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e':
(DKI.templates.footer+='\x3cdiv id\x3d"info"\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3c/div\x3e \x3cdiv class\x3d"navButtonContainer"\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"navButtons"\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"0"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3c/div\x3e\t',
DKI.templates.header+='\x3cdiv class\x3d"navButtonContainer"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e\x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e');
Handlebars.registerHelper("forExport",function(a){return DKI.renderService.state.renderEnvironment.export?a.fn(this):a.inverse(this)});DKI.templates.endModule='\x3cdiv class\x3d"endScreenWrapper" style\x3d"display : -ms-flexbox;-ms-flex-direction : column;"\x3e \x3cdiv class\x3d"endScreen flex {{#if responsive}}dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endMod_header" class\x3d"section header" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endMod.headerText}}\x3c/h4\x3e \x3ch3 id\x3d"endMod_moduleName" class\x3d"modname" style\x3d"margin-top:0px"\x3e{{strings.endMod.moduleNameLabel}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont"  tabindex\x3d"1"\x3e\x3cspan class\x3d"endMod_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endMod_content" class\x3d"flexfill flex"\x3e\x3cdiv id\x3d"endMod_status" class\x3d"status flexfill flex"\x3e \x3cdiv id\x3d"endMod_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e \x3c/div\x3e \x3cdiv id\x3d"endMod_actions" class\x3d"section actions" style\x3d"display: inline-block;"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_testingLink centerBlock"\x3e\x3ca class\x3d" disabled btn btn-success" id\x3d"" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.testingLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}6{{else}}3{{/if}} endMod_reviewLink centerBlock"\x3e\x3ca class\x3d" btn btn-success" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.reviewTestButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_revisitLink centerBlock"\x3e\x3ca class\x3d" btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.revisitContentButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_learningLink centerBlock"\x3e\x3ca class\x3d" btn btn-primary" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.learningLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e';
DKI.templates.endScreenTestItem='\x3cdiv class\x3d"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock"\x3e \x3cdiv class\x3d"testItemContentContainer flex"\x3e\x3cdiv class\x3d"dki-modTitle" tabindex\x3d"1" style\x3d"width:100%" aria-label\x3d"{{object.name}}"\x3e{{object.name}}\x3c/div\x3e\x3cdiv class\x3d\'flex flexrow flexfill gaugecont\' style\x3d\'margin-bottom:10px;\'\x3e\x3cdiv style\x3d\'width:124px; padding:0;\' class\x3d\'flexfill\'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d\'1\' aria-label\x3d\'{{gaugeLabel}}\'{{/if}} class\x3d"{{style}} dki-radialgauge radial fill-primary noJelly {{#unless forTesting}}overlay_transparent{{/unless}}"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text {{#unless forTesting}}hidden{{/unless}}"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d\'fa fa-check justicon\' style\x3d\'font-size:80px; margin-top:12px;\'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if forTesting}}\x3cdiv class\x3d\'scoreDisp\' tabindex\x3d\'1\' style\x3d\'white-space:nowrap;\'\x3e({{object.points}}/{{object.totalWeight}} {{strings.txtPoints}})\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.CourseEndScreenTestItem="\x3cdiv class\x3d\"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock{{#if requiresPass}} requiresPass{{/if}}\"\x3e \x3cdiv class\x3d\"testItemContentContainer flex\"\x3e\x3cdiv class\x3d\"dki-modTitle\" tabindex\x3d\"1\" style\x3d\"width:100%\"\x3e{{module.loname}}\x3c/div\x3e\x3cdiv class\x3d'flex flexrow flexfill gaugecont'\x3e\x3cdiv\x3e\x3cdiv style\x3d'width:124px; padding:0;' class\x3d'flex flexfill'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d'1' aria-label\x3d'{{gaugeLabel}}'{{/if}} class\x3d\"{{style}} dki-radialgauge radial noJelly {{#unless showScore}}overlay_transparent{{/unless}}\"\x3e\x3cdiv class\x3d\"overlay\"\x3e\x3cdiv tabindex\x3d\"1\" class\x3d\"text dki-element-text {{#unless showScore}}hidden{{/unless}}\"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d'fa fa-check justicon' style\x3d'font-size:80px; margin-top:12px;'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if showWeight}}\x3cdiv class\x3d'scoreDisp' style\x3d'margin-top:10px;' tabindex\x3d'1'\x3e\x3cdiv\x3e({{points}}/{{weight}} {{strings.runtime.txtPoints}})\x3c/div\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d'scoreDisp' style\x3d'white-space:nowrap;' \x3e{{#if showRetake}}\x3cdiv class\x3d'btn btn-success retake' style\x3d'margin-bottom:10px;' data-moduleid\x3d'{{module.loid}}' tabindex\x3d'1'\x3e{{retakeText}}\x3c/div\x3e{{/if}}{{#if showScore}}\x3cdiv style\x3d'font-size: 0.75em' tabindex\x3d'1'\x3e{{strings.runtime.txtRemainingAttempts}} {{attempts}}\x3c/div\x3e{{/if}}{{#if showPass}}\x3cdiv style\x3d'font-size: 0.75em; margin-top:10px;' tabindex\x3d'1'\x3e{{passMark}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'btn btn-default view' data-moduleid\x3d'{{module.loid}}' style\x3d'width: calc(100% - 30px); margin: 15px 0; padding: 5px 0;'tabindex\x3d'1'\x3e{{strings.endMod.revisitContentButton}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.endCourse='\x3cdiv class\x3d"endScreenWrapper"\x3e \x3cdiv class\x3d"endScreen flex{{#if responsive}} dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endCourse_header" class\x3d"section header bg-primary" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endCourse.headerLabel}}\x3c/h4\x3e \x3ch3 id\x3d"endCourse_courseName" style\x3d"margin-top:0px"\x3e{{contentApi "getCourseName"}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont" tabindex\x3d"1"\x3e\x3cspan class\x3d"endCourse_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_status" class\x3d"status flex flexfill"\x3e \x3cdiv id\x3d"endCourse_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_actions" class\x3d"section actions"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_bibliographyLink"\x3e\x3ca class\x3d"btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewBibliography}}\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_certificateLink"\x3e\x3ca class\x3d"disabled btn btn-warning" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewCertificate}}\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e';
DKI.templates.window="\x3cdiv id\x3d'{{id}}' class\x3d'loading windowContainer'\x3e\x3cdiv class\x3d'browserHeader'\x3e\x3cspan class\x3d'headerTitle' tabindex\x3d'0'\x3e{{windowTitle}}\x3c/span\x3e\x3cdiv class\x3d'browserCloseButton' title\x3d'{{strings.runtime.buttonLabelClose}}' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e{{{afterHeader}}}\x3cdiv id\x3d'{{contentId}}' class\x3d'browserContentContainer'\x3e{{{windowContent}}}\x3c/div\x3e\x3c/div\x3e";DKI.templates.mobileBackSearch="{{#if mobile}}\x3cdiv class\x3d'backButton' tabindex\x3d'0'\x3e Back \x3c/div\x3e\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput class\x3d'searchInput' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e{{/if}}";
DKI.templates.search="\x3cdiv id\x3d'resultList' class\x3d'panel browserList'\x3e\x3cdiv class\x3d'searchContainer'\x3e\x3cspan class\x3d'searchtitlelabel'\x3e{{strings.courseSearch.title}}\x3c/span\x3e\x3cinput id\x3d'courseSearchInput'class\x3d'searchInput' type\x3d'text' tabindex\x3d'0' placeholder\x3d'{{strings.courseSearch.inputPlaceholder}}'\x3e\x3c/input\x3e\x3ci class\x3d'fa fa-search'/\x3e\x3c/div\x3e\x3cul id\x3d'results' class\x3d'resultList clearfix'\x3e\x3cli class\x3d'searchItem' data-filter\x3d'top' tabindex\x3d'0' title\x3d'{{strings.courseSearch.filterTop}}'\x3e\x3cspan class\x3d'icon top'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTop}}\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'page'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterTranscripts}}'\x3e\x3cspan class\x3d'icon page'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTranscripts}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'image' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterImages}}'\x3e\x3cspan class\x3d'icon image'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterImages}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'video' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterVideos}}'\x3e\x3cspan class\x3d'icon video'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterVideos}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'audio' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterAudio}}'\x3e\x3cspan class\x3d'icon audio'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterAudio}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'richMedia' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterRichMedia}}'\x3e\x3cspan class\x3d'icon richMedia'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterRichMedia}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'division'\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'text' data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterText}}'\x3e\x3cspan class\x3d'icon text'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterText}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'reference'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterReferences}}'\x3e\x3cspan class\x3d'icon reference'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterReferences}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'glossary'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterGlossaries}}'\x3e\x3cspan class\x3d'icon glossary'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterGlossaries}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'sequential' title\x3d''\x3e\x3cspan class\x3d'icon alert'\x3e\x3c/span\x3e\x3ch3\x3e{{strings.courseSearch.sequentialWarningTitle}}\x3c/h3\x3e\x3cp\x3e{{strings.courseSearch.sequentialWarningText}}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'panel details list'\x3e\x3cdiv class\x3d'switchContainer'\x3e\x3cdiv class\x3d'listPanel'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesPanel'\x3e\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e{{strings.courseSearch.back}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d'overflowContainer'\x3e\x3cdiv class\x3d'propertiesContent'\x3e\x3c/div\x3e\x3cdiv class\x3d'linksContainer'\x3e\x3ch3 class\x3d'linksTitle'\x3e\x3c/h3\x3e\x3cdiv class\x3d'links'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossaryPopup='\x3cdiv id\x3d"glossaryPopup" class\x3d"popupWindow loading"\x3e\x3cdiv class\x3d"glossaryPopupHeader"\x3e\x3cp id\x3d"glossaryPopupTerm" tabindex\x3d"-1" \x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"sectionBreak"\x3e\x3c/div\x3e\x3cdiv class\x3d"glossaryPopupBody"\x3e\x3cdiv id\x3d"glossaryPopupDefinitionContainer"\x3e\x3cdiv id\x3d"glossaryPopupDefinition" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryPopupSource" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryHoverDefinition" class\x3d"popupWindow"\x3e\x3c/div\x3e';
DKI.templates.glossaryBrowser="\x3cdiv id\x3d'termList' class\x3d'panel browserList'\x3e{{#unless mobile }}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput id\x3d'searchBox' class\x3d'searchInput' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}\x3cul id\x3d'termUl' class\x3d'terms'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'termDetails' class\x3d'panel details'\x3e\x3cdiv class\x3d'detailsContent'\x3e\x3cdiv\x3e\x3cdiv id\x3d'term' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"sectionBreak\"\x3e\x3c/div\x3e\x3cdiv id\x3d'definition' tabindex\x3d'0'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'attribution' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossary={list:'\x3cul class\x3d"list-group dki-glossary-list {{config.className}}"\x3e{{#each terms}}{{\x3e DKI.templates.glossary.list_term}}{{/each}}\x3c/ul\x3e',list_term:'\x3cli class\x3d"list-group-item dki-glossary-list-term" data-id\x3d"{{glossaryid}}" tabindex\x3d"1"\x3e{{term}}\x3c/li\x3e',term_content:'\x3cdiv class\x3d"dki-glossary-term-content-container"\x3e\x3cdiv class\x3d"dki-glossary-term-content-header-container tooltip-header"\x3e\x3ch4 class\x3d"dki-glossary-term-content-header"\x3e\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3cspan id\x3d"dki-glossary-term-title" tabindex\x3d"1"\x3e{{term.term}}\x3c/span\x3e\x3c/h4\x3e\x3c/div\x3e\x3cdiv id\x3d"glosscon" class\x3d"dki-glossary-term-content"\x3e\x3cdiv class\x3d"dki-glossary-term-content-definition" tabindex\x3d"1" aria-label\x3d"{{term.definition}}"\x3e{{{term.definition}}}\x3c/div\x3e\x3csmall class\x3d"dki-glossary-term-content-source" tabindex\x3d"1" aria-label\x3d"{{{glossaryAttribution term}}}"\x3e{{{glossaryAttribution term}}}\x3c/small\x3e\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
term_tooltip:'\x3cdiv role\x3d"dialog" aria-live\x3d"off" aria-labelledby\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" " class\x3d"dki-glossary-term-tooltip"\x3e\x3cdiv id\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" "\x3e\x3c/div\x3e{{\x3e DKI.templates.glossary.term_content term\x3dterm strings\x3dstrings}}\x3c/div\x3e'};Handlebars.registerPartial("DKI.templates.glossary.list_term",DKI.templates.glossary.list_term);Handlebars.registerPartial("DKI.templates.glossary.term_content",DKI.templates.glossary.term_content);
DKI.templates.citationPopup="\x3cdiv id\x3d'referencePopup' class\x3d'popupWindow loading'\x3e\x3cdiv class\x3d'referencePopupHeader'\x3e\x3cdiv id\x3d'referencePopupClose' class\x3d'referenceCloseButton' tabindex\x3d'1' title\x3d'{{strings.runtime.buttonLabelClose}}'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'referencePopupBody'\x3e\x3cdiv id\x3d'referencePopupText' class\x3d'popupContent' tabindex\x3d'1'\x3e\x3cdiv id\x3d'referenceTextContainer'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'linkContainer'\x3e\x3cspan id\x3d'viewBibliographyLink' title \x3d '{{strings.references.viewBibliography}}'tabindex\x3d'1'\x3e\x3c/span\x3e\x3cdiv class\x3d'nav'\x3e\x3cspan class\x3d'previous citationNav' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'counter' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'next citationNav' tabindex\x3d'0'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.resource={list:'\x3cul class\x3d"list-group dki-resource-list {{config.className}}"\x3e{{#each categories}}{{\x3e DKI.templates.resource.asset_category}}{{/each}}{{\x3e DKI.templates.resource.links_category}}\x3c/ul\x3e',asset_category:'\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}"\x3e\x3ch5 class\x3d"list-group-item-heading" tabindex\x3d"1"\x3e{{title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each resources}}{{\x3e DKI.templates.resource.asset_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e',
asset_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item fancy-box-item" data-id\x3d"{{id}}" data-fancybox-href\x3d"{{fancybox.href}}" data-fancybox-group\x3d"{{fancybox.group}}" data-fancybox-title\x3d"{{fancybox.title}}" data-fancybox-type\x3d"{{fancybox.type}}" \x3e\x3cp class\x3d"list-group-item-text"\x3e{{#if allowResourceDownload}}\x3ca download\x3d"{{title}}.{{extension}}" href\x3d"{{filePath}}" target\x3d"_blank" class\x3d"ignore_enter dki-resource-asset-list-item-download" tabindex\x3d"1" aria-label\x3d"{{title}}" data-id\x3d"{{id}}"\x3e\x3ci class\x3d"fa fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{title}}\x3c/p\x3e{{{fancybox.inline_content}}}\x3c/li\x3e',
links_category:'{{#if links}}\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{links.title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each links.resources}}{{\x3e DKI.templates.resource.link_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e{{/if}}',link_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ca class\x3d"link" href\x3d"{{parameters.url}}" target\x3d"_blank"\x3e{{parameters.title}}\x3c/a\x3e\x3cp class\x3d"list-group-item-text"\x3e{{parameters.description}}\x3c/p\x3e\x3c/li\x3e',
video_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerVideo videoAncestorId\x3dancestor_id videoPlayerId\x3dplayer_id}}\x3c/div\x3e',audio_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerAudio audioAncestorId\x3dancestor_id audioPlayerId\x3dplayer_id}}\x3c/div\x3e'};Handlebars.registerPartial("DKI.templates.resource.asset_category",DKI.templates.resource.asset_category);
Handlebars.registerPartial("DKI.templates.resource.asset_list_item",DKI.templates.resource.asset_list_item);Handlebars.registerPartial("DKI.templates.resource.links_category",DKI.templates.resource.links_category);Handlebars.registerPartial("DKI.templates.resource.link_list_item",DKI.templates.resource.link_list_item);DKI.templates.resourceBrowser="\x3cdiv id\x3d'resourceList' class\x3d'panel browserList'\x3e{{#unless mobile}}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput id\x3d'resourceSearchBox'class\x3d'searchInput' type\x3d'text' tabindex\x3d'1'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}\x3cul id\x3d'list' class\x3d'resultList'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceView' class\x3d'panel'\x3e\x3cdiv class\x3d'detailsContent border'\x3e\x3cdiv id\x3d'resourceDetails'\x3e\x3cdiv id\x3d'resourceContent' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv class\x3d'assetProperties'\x3e\x3cdiv id\x3d'resourceTitle' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceDescription' tabindex\x3d'1'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.feedbackPanel={tooltipContent:'\x3cdiv class\x3d"feedback-wrapper"\x3e{{\x3e note.submit}}\x3cdiv class\x3d"feedback-notes"\x3e{{#each o.notes}}{{\x3e note}}{{/each}}\x3c/div\x3e\x3c/div\x3e',toolbar:'\x3cdiv id\x3d"reviewerTabContainer"\x3e\x3cspan class\x3d"reviewerButtonLabel reviewerTabDraggableIcon"\x3e\x3ci class\x3d"fa fa-arrows"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"reviewerButtonLabel" tabindex\x3d"0"\x3eReview Tools\x3c/span\x3e\x3cdiv class\x3d"reviewerTabButton feedback-tooltip-icon" id\x3d"feedbackTab" title\x3d"View page feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"pinFeedback" title\x3d"Select element for feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"answerKey" title\x3d"See the test answer key" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"endReviewTab" title\x3d"End the review" tabindex\x3d"0"\x3e\x3c/div\x3e\x3c/div\x3e',
answerKey:'\x3cdiv class\x3d"feedback-answer-key-wrapper"\x3e\x3cdiv id\x3d"closeAnswerKey" title\x3d"Close" tabindex\x3d"0"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e{{#if assessment}}\x3cdiv class\x3d"status-container assessment"\x3e\x3cdiv class\x3d"status-header"\x3eAssessment Status\x3c/div\x3e\x3cdiv class\x3d"status-details"\x3e\x3cdiv class\x3d"status-detail-wrapper totalQuestions"\x3e\x3cdiv class\x3d"status-detail-label"\x3eTotal Questions:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{assessment.totalQuestions}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper totalDelivered"\x3e\x3cdiv class\x3d"status-detail-label"\x3e# Delivered:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{totalDelivered assessment}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper totalWeight"\x3e\x3cdiv class\x3d"status-detail-label"\x3eTotal Weight:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{assessment.totalWeight}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper currentScore"\x3e\x3cdiv class\x3d"status-detail-label"\x3eCurrent Score:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{assessmentScore assessment}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper passMark"\x3e\x3cdiv class\x3d"status-detail-label"\x3ePass Mark:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{assessmentPassmark assessment}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"status-container question type-{{question.type}}"\x3e\x3cdiv class\x3d"status-header"\x3eCurrent Question\x3c/div\x3e\x3cdiv class\x3d"status-details"\x3e\x3cdiv class\x3d"status-detail-wrapper title"\x3e\x3cdiv class\x3d"status-detail-label"\x3eTitle:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{question.title}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper type_label"\x3e\x3cdiv class\x3d"status-detail-label"\x3eType:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{question.type_label}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper weight"\x3e\x3cdiv class\x3d"status-detail-label"\x3eWeight:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{question.weight}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper attempts"\x3e\x3cdiv class\x3d"status-detail-label"\x3e# of Attempts:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{question.attempts}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper max_selections"\x3e\x3cdiv class\x3d"status-detail-label"\x3eMax Selections:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{question.max_selections}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper partialScoring"\x3e\x3cdiv class\x3d"status-detail-label"\x3ePartial Scoring:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{{questionPartialScoring question.parameters.scoringType}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-container question-choices"\x3e\x3cdiv class\x3d"status-header"\x3eChoices\x3c/div\x3e\x3cdiv class\x3d"status-details"\x3e{{{questionChoices question}}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-container question-feedback"\x3e\x3cdiv class\x3d"status-header"\x3eFeedback\x3c/div\x3e\x3cdiv class\x3d"status-details"\x3e\x3cdiv class\x3d"status-detail-wrapper correct-feedback"\x3e\x3cdiv class\x3d"status-detail-label"\x3eCorrect:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{{questionFeedback question.parameters.feedback.correct}}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper incorrect-feedback"\x3e\x3cdiv class\x3d"status-detail-label"\x3eIncorrect:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{{questionFeedback question.parameters.feedback.incorrect}}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper partial-feedback"\x3e\x3cdiv class\x3d"status-detail-label"\x3ePartially Correct:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{{questionFeedback question.parameters.feedback.partial}}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper incorrectAttempt-feedback"\x3e\x3cdiv class\x3d"status-detail-label"\x3eIncorrect Attempt:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{{questionFeedback question.parameters.feedback.incorrectAttempt}}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-detail-wrapper partialAttempt-feedback"\x3e\x3cdiv class\x3d"status-detail-label"\x3ePartially Correct Attempt:\x3c/div\x3e\x3cdiv class\x3d"status-detail-value"\x3e{{{questionFeedback question.parameters.feedback.partialAttempt}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.popupPanel={wrap:'\x3cdiv class\x3d"fancybox-wrap"\x3e\x3cdiv class\x3d"fancybox-skin"\x3e\x3cdiv class\x3d"fancybox-outer"\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',closeBtn:'\x3ca title\x3d"'+DKI.strings.runtime.buttonLabelClose+'" class\x3d"fancybox-item fancybox-close" href\x3d"javascript:;"\x3e\x3c/a\x3e'};DKI.templates.feedbackPopup=Handlebars.compile('\x3cdiv class\x3d"feedbackWrapper feedbackContainer"\x3e\x3cdiv class\x3d"feedbackContent"\x3e\x3cdiv class\x3d"feedbackHeader"\x3e\x3cspan class\x3d"feedbackClose" tabindex\x3d"0"\x3e\x3c/span\x3e\x3c/div\x3e{{{content}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.browserWarning='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-label\x3d"{{{strings.browserWarning.close}}}"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3ch4 class\x3d"modal-title"\x3e{{{strings.browserWarning.title}}}\x3c/h4\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv id\x3d"browserWarning_content"\x3e\x3cp\x3e{{{strings.browserWarning.message}}}\x3c/p\x3e\x3cdiv id\x3d"browserWarning_downloads"\x3e\x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank" id\x3d"browserWarning_chromeDownload" title\x3d"{{{strings.browserWarning.downloadChrome}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadChrome}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank" id\x3d"browserWarning_firefoxDownload" title\x3d"{{{strings.browserWarning.downloadFirefox}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadFirefox}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.apple.com/safari/download/" target\x3d"_blank" id\x3d"browserWarning_safariDownload" title\x3d"{{{strings.browserWarning.downloadSafari}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadSafari}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://windows.microsoft.com/en-US/internet-explorer/downloads/ie" target\x3d"_blank" id\x3d"browserWarning_ieDownload" title\x3d"{{{strings.browserWarning.downloadIe}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadIe}}}\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" tabindex\x3d\'1\' data-dismiss\x3d"modal" class\x3d"btn btn-default"\x3e{{{strings.runtime.buttonLabelClose}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.alertPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" tabindex\x3d"1" role\x3d\'dialog\' {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup modal {{style}} {{effect}} {{popupType.mod}} {{popupType.type}}"\x3e\x3cdiv class\x3d"vertAlign"\x3e\x3cdiv class\x3d"modal-dialog" role\x3d"document"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e{{#if exit}}\x3cbutton type\x3d"button" class\x3d"close" tabindex\x3d"1" aria-label\x3d"close"\x3e\x26times;\x3c/button\x3e{{/if}}\x3ch1 id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}}\x3e{{{title}}}\x3c/h1\x3e\x3c/div\x3e\x3cdiv{{#if tabContent}} tabindex\x3d\'1\'{{/if}} class\x3d"modal-body"id\x3d\'content_{{id}}\'\x3e{{{html}}}\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e{{#if showInput}}\x3cdiv class\x3d\'doNotShow\'\x3e\x3cinput id\x3d\'popupDoNotShow\' type\x3d\'checkbox\' name\x3d\'popupDoNotShow\'/\x3e\x3clabel for\x3d\'popupDoNotShow\'\x3eDo not show this again\x3c/label\x3e\x3c/div\x3e{{/if}}\x3cbutton type\x3d"button" tabindex\x3d\'1\' aria-label\x3d"{{{strings.close}}}" class\x3d"btn {{#if popupType.btnCls}}{{popupType.btnCls}} {{else}}btn-default {{/if}}dismiss"\x3e{{{strings.close}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
DKI.templates.notificationPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" {{#if role}}role\x3d"{{role}}"{{/if}} {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup alert {{style}} alert-dismissable {{effect}} {{popupType.mod}} {{popupType.type}}"  data-id\x3d{{id}}\x3e\x3ch4\x3e\x3cdiv class\x3d"titleCont"\x3e\x3cbutton type\x3d"button"  tabindex\x3d\'1\' class\x3d"close dismiss" aria-label\x3d"close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3cspan id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}} \x3e{{{title}}}\x3c/span\x3e\x3c/div\x3e\x3c/h4\x3e\x3cdiv id\x3d\'content_{{id}}\' class\x3d"alert-content" {{#if tabContent}} tabindex\x3d\'1\'{{/if}}\x3e{{{html}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.certificate={body:'\x3cdiv class\x3d"certificate"\x3e\x3cdiv class\x3d"content"\x3e\x3ch1\x3e{{{strings.certificate.title}}}\x3c/h1\x3e\x3cdiv\x3e{{{strings.certificate.body}}}\x3c/div\x3e\x3cdiv\x3e\x3cspan id\x3d"certificate_date"\x3e\x3c/span\x3e\x3c/div\x3e\x3ca id\x3d"certificate_print" tabindex\x3d"0" title\x3d"{{{strings.certificate.printTooltip}}}"\x3e\x3cspan\x3e{{{strings.certificate.print}}}\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"certificate_logo"\x3e\x3c/div\x3e\x3cdiv id\x3d"certificate_signature"\x3e{{{strings.certificate.sign}}}\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.prompt='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d"DKI_prompt_input"\x3e{{{strings.message}}}\x3c/label\x3e\x3cinput id\x3d"DKI_prompt_input" class\x3d"form-control"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" class\x3d"prompt_ok btn btn-primary"\x3e{{{strings.ok}}}\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-default"\x3e{{{strings.cancel}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
Handlebars.registerPartial("note.body",'\x3cdiv class\x3d"feedback-note-body-wrapper" data-id\x3d"{{id}}"\x3e\x3cdiv class\x3d"feedback-note-avatar" style\x3d"background-image: url({{enteredBy.avatarURL}});"\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-details"\x3e\x3cdiv class\x3d"feedback-note-header"\x3e\x3cspan class\x3d"feedback-name"\x3e{{enteredBy.first}} {{enteredBy.last}}\x3c/span\x3e\x3cspan class\x3d"feedback-date"\x3e{{simpleDate dateFiled}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-body"\x3e{{{description}}}\x3c/div\x3e{{\x3e note.edit}}\x3ca class\x3d"feedback-note-action upvote"\x3e+1\x3c/a\x3e\x3cdiv class\x3d"feedback-note-rating"\x3e{{{rating}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.submit",'\x3cdiv class\x3d"feedback-submit-wrapper"\x3e\x3cdiv class\x3d"feedback-closeFeedbackTab" title\x3d"Close" tabindex\x3d"0"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3e{{strings.buttonLabelSubmit}}\x3c/button\x3e\x3c/div\x3e');Handlebars.registerPartial("note.reply",'\x3cdiv class\x3d"feedback-reply-wrapper" data-parent_note_id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eReply\x3c/button\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.edit",'\x3cdiv class\x3d"feedback-edit-wrapper" data-id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e{{description}}\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eDone\x3c/button\x3e\x3c/div\x3e\x3ca class\x3d"feedback-note-action edit"\x3eedit\x3c/a\x3e');Handlebars.registerPartial("note",'\x3cdiv class\x3d"feedback-note-wrapper" data-id\x3d"{{id}}" data-enteredby\x3d"{{enteredBy.id}}"\x3e{{\x3e note.body}}\x3cdiv class\x3d"feedback-note-comments-wrapper"\x3e{{#each notes}}{{\x3e note.body}}{{/each}}{{\x3e note.reply}}\x3c/div\x3e\x3cdiv class\x3d"feedback-note-actions"\x3e\x3ca class\x3d"feedback-note-action reply"\x3ereply\x3c/a\x3e\x3ca class\x3d"feedback-note-action delete"\x3edelete\x3c/a\x3e\x3ca class\x3d"feedback-note-action resolve"\x3eresolve\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerVideo",'\x3cdiv id\x3d\'{{videoAncestorId}}\' class\x3d"jp-video"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id \x3d\'{{videoPlayerId}}\' class\x3d"vidPlayer" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play"\x3e\x3ca class\x3d"jp-video-play-icon"\x3eplay\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui"\x3e\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e/\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-full-screen" role\x3d"button"\x3efull\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudio",'\x3cdiv id \x3d \'{{audioAncestorId}}\' class\x3d\'audioContainer mediaContainer jp-audio\'\x3e\x3cdiv id \x3d\'{{audioPlayerId}}\' class\x3d\'audioPlayer jp-jplayer\'\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" tabindex\x3d"0" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute"  style\x3d"display:none" tabindex\x3d"0" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" tabindex\x3d"0" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time jp-fs" tabindex\x3d"0"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eNo workee\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudioSimple",'\x3cdiv id\x3d"{{audioSimpleAncestorId}}" class\x3d"jp-basic jPlayerAudioSimple"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d\'{{audioSimplePlayerId}}\' class\x3d"jp-audio"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui jp-basic jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e{{#unless skipControls}}\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e{{/unless}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerHelper("contentApi",function(a){return contentApi&&contentApi[a]?"function"===typeof contentApi[a]?contentApi[a]():contentApi[a]:""});Handlebars.registerHelper("exists",function(a,c){a=a.split(".");for(var b=!0,k=0;k<a.length;k++)if("undefined"===typeof this[a[k]]){b=!1;break}return b?c.fn(this):c.inverse(this)});Handlebars.registerHelper("simpleDate",function(a,c){a=new Date(a);return a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()});
Handlebars.registerHelper("assessmentScore",function(a,c){return a.getScore()});Handlebars.registerHelper("assessmentPassmark",function(a,c){c=contentApi.getPassMark();a.module.passmark&&(c=a.module.passmark);return c});Handlebars.registerHelper("totalDelivered",function(a,c){return dataStorage.loadTest(a.module,!1).questions.length});Handlebars.registerHelper("questionPartialScoring",function(a,c){c="On";if(0==a&&!playerBehaviour.partialScoring||2==a)c="Off";return c});
Handlebars.registerHelper("questionChoices",function(a,c){c="";if(1==a.type)c=c+'\x3cdiv class\x3d"status-detail-wrapper answer"\x3e\x3cdiv class\x3d"status-detail-label"\x3eAnswer:\x3c/div\x3e'+('\x3cdiv class\x3d"status-detail-value"\x3e'+a.options[0].parameters.correct+"\x3c/div\x3e"),c+="\x3c/div\x3e";else if(2==a.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect?\x3c/th\x3e\x3cth\x3eRandom?\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";for(var b=0;b<a.options.length;b++){var k=
a.options[b],l=$("#"+k.element_id+"_wrapper");c+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+k.element_id+'"\x3e';c+="\x3ctd\x3e"+l.find(".optionNumber").text()+"\x3c/td\x3e";c+="\x3ctd\x3e"+k.parameters.correct+"\x3c/td\x3e";c+="\x3ctd\x3e"+k.parameters.randomized+"\x3c/td\x3e";c+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+k.parameters.feedback+'"\x3e'+k.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e";c+="\x3c/tr\x3e"}c+="\x3c/table\x3e"}else if(4==a.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Values\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(b=0;b<a.options.length;b++)k=a.options[b],l=$("#"+k.element_id+"_wrapper"),c+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+k.element_id+'"\x3e',c+="\x3ctd\x3e"+l.find(".optionNumber").text()+"\x3c/td\x3e",c+="\x3ctd\x3e"+k.parameters.correctValues+"\x3c/td\x3e",c+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+k.parameters.feedback+'"\x3e'+k.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",c+="\x3c/tr\x3e";c+="\x3c/table\x3e"}else if(5==a.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Value\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(b=0;b<a.options.length;b++)k=a.options[b],l=$("#"+k.element_id+"_wrapper"),c+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+k.element_id+'"\x3e',c+="\x3ctd\x3e"+l.find(".optionNumber").text()+"\x3c/td\x3e",c+="\x3ctd\x3e"+k.parameters.correctValue+"\x3c/td\x3e",c+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+k.parameters.feedback+'"\x3e'+k.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",c+="\x3c/tr\x3e";c+="\x3c/table\x3e"}else if(6==a.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eDraggable\x3c/th\x3e\x3cth\x3eCorrect Target\x3c/th\x3e\x3c/tr\x3e";
for(b=0;b<a.options.length;b++){var k=a.options[b],l=$("#"+k.element_id+"_wrapper"),p=l.data("title");""==p&&(p=l.data("meta"));c+="\x3ctr\x3e";c+='\x3ctd class\x3d"question-option-element-link" data-id\x3d"'+k.element_id+'"\x3e'+p+"\x3c/td\x3e";c+="\x3ctd\x3e";for(l=0;l<k.parameters.correctTargets.length;l++){var p=$(".dki-authoring-element[data-dragdropid\x3d'"+k.parameters.correctTargets[l].toLowerCase()+"'], .dki-authoring-element[data-dragdropid\x3d'"+k.parameters.correctTargets[l].toUpperCase()+
"']"),m=p.data("title");""==m&&(m=p.data("meta"));c+='\x3cdiv class\x3d"question-option-element-link" data-id\x3d"'+p.data("id")+'"\x3e'+m+"\x3cdiv/\x3e"}c+="\x3c/td\x3e";c+="\x3c/tr\x3e"}c+="\x3c/table\x3e"}return c});Handlebars.registerHelper("questionFeedback",function(a,c){c=a.text;"true"==a.useDefault.toString()?c="\x3ci\x3eUsing course default\x3c/i\x3e":""==a.text&&(c="\x3ci\x3eNone supplied by author\x3c/i\x3e");return c});
Handlebars.registerHelper("math",function(a,c,b,k){a=parseFloat(a);b=parseFloat(b);return{"+":a+b,"-":a-b,"*":a*b,"/":a/b,"%":a%b}[c]});Handlebars.registerHelper("reverse",function(a){a.reverse()});Handlebars.registerHelper("glossaryAttribution",function(a){return a.attribution?DKI.strings.doc["Source label"]+a.attribution:a.citation_id?DKI.strings.doc["Source label"]+DKI.reference.getFullCitationText(a.citation_id):""});
DKI.RenderService=function(a){var c=this;this.state=$.extend(!0,{renderEnvironment:{authoring:!1,player:!1,full:!1,single:!1,export:!1,document:!1,template:!1,responsive:!1},typeConfig:{},baseUrl:DKI.bu?DKI.bu():"",utility:DKI.utility?DKI.utility:{},design:{},strings:null},a);this.registerPartials();this.registerHelpers();this.defaultArgs={renderEnv:this.state.renderEnvironment,strings:this.state.strings,typeConfig:this.state.typeConfig};var b=function(a){return{outline:a}},k={format:function(a){return{outline:a,
audioAncestorId:"content_"+a.id+"_container",audioPlayerId:"content_"+a.id+"_player"}},template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#element_ifAudioForEdit renderEnv}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"dki-element-content{{#element_multimedia_hasPlayerControl this \'playerskin\'}} dki-audio-basic-placeholder{{else}} dki-media-placeholder{{/element_multimedia_hasPlayerControl}}"id\x3d"content_{{outline.id}}"title\x3d"{{#forPreview renderEnv}}Audio Asset{{/forPreview}}"data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}} data-extension\x3d"{{outline.asset_extension}}"  data-narration\x3d"{{outline.narration}}"  data-duration\x3d"{{outline.asset_duration}}" {{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"\x3e{{\x3e jPlayerAudioSimple audioSimpleAncestorId\x3daudioAncestorId audioSimplePlayerId\x3daudioPlayerId}}{{else}}\x3e{{\x3e jPlayerAudio audioAncestorId\x3daudioAncestorId audioPlayerId\x3daudioPlayerId}}{{/element_multimedia_hasPlayerControl}}\x3c/div\x3e{{else}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" style\x3d"width:{{outline.width}}px;" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-extension\x3d"{{outline.asset_extension}}" data-duration\x3d"{{outline.asset_duration}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-id\x3d"{{outline.id}}" data-narration\x3d"{{outline.narration}}" data-elementType\x3d"audio"{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autohide\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}\x3e\x3ca class\x3d"dki-media-link" href\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e{{/element_ifAudioForEdit}}{{/if}}')},
l={format:b,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ca tabindex\x3d"-1" style\x3d"height:100%;width:100%;{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssStyle}}"id\x3d"content_{{outline.id}}"class\x3d"dki-authoring-button {{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ctable width\x3d"100%" height\x3d"100%" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}"\x3e\x3ctbody style\x3d"vertical-align:middle;"\x3e\x3ctr\x3e\x3ctd\x3e{{{outline.meta}}}\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/a\x3e')},
p={format:b,template:Handlebars.compile('\x3ca href\x3d"javascript:;" tabindex\x3d"-1" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text  {{courseStyles outline}}"\x3e{{{outline.meta}}}\x3c/div\x3e\x3ci class\x3d"fa {{outline.parameters.config.righticon.class_name}} right"\x3e\x3c/i\x3e\x3c/a\x3e')},
m={format:function(a){var b=DKI.clone(a.parameters.config);a.elements.sort(function(a,b){return a.elementno-b.elementno});b.content=a.elements;b.style+=b.showBorders?"":" callout-no-borders";return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"clearfix bs-callout {{style}} {{BgClassName outline.parameters.background}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#if icon.enabled}}\x3ci class\x3d"fa {{icon.class_name}}"\x3e\x3c/i\x3e{{/if}}{{#each content}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},
q=$.proxy(function(a){var b="string"==typeof a.asset_parameters?JSON.parse(a.asset_parameters).config:a.asset_parameters.config,h=this.getAssetUrl({id:a.upload_id,folderId:a.asset_uploadfolderid,extension:""})+"/",k="?bust\x3d"+Date.now(),n=function(a){a.match(/\./)||(a+=".png");return h+a+k};DKI.apply(b,{sectionCount:0,totalDuration:0});DKI.applyIf(b,{panAndZoom:!0,showNarrationText:!0,showJobAidDownload:!0,jobAidFile:""});b.jobAidFile&&(b.jobAidFile=n(b.jobAidFile));var l="undefined"!==typeof b.stepDuration&&
0<=b.stepDuration,r=function(a,b){return 0<="MOUSE_CLICKED BUTTON_PRESSED CHECK_BOX_SELECTED FINISH_MOUSE_DRAGGED MENU_BUTTON_PRESSED RADIO_BUTTON_SELECTED START_MOUSE_DRAGGED".split(" ").indexOf(a.eventType)?a[b]:0};$.each(b.sections,function(){b.sectionCount+=0<this.steps.length?1:0;this.show=0<this.steps.length;this.sectionDuration=0;var h=this;$.each(this.steps,function(){this.imageURL=n(this.image);this.hotSpotImageURL=n(this.hotSpotImage);this.fullImageURL=n(this.fullImage);"guide"==a.parameters.config.type&&
this.guideMeImage&&(this.fullImageURL=n(this.guideMeImage));$.each(this.markers,function(){this.imageURL=n(this.imageName)});this.clickCount="undefined"!==typeof this.clickCount?this.clickCount:r(this,"clickCount");this.mouseButton="undefined"!==typeof this.mouseButton?this.mouseButton:r(this,"mouseButton");this.startTime=b.totalDuration;this.duration=!l||this.audioFile?this.durationForStepInMillis:1E3*b.stepDuration;this.timeStr=("0"+Math.floor(this.startTime/1E3/60)).slice(-2)+":"+("0"+Math.round(this.startTime/
1E3)%60).slice(-2);b.totalDuration+=this.duration;h.sectionDuration+=this.duration})});b.moreThanOneSectionWithSteps=1<b.sectionCount;var t={};DKI.strings&&(t={next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,fullscreen:DKI.strings.runtime.media_instructions_fullscreen,play:DKI.strings.runtime.media_instructions_play,hideSteps:DKI.strings.index.menuButtonLabel,toggleZoom:"Toggle Zoom",mute:DKI.strings.index.audioButtonLabel});return{project:b,elConfig:a.parameters.config,
embed:!0,viewContainerCls:a.parameters.config.showSteps?" col-md-9 col-sm-8":" col-xs-12",imgPath:c.state.renderEnvironment.export?"./css":c.state.baseUrl+"player/css/capture",controlLabels:t}},this),h;Handlebars.registerPartial("capture_showMe",'\x3cdiv id\x3d"capture_{{outline.id}}" role\x3d"application" class\x3d"capture capture-project-container showMe" data-variable-name\x3d"{{elConfig.variable_name}}" data-duration\x3d"{{project.totalDuration}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}"data-section-size\x3d"{{this.steps.length}}"data-section-duration\x3d"{{this.sectionDuration}}"data-section-introduction\x3d"{{this.introduction}}"data-section-summary\x3d"{{this.summary}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"showMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light"\x3e\x3cdiv id\x3d"introductionOverlay" class\x3d"introduction-overlay overlay hide-introduction"\x3e\x3cdiv id\x3d"introductionContainer" class\x3d"introduction-container text-center panel"\x3e\x3cdiv id\x3d"introductionTextContainer" class\x3d"introduction-text-container"\x3e\x3cspan class\x3d"introduction-text" id\x3d"introductionText" \x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\x3cbutton id\x3d"introductionContainerPlayButton" class\x3d"btn btn-primary"\x3eContinue\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv\x3e\x3cbutton id\x3d"introductionContainerPlayButton" class\x3d"btn btn-primary"\x3eContinue\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"video-overlay"\x3e\x3cbutton class\x3d"btn btn-link play-head-button"aria-hidden\x3d"true"\x3e\x3ci class\x3d"fa fa-play-circle play-head-child" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"1000000"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" tabindex\x3d"-1"data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-click-count\x3d"{{clickCount}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"\x3e\x3cimg class\x3d"capture-image" border\x3d"1" class\x3d"{{#if ../embed}}capture-image{{/if}}" border\x3d"1" src\x3d"{{element_capture_showMeImage this ../../project}}" id\x3d"image"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv id\x3d"showMeDragOverlay" class\x3d"drag-overlay bg-primary" tabindex\x3d"-1"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e \x3cdiv class\x3d"img overlay" id\x3d"mouse" tabindex\x3d"-1"\x3e\x3cimg class\x3d"mouse-pointer" src\x3d"{{imgPath}}/images/pointer-25.png"/\x3e\x3cimg style\x3d"display:none" class\x3d"mouse-pointer-click" src\x3d"{{imgPath}}/images/pointer-25-click.png"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-7"\x3e\x3cbutton id\x3d"playButton" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.play}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-cog fa-spin"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"prevStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.previous}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-backward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"nextStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.next}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"mute" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.mute}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-volume-up"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"player-time text-muted" tabindex\x3d"1" \x3e00:00 / 00:00\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-5" style\x3d"direction:rtl;"\x3e\x3cbutton id\x3d"fullScreen" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-arrows-alt" aria-label\x3d"{{controlLabels.fullscreen}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"hideSteps" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-list-ol" aria-label\x3d"{{controlLabels.hideSteps}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"toggleZoom" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.toggleZoom}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw{{#if project.panAndZoom}} fa-search-minus{{else}} fa-search-plus{{/if}}"\x3e\x3c/i\x3e\x3c/button\x3e{{#if project.showJobAidDownload}}{{#if project.jobAidFile}}\x3ca class\x3d"btn btn-primary btn-link pull-right" href\x3d"{{project.jobAidFile}}" type\x3d"button" title\x3d"Download Job Aid" download\x3d"{{element_capture_getJobAidName project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"stepsSideContainer" class\x3d"container-fluid col col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default"\x3e\x3cul class\x3d"list-group" aria-label\x3d"Step List"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv\x3e{{#if this.show}}\x3cspan\x3e{{this.sectionName}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cdiv\x3e\x3ca class\x3d"list-group-item step-item" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"white-space:pre-wrap" tabindex\x3d"1" aria-label\x3d"{{this.instructionalText}}"\x3e\x3cspan class\x3d"label label-default" data-time-start\x3d"{{startTime}}" data-duration\x3d"{{duration}}"\x3e{{timeStr}}\x3c/span\x3e\x26nbsp;\x26nbsp; {{this.instructionalText}}{{#if narrationText}}{{#if ../../../project.showNarrationText}}\x3cspan class\x3d"mt-10 narration-border-top narration-text{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}"\x3e\x3cspan\x3e{{narrationText}}\x3c/span\x3e\x3c/span\x3e{{/if}}{{/if}}{{#element_capture_show_markerList this ../../project}}\x3cul class\x3d\'markerList mt-10 narration-border-top{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}\'\x3e{{#each markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" tabindex\x3d"1"\x3e{{text}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/element_capture_show_markerList}}\x3c/a\x3e\x3c/div\x3e{{/each}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer" class\x3d"jp-jplayer"\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer_inspector"\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_tryMe",'\x3cdiv id\x3d"capture_{{outline.id}}" class\x3d"capture capture-project-container tryMe" data-variable-name\x3d"{{elConfig.variable_name}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}" data-section-size\x3d"{{this.steps.length}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"tryMeSideContainer" class\x3d"container-fluid col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default custom-scrollbar"\x3e\x3cul class\x3d"list-group"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv\x3e{{#if this.show}}\x3cspan\x3e{{this.sectionName}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cli class\x3d"row no-padding list-group-item disabled" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"cursor:default"\x3e\x3cdiv class\x3d"col-step"\x3e\x3cspan class\x3d"label label-default label-circle step-number centered-element"\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3cspan class\x3d"label label-default label-circle step-checkmark centered-element" style\x3d"display: none;"\x3e\x3ci class\x3d"fa fa-check centered-element"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding" style\x3d"white-space:pre-wrap;"\x3e{{this.instructionalText}}\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding continue-container hidden"\x3e\x3cdiv class\x3d"continue"\x3e\x3cdiv class\x3d"info-continue"\x3e\x3cp class\x3d"m-0"\x3eClick the continue button:\x3c/p\x3e\x3cbutton class\x3d"btn btn-step-continue" type\x3d"button"\x3e\x3ci class\x3d"fa fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"arrow-hint"\x3e\x3ci class\x3d"fa fa-arrow-left" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel panel-default cover-parent try-me-done-overlay"\x3e\x3c/div\x3e\x3c/li\x3e{{/each}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light"\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"false"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"data-click-count\x3d"{{clickCount}}"data-mouse-button\x3d"{{mouseButton}}"data-hint-text\x3d"{{hintText}}"\x3e\x3cimg class\x3d"capture-image" border\x3d"1" src\x3d"{{this.imageURL}}" id\x3d"image"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv id\x3d"targetHotspot"\x3e\x3cinput type\x3d"text" id\x3d"typedStepInput" class\x3d"form-control hidden"\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeDragOverlay" class\x3d"drag-overlay bg-primary"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id\x3d"hintButton" class\x3d"btn btn-link hint-button" type\x3d"button"\x3e\x3ci class\x3d"fa fa-question-circle fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4 try-me-restart-col"\x3e\x3cbutton class\x3d"btn btn-link try-me-restart-btn disabled" type\x3d"button" data-toggle\x3d"tooltip" title\x3d"Restart"\x3e\x3ci class\x3d"fa fa-repeat fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id \x3d"fullScreen" class\x3d"btn btn-link btn-primary" type \x3d"button"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-arrows-alt"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"startScreen"\x3e\x3cdiv class\x3d"centered-element"\x3e\x3cbutton class\x3d"btn btn-primary" type\x3d"button"\x3e\x3ci class\x3d"fa fa-play"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;Start Simulation\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeInfoScreen" style\x3d"display:none"\x3e\x3cdiv class\x3d\'centered-element\'\x3e\x3cp class\x3d\'info-text\'\x3e\x3c/p\x3e\x3cdiv class\x3d\'info-restart\'\x3e\x3cp\x3e\x3cstrong\x3eYou\'ve reached the end of the simulation!\x3c/strong\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tooltipTemplate" class\x3d"hidden"\x3e\x3cbutton class\x3d"btn btn-primary btn-sm btn-continue mt-10"\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_guide",'\x3cdiv id\x3d"showMeParent" class\x3d"capture" data-variable-name\x3d"{{elConfig.variable_name}}" aria-role\x3d"document" tabindex\x3d"1" aria-label\x3d"{{project.name}}"\x3e{{#if (arith project.sections.length "\x3e" 1)}}\x3cdiv class\x3d"panel pane-default"\x3e\x3cdiv class\x3d"panel-heading"\x3e\x3ch3 class\x3d"panel-title"\x3eSections\x3c/h3\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body"\x3e\x3cul class\x3d"list-inline"\x3e{{#each project.sections}}\x3cli\x3e\x3ca href\x3d"#{{sectionName}}"\x3e{{sectionName}}\x3c/a\x3e\x26nbsp;\x3cspan class\x3d"badge"\x3e{{steps.length}} {{#if (arith steps.length "\x3e" 1)}}Steps{{else}}Step{{/if}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{#if project.showJobAidDownload}}{{#if project.jobAidFile}}\x3ca  href\x3d"{{project.jobAidFile}}" type\x3d"button" title\x3d"Download Job Aid" download\x3d"{{element_capture_getJobAidName project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e Download Job Aid\x3c/a\x3e{{/if}}{{/if}}\x3c/div\x3e\x3c/div\x3e{{/if}}{{#each project.sections}}\x3cdiv class\x3d"panel panel-default"\x3e{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"panel-heading"\x3e\x3ca id\x3d"{{this.sectionName}}"\x3e\x3c/a\x3e\x3ch3 class\x3d"panel-title"\x3e\x3cspan\x3e{{this.sectionName}}\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-body"\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-12"\x3e{{#if ../project.moreThanOneSectionWithSteps}}{{#if ../project.showJobAidDownload}}{{#if ../project.jobAidFile}}\x3cdiv class\x3d"jobAidPane"\x3e\x3ca  href\x3d"{{../project.jobAidFile}}" type\x3d"button" title\x3d"Download Job Aid" download\x3d"{{element_capture_getJobAidName ../project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e Download Job Aid\x3c/a\x3e\x3c/div\x3e{{/if}}{{/if}}{{/if}}\x3cdiv\x3e\x3cp class\x3d"introduction-text"\x3e{{this.introduction}}\x3c/p\x3e\x3c/div\x3e{{#each steps}}\x3cdiv\x3e\x3ca id\x3d"{{../sectionName}}-{{arith @index "+" 1}}"\x3e\x3c/a\x3e\x3cdiv class\x3d"step"\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-9"\x3e\x3cdiv class\x3d"stepMedia"\x3e\x3cimg class\x3d"img-responsive capture-image" src\x3d"{{this.fullImageURL}}"\x3e\x3c/img\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"col-sm-3 stepCount" tabindex\x3d"1" aria-label\x3d"Step {{arith @index "+" 1}}"\x3e\x3ch4\x3eStep \x3cspan\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"stepText" tabindex\x3d"1"\x3e{{instructionalText}}\x3c/div\x3e{{#if ../../project.showNarrationText}}{{#if ../this.narrationText}}\x3cdiv class\x3d\'stepNarration\'\x3e\x3ch4 class\x3d"narrationSection"\x3eNarration text:\x3c/h5\x3e\x3cp class\x3d"inline" tabindex\x3d"1"\x3e{{../this.narrationText}}\x3c/p\x3e\x3c/div\x3e{{/if}}{{/if}}{{#if markers.length}}\x3cul class\x3d"markerList"\x3e{{#each ../markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" tabindex\x3d"1"\x3e{{text}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/if}}\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row"\x3e{{#unless @last}}\x3cdiv class\x3d"col-sm-12"\x3e\x3chr\x3e\x3c/hr\x3e\x3c/div\x3e{{/unless}}{{#if @last}}\x3cdiv class\x3d"col-sm-12 bottom-buffer"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e{{/each}}\x3cdiv\x3e\x3cp class\x3d"introduction-text"\x3e{{this.summary}}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e');
h=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{\x3e(element_capture_getTemplate elConfig.type)}}\x3c/div\x3e');q={format:q,template:h};h={format:function(a){a.elements.sort(function(a,b){return a.elementno-b.elementno});elConfig=a.parameters.config;var b={panels:a.elements,cls:""};$.each(b.panels,function(){this.isContentContainer=this.ignoreExamine=!0});$.each(elConfig.responsive.cfg,function(a,h){b.cls+=a+"-"+h.items+" "});"notOverlayLeftRight"==
elConfig.navigation.type&&(b.cls+="carsouselLeftRight ");b.cls+=a.parameters.config.dotClass;b.hidenav=elConfig.hidenav;return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if hidenav}} hidenav {{/if}}" aria-busy\x3d"true"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flickity clearfix {{cls}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}" tabindex\x3d"1"\x3e{{#each panels}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')};
var n={format:b,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"style\x3d"width:0px;height:0px"\x3e\x3c/div\x3e')},t={format:b,template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}\x3cdiv class\x3d"dki-media-overlay flash-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{#if renderEnv.authoring}}\x3cdiv style\x3d"width:100%;height:100%;{{#if renderEnv.responsive}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/if}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}"{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3cdiv class\x3d"dki-media-placeholder" style\x3d"height:{{outline.height}}px;"\x3e\x3cdiv class\x3d"flash-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else}}\x3cobject tabindex\x3d"-1" class-id\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"style\x3d"width:{{outline.width}}px;height:{{outline.height}}px;"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"\x3e\x3cparam name\x3d"movie" + value\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"/\x3e{{\x3e multimedia_flashParams}}\x3c!--[if !IE]\x3e --\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"style\x3d"width:inherit;height:inherit;"\x3e\x3c!-- \x3c![endif]--\x3e{{\x3e multimedia_flashParams}}\x3cp\x3eThis content requires Adobe Flash Player version 10.2.0.0\x3c/p\x3e\x3ca href\x3d\'http://get.adobe.com/flashplayer/\' target\x3d\'downloadFlash\'\x3eUpdate Flash\x3c/a\x3e\x3c!--[if !IE]\x3e --\x3e\x3c/object\x3e\x3c!-- \x3c![endif]--\x3e\x3c/object\x3e{{/if}}{{#multimedia_ifRegisterSwfObject renderEnv}}\x3cscript type\x3d\'text/javascript\'\x3eswfobject.registerObject(\'content_10.2.0.0\');\x3c/script\x3e{{/multimedia_ifRegisterSwfObject}}{{/if}}')},
y={format:function(a){a.elements.sort(function(a,b){return a.elementno-b.elementno});elConfig=a.parameters.config;var b={panels:{front:a.elements[0],back:a.elements[1]}};$.each(b.panels,function(){this.parameters.config.border=a.parameters.config.borders;this.isContentContainer=this.ignoreExamine=!0});return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flip clearfix size_full" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3cdiv role\x3d"button" class\x3d"front face flipCardPanel active clearfix" tabindex\x3d"1"\x3e{{\x3eelement outline\x3dpanels.front scope\x3dscope}}\x3c/div\x3e\x3cdiv role\x3d"button" class\x3d"back face flipCardPanel clearfix" tabindex\x3d"-1"\x3e{{\x3eelement outline\x3dpanels.back scope\x3dscope}}\x3c/div\x3e\x3ci class\x3d\'fa fa-reply-all flipIcon {{BgClassName outline.parameters.background}}\'\x3e\x3c/i\x3e\x3c/div\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"flipBtn" title\x3d"Flip the card to the other side"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e')},
x={format:$.proxy(function(b){b.parameters.config.shuffle?this.state.utility.shuffle(b.elements):b.elements.sort(function(a,b){return a.elementno-b.elementno});elConfig=b.parameters.config;a={cards:b.elements.map(function(a){a.faceCls=b.parameters.background.class_name;return a}),cls:""};c.state.renderEnvironment.player&&(a.inputPlaceholder=DKI.strings.questionInstructions["3"]);a.submit=c.state.renderEnvironment.player?DKI.strings.runtime.buttonLabelSubmit:"Submit";return a},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}}\"\x3e\x3cdiv class\x3d'flickity-carousel' role\x3d\"application\"\x3e{{#each cards}}\x3cdiv class\x3d'flashCardCont' style\x3d'width:100%; text-align:center;' tabindex\x3d\"-1\" {{#if this.upload_id}}aria-label\x3d'{{this.asset_title}}'{{/if}}\x3e\x3cdiv data-id\x3d'{{this.id}}' class\x3d\"card clearfix {{../faceCls}}\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e\x3cdiv  class\x3d'setImage' {{#if this.upload_id}}style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}')\"{{/if}}\x3e\x3cdiv class\x3d'imgOverlay'\x3e\x3cdiv style\x3d'margin-top:15px'\x3e\x3ci class\x3d'fa fa-check'\x3e\x3c/i\x3e\x3cdiv class\x3d'resultText'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardContent'\x3e\x3cdiv id\x3d\"{{this.id}}_question\"class\x3d'question' aria-hidden\x3d\"true\"\x3e{{{this.meta}}}\x3c/div\x3e\x3cdiv class\x3d'response' role\x3d\"application\"\x3e\x3clabel style\x3d\"display:none\" for\x3d\"{{this.id}}_input\"\x3e{{../inputPlaceholder}}'\x3c/label\x3e\x3cinput aria-labelledby\x3d\"{{this.id}}_question\" name\x3d\"{{this.id}}_input\" type\x3d'text' tabindex\x3d'-1' placeholder\x3d'{{../inputPlaceholder}}'/\x3e\x3cbutton type\x3d\"button\" tabindex\x3d'-1' class\x3d'btn {{../outline.parameters.config.btn_class}}'\x3e{{../submit}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
z={format:function(b){b.elements.sort(function(a,b){return a.elementno-b.elementno});var h=["size-"+b.parameters.config.size,"orientation-"+b.parameters.config.orientation,"icon-"+(b.parameters.config.showIcon?"show":"hide"),"border-"+(b.parameters.config.border?"show":"hide")];elConfig=b.parameters.config;return a={cards:b.elements.map(function(a){a.faceCls=b.parameters.background.class_name;return a}),cls:h.join(" ")}},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{cls}} flipSet"\x3e{{#each cards}}\x3cdiv class\x3d\'flip clearfix\'\x3e{{#each this.elements}}\x3cdiv role\x3d"button" class\x3d"{{#unless @index}}front seen active{{else}}back{{/unless}} face clearfix {{../faceCls}}" tabindex\x3d"{{#unless @index}}1{{else}}-1{{/unless}}" style\x3d"{{\x3eelement_backgroundCSSString ../../outline}}" {{#if this.upload_id}}alt\x3d\'{{this.asset_title}}\'{{/if}}\x3e{{#if this.upload_id}}\x3cdiv class\x3d\'setImage\' style\x3d"background-image: url(\'{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}\')"\x3e\x3c/div\x3e{{else}}\x3cspan\x3e{{{this.meta}}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/each}}\x3ci class\x3d\'fa fa-reply-all flipIcon\'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e')},
r={format:function(a){var b=DKI.clone(a.parameters.config);b.outline=a;b.title={enabled:b.showText};b.subtitle={enabled:a.parameters.config.includeSubtitle&&b.showText};b.icon={enabled:b.showIcon};$.each(a.elements,function(){"tileCardTitle"==this.elementtype?b.title.element=this:"tileCardSubtitle"==this.elementtype?b.subtitle.element=this:"icon"==this.elementtype&&(b.icon.element=this)});b.class_name+=" size_"+b.size+" align_"+b.vertical_alignment;b.background_class_name=a.parameters.background.class_name;
b.class_name+=" "+b.background_class_name;b.visitedIcon=a.parameters.config.visitedIcon;b.iconSizeClass=b.icon.element?b.icon.element.parameters.config.size:"";return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"tileCard {{class_name}}" data-vertical-alignment\x3d"{{vertical_alignment}}" style\x3d\'\' data-variable-name\x3d{{variable_name}} data-visitedIcon\x3d{{visitedIcon}}\x3e\x3cdiv class\x3d"tileCardBackground {{background_class_name}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"tileCard-body {{iconSizeClass}}" \x3e\x3cdiv class\x3d"tileCard-subtitle clearfix {{#unless subtitle.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dsubtitle.element scope\x3dscope}}\x3c/div\x3e\x3cdiv class\x3d"tileCard-title clearfix {{#unless title.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dtitle.element scope\x3dscope}}\x3c/div\x3e\x3cspan class\x3d"variableIcon {{#unless icon.enabled}}hidden{{/unless}} "\x3e{{#if icon.element}}{{\x3e element outline\x3dicon.element scope\x3dscope}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
C={format:b,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x26nbsp;\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"{{outline.cssStyle}};display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}"{{#if outine.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3c/div\x3e')},A={format:$.proxy(function(b){b.elements.sort(function(a,b){return a.elementno-b.elementno});var h=["size-"+b.parameters.config.size,"icon-"+(b.parameters.config.showIcon?
"show":"hide")];b.parameters.config.border&&h.push("border-show");b.parameters.config.fadeMatched?h.push("fadeMatched"):!1;elConfig=b.parameters.config;a={cards:DKI.utility.shuffle(b.elements.slice(0).concat(b.elements)),cls:h.join(" ")};b.parameters.config.icon?a.frontMarkup="\x3cspan class\x3d'"+b.parameters.config.icon+"'\x3e\x3c/span\x3e":b.upload_id&&(b=this.getAssetUrl({id:b.upload_id,folderId:b.asset_uploadfolderid,extension:b.asset_extension})+"?bust\x3d"+Date.now(),a.frontMarkup='\x3cdiv class\x3d"face-image" style\x3d"background-image:url(\''+
b+"')\"\x3e\x3c/div\x3e");return a},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}} flipSet {{#unless renderEnv.authoring}}match_hidden{{/unless}}\" role\x3d'application'\x3e\x3cdiv class\x3d'match_manual_start' aria-hidden\x3d'true' role\x3d'dialog'\x3e\x3cdiv class\x3d'match_manual_start_container flex flexCol'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardsContainer'\x3e{{#each cards}}\x3cdiv class\x3d'flip accessibilitySelfManage clearfix{{#if this.elements.0.upload_id}} hasAsset{{/if}}' data-id\x3d'{{this.id}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{arith @index '+' 1}}' aria-hidden\x3d'false' role\x3d\"button\" class\x3d\"front active face clearfix {{../faceCls}} {{../outline.parameters.config.frontBg}}\" tabindex\x3d\"1\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e{{{../frontMarkup}}}\x3c/div\x3e\x3cdiv tabindex\x3d'-1' aria-hidden\x3d'true' class\x3d\"back face clearfix {{../faceCls}} {{../outline.parameters.config.backBg}}\" tabindex\x3d\"-1\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\" {{#if this.elements.0.upload_id}}alt\x3d'{{this.elements.0.asset_title}}'{{/if}}\x3e{{#if this.elements.0.upload_id}}\x3cdiv class\x3d'setImage' style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.elements.0.upload_id folderId\x3dthis.elements.0.asset_uploadfolderid extension\x3dthis.elements.0.asset_extension}}')\"\x3e\x3c/div\x3e\x3cspan class\x3d'noShow'\x3e{{else}}\x3cspan\x3e{{/if}}{{#if this.elements.0.upload_id}}{{this.elements.0.asset_title}}{{else}}{{{this.elements.0.meta}}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3ci class\x3d'fa fa-reply-all flipIcon'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
w={format:$.proxy(function(a){return{outline:a}},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" data-variable-name\x3d"{{outline.parameters.config.variable_name}}" class\x3d"{{element_contentClass this}} {{cls}}" \x3e\x3c/div\x3e')},B={format:b,template:Handlebars.compile('\x3cdiv tabindex\x3d"-1" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}{{#if outline.parameters.config.height}}data-height\x3d"{{outline.parameters.config.height}}"{{/if}}{{#if outline.parameters.config.alignment}}data-align\x3d"{{outline.parameters.config.alignment}}"{{/if}}\x3e\x3cdiv class\x3d"dropTargetTextWrapper"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
E={format:b,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3c{{scope.tagName}} style\x3d"width:100%;{{element_htmHeight outline}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.root_class}} {{outline.parameters.config.text_effect}}"{{#if outline.txt}} title\x3d"{{outline.txt}}"{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/{{scope.tagName}}\x3e')},
D={format:b,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe tabindex\x3d"-1" style \x3d"{{element_htmlWidgetStyle this}}" src\x3d"{{#if renderEnv.authoring}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}{{else}}about:blank;{{/if}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}"scrolling\x3d"{{element_htmlWidgetScrolling this}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} {{outline.parameters.config.embedType}}"frameborder\x3d"0"seamless\x3e\x3c/iframe\x3e{{/if}}')},
F={format:b,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe tabindex\x3d"-1" style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"{{element_iframe_getProperties outline}} id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.src}} data-src\x3d"{{outline.src}}"{{/if}} src\x3d"{{#if renderEnv.authoring}}{{outline.src}}{{else}}about:blank;{{/if}}"\x3e\x3c/iframe\x3e{{/if}}')},
H={format:b,template:Handlebars.compile('{{#if forTemplate}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' title\x3d\'Swap this image out with another one.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cimg {{#image_showMaps renderEnv}}{{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}{{/image_showMaps}} data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-thumbUrl\x3d"{{getAssetThumb el\x3doutline id\x3doutline.upload_id extension\x3doutline.asset_extension}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{#ifNEq outline.txt \'\'}}{{outline.txt}}{{else}}{{#ifNEq outline.parameters.accessibility.text \'\'}}{{outline.parameters.accessibility.text}}{{/ifNEq}}{{/ifNEq}}" role\x3d"img" align\x3d"top" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this }}{{#ifNEq outline.rollover_asset_id \'\'}} hasRollover {{/ifNEq}}"/\x3e{{#ifNEq outline.rollover_asset_id \'\'}}\x3cdiv style\x3d"position: absolute; width: 100%; top: 0; left: 0;"\x3e\x3cimg data-id\x3d\'{{outline.id}}\' data-src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_folderid extension\x3doutline.rollover_asset_extension}}\' {{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_uploadfolderid extension\x3doutline.rollover_asset_extension}}\' alt\x3d"{{outline.txt}}" align\x3d\'top\' id\x3d"content_{{outline.id}}_rollover" class\x3d"{{element_contentClass this}} dki-image-rollover" /\x3e\x3c/div\x3e{{/ifNEq}}{{#image_showMaps renderEnv}}{{#if outline.imageMaps}}{{reverse outline.imageMaps}}\x3cmap id\x3d"{{outline.id}}_imagemap" name\x3d"{{outline.id}}_imagemap"\t{{#if renderEnv.responsive}} style\x3d"width:{{outline.parameters.responsive.minWidth}}px;height:{{outline.parameters.responsive.minHeight}}px;" data-asset-width\x3d"{{outline.asset_width}}" data-asset-height\x3d"{{outline.asset_height}}"{{/if}}\x3e{{#each outline.imageMaps}}\x3carea shape\x3d"{{this.shape}}" coords\x3d"{{this.coords}}" alt\x3d"{{this.alt}}" role\x3d"button" data-href\x3d"{{this.href}}" data-hreftype\x3d"{{this.hreftype}}" data-hreftarget\x3d"{{this.hreftarget}}"{{#ifEq this.hreftype \'HTTP\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'file\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'event\'}}{{element_imageMapEventFunction this}}{{/ifEq}} onmouseover\x3d"$(\'body\').css(\'cursor\',\'pointer\');" onmouseout\x3d"$(\'body\').css(\'cursor\',\'\');" style\x3d"display:block;cursor:pointer;"/\x3e{{/each}}\x3c/map\x3e{{/if}}{{/image_showMaps}}{{/if}}')},
G={format:b,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else}}\x3cdiv style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{each outline.parameters.config.elements_assets}}\x3cimg src\x3d"{{#getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}"/\x3e{{/each}}\x3c/div\x3e{{/if}}')},L={format:$.proxy(function(a){var b={outline:a,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:
"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},h=[],c=function(a,b){switch(b){case "A":case "a":return String.fromCharCode(b.charCodeAt()+a)+") ";case "1":return parseInt(b,10)+a+") ";case "i":a+=1;if(+a){a=String(+a).split("");b=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");for(var h="",c=3;c--;)h=(b[+a.pop()+10*c]||"")+h;a=Array(+a.join("")+1).join("M")+h}else a=!1;return a+") ";default:return""}},
k=1<parseInt(a.parameters.config.maxSelections,10)?"checkbox":"radio",n=0;$.each(a.elements,function(a,b){this.idx=a;h.push(this)});a.parameters.config.shuffle&&(h=this.state.utility.shuffle(h));$.each(h,function(a){this.inputType=k;this.num=c(n,b.outline.parameters.config.numbering);"slider"==this.elementtype&&(b.slider=this,n--);n++});b.items=h;return b},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix"\x3e\x3cdiv class\x3d"options clearfix"\x3e{{#each items}}{{#ifNEq elementtype \'slider\'}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/ifNEq}}{{/each}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"add"\x3e\x3cimg src\x3d"../../../../../images/adminicons/ribbon/contextTabs/tabsets/addTab.png"/\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"padding: 0 20px 0 5px;"\x3e{{#if slider}}{{\x3eelement outline\x3dslider scope\x3dscope}}{{/if}}\x3c/div\x3e\x3cdiv style\x3d"padding-right:20px;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" tabindex\x3d"1" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-primary btn retake pull-right" tabindex\x3d"1" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
I={format:function(a){return{outline:a}},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput id\x3d"{{outline.id}}_option" tabindex\x3d"1" type\x3d"{{outline.inputType}}" name\x3d"{{outline.parent_element_id}}_options" data-idx\x3d"{{outline.idx}}"/\x3e\x3c/span\x3e\x3clabel class\x3d"form-control" for\x3d"{{outline.id}}_option"\x3e\x3cspan class\x3d"numbering"\x3e{{outline.num}}\x3c/span\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e')},
N={format:b,template:Handlebars.compile('\x3cform class\x3d"{{element_contentClass this}}" action\x3d"javascript:void(0)" autocomplete\x3d"off" id\x3d"content_{{outline.id}}"\x3e\x3cfieldset\x3e\x3cdiv class\x3d\'form-group {{outline.parameters.config.labelVPos}} {{#if outline.parameters.config.labelBefore}}before{{else}}after{{/if}}\'\x3e{{#if outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/if}}\x3cdiv class\x3d"inputContainer"\x3e{{#unless renderEnv.player}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e{{#unless outline.txt}}Double click here to insert placeholder text{{/unless}}\x3c/div\x3e{{/unless}}\x3cinput  id\x3d"{{outline.id}}_input" class\x3d"form-control"{{#unless renderEnv.authoring}} maxlength\x3d"{{outline.parameters.config.maxLength}}"{{/unless}} type\x3d"{{#unless renderEnv.authoring}}{{outline.parameters.config.type}}{{else}}text{{/unless}}"{{#if outline.parameters.config.readOnly}} readonly{{else if renderEnv.authoring}}readonly{{/if}}{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{else}} value\x3d"{{outline.txt}}"{{/unless}}/\x3e\x3c/div\x3e{{#unless outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/unless}}\x3c/div\x3e\x3c/fieldset\x3e\x3c/form\x3e')},
O={format:function(a){var b=DKI.clone(a.parameters.config);a.elements.sort(function(a,b){return a.elementno-b.elementno});b.elements=a.elements;b.style+=b.showButton?"":" hideButton";return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"jumbotron clearfix {{style}}"\x3e{{#each elements}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},J={format:b,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} clearfix"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}style\x3d"{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}"\x3e{{#if outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon left"\x3e\x3c/i\x3e\x3c/span\x3e{{/if}}\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e{{#unless outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon right"\x3e\x3c/i\x3e\x3c/span\x3e{{/unless}}\x3ci class\x3d"fa fa-info responsiveFallback"\x3e\x3c/i\x3e\x3c/div\x3e')},
Y={format:b,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci class\x3d"fa fa-thumbs-up"\x3e\x3c/i\x3e\x3ci class\x3d"fa fa-thumbs-down"\x3e\x3c/i\x3e\x3c/div\x3e')},V={format:function(a){var b=DKI.clone(a.parameters.config);b.items=a.meta.split(",");$.each(b.items,function(a,h){b.items[a]=b.icons[a]&&""!=b.icons[a]&&b.iconsEnabled?"\x3ci class\x3d'"+b.icons[a]+'\'\x3e\x3c/i\x3e \x3cspan class\x3d"list-item-text"\x3e'+
h+"\x3c/span\x3e":b.numbersEnabled?"\x3cspan class\x3d'itemNumberIcon'\x3e"+(a+1)+'\x3c/span\x3e\x3cspan class\x3d"list-item-text"\x3e'+h+"\x3c/span\x3e":'\x3cspan class\x3d"list-item-text"\x3e'+h+"\x3c/span\x3e"});b.id=a.id;b.def=b.items[0];return b},template:Handlebars.compile('\x3cul class\x3d"{{element_contentClass this}} list-group {{outline.parameters.config.cls}} {{#unless outline.parameters.config.borders}}noBorders{{/unless}} {{#if outline.parameters.config.striped}}striped{{/if}}" id\x3d"content_{{outline.id}}"\x3e{{#each items}}\x3cli class\x3d"list-group-item"\x3e{{{this}}}\x3c/li\x3e{{/each}}\x3c/ul\x3e')},
S={format:b,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}{{#element_ifCanHaveDims}}font-size:{{arith outline.height \'-\' 20}}px;height:{{outline.height}}px;width:{{outline.height}}px;{{/element_ifCanHaveDims}}{{#if outline.parameters.config.backgroundColor}} background-color:{{getColour outline.parameters.config.backgroundColor}}; {{/if}} " id\x3d"content_{{outline.id}}"{{#if outline.txt}} title"{{outline.txt}}"{{/if}} data-class\x3d"{{outline.parameters.config.class}}" class\x3d"fa {{element_contentClass this}} {{outline.parameters.config.size}} {{outline.parameters.config.class}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}"\x3e\x3c/i\x3e')},
Q={format:b,template:Handlebars.compile('{{#if renderEnv.document}}\x3cdiv id\x3d"content_{{outline.id}}"\x3e{{{outline.meta}}}\x3c/div\x3e{{else}}{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}font-size:{{outline.height}}px;width:{{outline.width}}px;height:{{outline.height}}px;line-height:{{outline.height}}px;{{#if outline.parameters.background.color}} background-color:{{outline.parameters.background.color}}; {{/if}}{{#if outline.parameters.background.foreground}} color:{{outline.parameters.background.foreground}}; {{/if}}" id\x3d"content_{{outline.id}}"{{#if outline.txt}} title"{{outline.txt}}"{{/if}} class\x3d"fa {{element_contentClass this}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}"\x3e\x3c/i\x3e\x3cdiv class\x3d"markerPulsar {{outline.parameters.config.shape}}"\x3e\x3c/div\x3e{{/if}}')},
T=$.proxy(function(a,b){var h=b.renderEnv,c=b.page,k={renderControl:h.single||h.full||h.export||b.forTemplate,optionNo:-1};$.each(c.question.options,function(b,h){if(this.element_id==a.elementid)return k.optionNo=b+1,k.option=this,!1});"trueFalseOption"==a.elementtype&&(b="Option1"==a.txt?"true":"false",k.radioId=b+"Option"+a.id,k.labelClass=b+"Option_label",k.val=b);"multiPulldownOption"==a.elementtype&&(b=k.option.content,"string"===typeof b&&(k.option.content=this.state.utility.shuffle(b.replace(/"/g,
"\x26quot;").split(","))));"multiChoiceOption"==a.elementtype&&(k.inputType=1<c.question.max_selections?"checkbox":"radio");return k},this),R;Handlebars.registerPartial("option_fillBlanksOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3ctable width\x3d"100%"\x3e\x3ctr\x3e\x3ctd class\x3d"input-group"\x3e\x3clabel class\x3d"content control-label input-group-addon" for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3c/td\x3e\x3ctd style\x3d"width:100%"\x3e\x3cinput tabindex\x3d"-1" class\x3d"content form-control" type\x3d"text" id\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}} style\x3d"width:100%"/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon" id\x3d"{{outline.txt}}_addon"\x3e{{element_option_renderNumbering this}}\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"content form-control" id\x3d"{{outline.txt}}" aria-describedby\x3d"{{outline.txt}}_addon" data-order\x3d"{{optionNo}}"/\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_trueFalseOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-trueFalse-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cdiv class\x3d"radio"\x3e\x3clabel for\x3d"{{radioId}}" class\x3d"radio"\x3e\x3cinput tabindex\x3d"-1" type\x3d"radio" id\x3d"{{radioId}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}/\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" tabindex\x3d"-1" type\x3d"radio" id\x3d"{{radioId}}" data-order\x3d"{{optionNo}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" {{element_option_getCorrect this}}/\x3e\x3c/span\x3e\x3clabel aria-hidden\x3d"true" id\x3d"{{outline.txt}}{{outline.id}}_label" for\x3d"{{radioId}}" class\x3d"form-control"\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiPulldownOption",'{{#if renderEnv.document}}\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e{{element_option_renderNumbering this}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3cul\x3e{{#each option.content}}\x3cli\x3ethis\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3clabel for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3cdiv class\x3d"contentWrapper"\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3clabel for\x3d"{{outline.txt}}" class\x3d"input-group-addon"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e{{/if}}\x3cselect tabindex\x3d"-1" class\x3d"content form-control" id\x3d"{{outline.txt}}"data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}\x3e\x3coption value\x3d""\x3e\x3c/option\x3e{{#each option.content}}\x3coption class\x3d"content" label\x3d"{{trim this}}"\x3e{{trim this}}\x3c/option\x3e{{/each}}\x3c/select\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiChoiceOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-multiChoice-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cspan class\x3d"multiChoiceContentWrapper" style\x3d"visibility:hidden;"\x3e\x3cinput tabindex\x3d"-1" type\x3d"{{inputType}}"  name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}/\x3e\x3clabel for\x3d"{{outline.txt}}{{outline.id}}" class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/label\x3e\x3c/span\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" tabindex\x3d"-1" type\x3d"{{inputType}}" name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}/\x3e\x3c/span\x3e\x3clabel aria-hidden\x3d"true" for\x3d"{{outline.txt}}{{outline.id}}" id\x3d"{{outline.txt}}{{outline.id}}_label" class\x3d"form-control"\x3e\x3cspan class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_freeFormOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3ctextarea tabindex\x3d"-1" class\x3d"content form-control" style\x3d""data-order\x3d"{{optionNo}}"\x3e\x3c/textarea\x3e');R=Handlebars.compile('\x3cdiv {{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{#unless forTemplate}}data-option-index\x3d"{{optionNo}}" {{/unless}}{{/unless}}{{/unless}}{{/unless}}style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} dki-question-option"\x3e{{\x3e(element_option_getPartial outline.elementtype)}}\x3c/div\x3e');
T={format:T,template:R};R={format:function(a){var b={outline:a,header:{enabled:a.parameters.config.header.enabled,iconLeft:a.parameters.config.header.iconLeft,iconRight:a.parameters.config.header.iconRight},footer:{enabled:a.parameters.config.footer.enabled},class_name:a.parameters.config.class_name,elements:[],startCollapsed:a.parameters.config.startCollapsed};c.state.renderEnvironment.authoring&&(b.startCollapsed=!1);b.class_name+=a.parameters.config.border?"":" no-border";$.each(a.elements,function(){"panelHeader"==
this.elementtype?b.header.element=this:"panelFooter"==this.elementtype?b.footer.element=this:b.elements.push(this)});a.parameters.config.collapseable&&a.parameters.config.show_accordion_controls&&(b.class_name+=" show_accordion_controls");b.startCollapsed||(b.class_name+=" expanded");a.parameters.config.padded||(b.class_name+=" no-padding");a.parameters.config.square&&(b.class_name+=" square");a.isContentContainer&&(b.class_name+=" content-container-panel");return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"panel {{class_name}} {{outline.parameters.config.size}}"\x3e\x3cdiv class\x3d"panel-heading clearfix {{#unless header.enabled}}hidden{{/unless}}" id\x3d"{{outline.elementid}}_panel_header"\x3e\x3ch3 class\x3d"panel-title"\x3e\x3ca tabindex\x3d"1"{{#if outline.parameters.config.collapseable}}role\x3d"button" data-toggle\x3d"collapse" data-parent\x3d"#{{outline.elementid}}_wrapper" href\x3d"#{{outline.elementid}}_panel_collapse" aria-expanded\x3d"true" aria-controls\x3d"{{outline.elementid}}_panel_collapse"{{/if}}\x3e\x3ci class\x3d"fa left {{header.iconLeft}}"\x3e\x3c/i\x3e{{\x3e element outline\x3dheader.element scope\x3dscope}}\x3ci class\x3d"fa right {{header.iconRight}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/h3\x3e\x3c/div\x3e{{#if outline.parameters.config.collapseable}}\x3cdiv id\x3d"{{outline.elementid}}_panel_collapse" class\x3d"panel-collapse collapse {{#unless startCollapsed}}in{{/unless}}"\x3e{{/if}}{{#unless renderEnv.responsive}}\x3cdiv style\x3d"width:100%;height:100%;overflow-y:auto;backface-visibility:hidden; position:relative;"\x3e{{/unless}}\x3cdiv class\x3d"panel-body clearfix {{BgClassName outline.parameters.background}} {{#if outline.isContentContainer}}content-container-panel-body{{/if}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#each this.elements}}{{\x3e element outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e{{#unless renderEnv.responsive}}\x3c/div\x3e{{/unless}}{{#if outline.parameters.config.collapseable}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-footer clearfix {{#unless footer.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dfooter.element scope\x3dscope}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
var K={format:b,template:Handlebars.compile('\x3c{{outline.parameters.config.tag_name}} class\x3d"{{element_contentClass this}} clearfix placeholder-type-{{outline.parameters.placeholder.type}} {{outline.parameters.config.root_class}}"id\x3d"content_{{outline.id}}"\x3e\x3c/{{outline.parameters.config.tag_name}}\x3e')},Z={format:function(a,b){a=DKI.clone(a.parameters.config);a.style=b.renderEnv.authoring?a.dim+":50%":a.dim+":0%";return a},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"progress {{progClass}} {{barClass}}" data-max\x3d{{max}} data-current\x3d{{current}} data-variable-name\x3d{{variable_name}}\x3e\x3cdiv class\x3d"progress-bar {{barClass}}{{#if striped}} progress-bar-striped{{/if}} {{#if animated}} active{{/if}}" role\x3d"progressbar" aria-valuenow\x3d"0" aria-valuemax\x3d"100" style\x3d"{{style}}"\x3e\x3cspan class\x3d"progress-bar-display {{#unless show_percent}}hidden{{/unless}}"\x3e{{#if renderEnv.authoring}}50%{{/if}}\x3c/span\x3e\x3cspan class\x3d"sr-only"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
X={format:function(a){a=DKI.clone(a.parameters.config);a.textClass=a.showText?a.textClass:"hidden";a.iconClass=a.showIcon?a.iconClass:"hidden";a.image=a.showBgImage&&a.elements_assets[0]?a.elements_assets[0]:"";"hidden"==a.textClass&&a.showIcon?a.iconClass+=" full":""==a.iconClass&&a.showIcon&&(a.icon="%");return a},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{style}} dki-radialgauge radial {{gaugeColor}} {{gaugeThickness}}" data-variable-name\x3d"{{variable_name}}" data-max\x3d"{{max}}" data-current\x3d"{{current}}"\x3e\x3cdiv class\x3d"overlay" style\x3d"{{#if showBgImage}}background-image:url(\'{{getAssetUrl id\x3dimage.uploadid folderId\x3dimage.uploadfolderid extension\x3dimage.extention}}\'){{/if}}"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text {{textClass}}"\x3e\x3c/div\x3e\x3ci class\x3d"{{iconClass}}"\x3e{{icon}}\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
aa={templates:{bs:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}" data-toggle\x3d"buttons"\x3e{{#each items}}\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e\x3cinput class\x3d"{{../iCls}}" id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e'),
standard:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}"\x3e{{#each items}}\x3cinput id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3ca\x3e\x3c/a\x3e\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e')},
format:function(a){var b=DKI.clone(a.parameters.config);b.items=a.elements;b.items.sort(function(a,b){return a.elementno-b.elementno});b.id=a.id;b.def=b.items[0];DKI.applyIf(b,{inpCls:"",lablCls:"",contCls:"",template:c.renderConfig.radioGroup.templates[b.type]});var h=b.contCls;b.response&&(h+=" "+b.response);b.fullCls=h+" "+b.cls;"bs"==b.type&&(b.lablCls="btn "+b.cls.replace("radio-","btn-"));a.parameters.config.vertical&&(b.lablCls+=" clearfix");b.fullCls=b.justified?b.vertical?b.fullCls+" fullWidth":
b.fullCls+("bs"==b.type?" btn-group-justified":" justified"):b.fullCls+" clearfix";return b},template:function(a){return a.template(a)}},da={template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"btn-group"\x3e{{#each items}}{{#if @first}}\x3cbutton class\x3d"btn {{../../cls}}{{#unless ../../split.enabled}}  dropdown-toggle" type\x3d"button" id\x3d"{{../../id}}" data-toggle\x3d"dropdown" aria-haspopup\x3d"true" aria-expanded\x3d"true"\x3e{{else}}" data-toggle\x3d"dropdown"\x3e{{/unless}}\x3cspan class\x3d"selectedCont"\x3e{{{this}}}\x3c/span\x3e{{#unless ../../split.enabled}}\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{else}}\x3c/button\x3e\x3cbutton type\x3d"button"class\x3d"btn {{../../../split.cls}} dropdown-toggle selectionSplit" data-toggle\x3d"dropdown" aria-haspopup\x3d"true" aria-expanded-"false"\x3e\x26nbsp;\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{/unless}}\x3cul class\x3d"dropdown-menu" aria-labelledby\x3d"{{../../id}}"\x3e{{/if}}\x3cli\x3e\x3ca data-val\x3d"{{arith @index \'+\' 1}}"href\x3d"javascript:void(0)"\x3e{{{this}}}\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e'),
format:function(a){var b=DKI.clone(a.parameters.config);b.items=a.meta.split(",");$.each(b.items,function(a,h){b.icons[a]&&""!=b.icons[a]&&b.iconsEnabled&&(b.items[a]="\x3ci class\x3d'"+b.icons[a]+"'\x3e\x3c/i\x3e "+h)});b.id=a.id;b.def=b.items[0];b.transparent&&(b.cls+=" btn_transparent",b.split.cls+=" btn_transparent");b.split.enabled&&(b.cls+=" btn_transparent");return b}},U={format:b,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}}"\x3e\x3cdiv class\x3d\'shape\'\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e')},
ha={format:b,template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}}\"\x3e\x3cdiv class\x3d'dki-element-text  {{courseStyles outline}}' data-prop\x3d'txt'\x3e{{{outline.txt}}}\x3c/div\x3e\x3cdiv class\x3d'shape'\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e")},ia={format:function(a){return DKI.clone(a.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{noUISlider.orientation}} {{track}}-track {{handle}}-handle  {{cls}}"\x3e\x3cdiv class\x3d"slider {{#if pipValues}}values{{/if}}" data-variable-id\x3d"{{variable_name}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"hidden sliderLabel"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ga={format:b,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"height:{{outline.height}}px;width:100%;"id\x3d"content_{{outline.id}}"\x3e\x3c/div\x3e')},ka={format:b,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}} speech-bubble {{#if outline.parameters.config.bordered}}bordered{{/if}} {{#if outline.parameters.config.rounded}}round{{/if}} {{outline.parameters.config.shape}} {{outline.parameters.config.direction}} {{BgClassName outline.parameters.background}}"  style\x3d"{{\x3eelement_backgroundCSSString outline}}"id\x3d"content_{{outline.id}}"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e')},
ma={format:b,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{element_svg_setMeta outline}}\x3c/div\x3e')},pa={format:b,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv tabindex\x3d"-1" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e')},
qa;Handlebars.registerPartial("tabset-tabs",'\x3cul class\x3d"nav responsive {{tabsetClasses.list}}" id\x3d"{{elid}}"\x3e{{#each elements.tabs}}\x3cli data-id\x3d"{{this.id}}"{{#unless @index}}{{#unless ../../cfg.startUnopened}}class\x3d"active"{{/unless}}{{/unless}}\x3e\x3ca tabindex\x3d"-1" draggable\x3d"false" class\x3d"clearfix{{#unless this.parameters.config.icon.enabled}} icon-hidden{{/unless}}{{#unless this.parameters.config.icon.right.enabled}} right-icon-hidden{{/unless}}" data-idx\x3d"{{@index}}" data-id\x3d"{{this.id}}" data-toggle\x3d"tab" href\x3d"#tabContent_{{@index}}_{{../elid}}" data-for\x3d"{{../elid}}" data-viewed\x3d"false"\x3e\x3ci class\x3d"fa left {{this.parameters.config.icon.class_name}}"\x3e\x3c/i\x3e{{\x3eelement outline\x3dthis scope \x3d ../scope}}\x3ci class\x3d"fa right {{this.parameters.config.icon.right.class_name}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e{{/each}}\x3cli class\x3d"tabset-add"\x3e\x3ca class\x3d\'clearfix\' data-id\x3d"tabset-add" data-toggle\x3d"tab" href\x3d"_blank"\x3e\x3cspan\x3e+\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e');
Handlebars.registerPartial("tabset-content",'\x3cdiv class\x3d"tab-content responsive {{tabsetClasses.content}}" data-for\x3d"{{elid}}"\x3e{{#each elements.content}}\x3cdiv class\x3d"tab-pane clearfix {{#unless @index}}{{#unless ../../cfg.startUnopened}}active{{/unless}}{{/unless}} {{BgClassName ../outline.parameters.background}}" id\x3d"tabContent_{{@index}}_{{this.parentId}}" style\x3d"{{\x3eelement_backgroundCSSString ../outline}}" data-for\x3d"{{../elid}}"\x3e{{#each this.elements}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/each}}\x3c/div\x3e{{/each}}\x3c/div\x3e');
qa=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv role\x3d"application" class\x3d"tabbable {{tabsetClasses.core}} {{outline.parameters.config.colour}} {{outline.parameters.config.opacity}} clearfix"\x3e{{#if contentFirst}}{{\x3e tabset-content}}{{\x3e tabset-tabs}}{{else}}{{\x3e tabset-tabs}}{{\x3e tabset-content}}{{/if}}\x3c/div\x3e\x3c/div\x3e');this.renderConfig={audio:k,authoringButton:l,btn:p,callout:m,capture:q,contentCarousel:h,
control:n,flash:t,flipCard:y,flashCardSet:x,flipCardSet:z,tileCard:r,hotspot:C,matchCardSet:A,scenario:w,dropTarget:B,htm:E,html:D,iframe:F,image:H,imageGallery:G,inlineQuestion:L,inlineQuestionOption:I,input:N,jumbotron:O,label:J,likedislike:Y,list:V,icon:S,marker:Q,option:T,panel:R,placeholder:K,progress:Z,radialGauge:X,radioGroup:aa,selection:da,shape:U,svg:ha,slider:ia,spacer:ga,speechBubble:ka,SVG:ma,tab:pa,tabset:{format:function(a){var b={elements:{tabs:[],content:[]},cfg:a.parameters.config,
elid:a.id},h=!("rectangle"==a.parameters.config.custom_style||"square"==a.parameters.config.custom_style||"folder"==a.parameters.config.custom_style);a.elements.sort(function(a,b){return a.elementno-b.elementno});for(var c=0;c<a.elements.length;c++)"tab"==a.elements[c].elementtype&&(b.elements.tabs.push(a.elements[c]),b.elements.content.push({parentId:a.id,elements:a.elements[c].elements}));b.tabsetClasses={list:a.parameters.config.style,content:"",tabset:"",core:a.parameters.config.custom_style};
switch(b.cfg.orientation){case "vertical":h=12-b.cfg.verticalTabWidth;b.tabsetClasses.list+=" nav-stacked col-xs-"+b.cfg.verticalTabWidth;b.tabsetClasses.content+=" col-xs-"+h;b.tabsetClasses.core+=" tabs-left";h=!1;break;case "vertical-right":h=b.cfg.verticalTabWidth;b.tabsetClasses.list+=" nav-stacked col-xs-"+(12-b.cfg.verticalTabWidth);b.tabsetClasses.content+=" col-xs-"+h;b.tabsetClasses.core+=" tabs-right";h=!1;break;case "horizontal-bottom":b.tabsetClasses.core+=" tabs-below",b.contentFirst=
!0}h&&a.parameters.config.justified&&(b.tabsetClasses.list+=" nav-justified");b.cfg.show_accordion_controls&&(b.tabsetClasses.core+=" show_accordion_controls");return b},template:qa},textbox:{format:b,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ctextarea tabindex\x3d"-1" style\x3d"display:block;height:100%;width:100%;" class\x3d"{{element_contentClass this}} form-control size_{{outline.parameters.config.size}}" id\x3d"content_{{outline.id}}"{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{/unless}}\x3e{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{outline.txt}}{{/unless}}{{/unless}}{{/unless}}\x3c/textarea\x3e')},
timeline:{format:function(a){var b=DKI.clone(a.parameters.config);a.elements.sort(function(a,b){return a.elementno-b.elementno});b.nodes=a.elements;b.timeline=a;return b},template:function(){Handlebars.registerHelper("timelineNode_hasImage",function(a,b){return a.parameters.config.elements_assets&&0<a.parameters.config.elements_assets.length?b.fn(this):b.inverse(this)});return Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3csection id\x3d"{{timeline.id}}_timeline" class\x3d"{{response}}"\x3e{{#each nodes}}\x3cdiv class\x3d"cd-timeline-block"\x3e\x3cdiv class\x3d"cd-timeline-img {{#if ../this.outline.parameters.config.enableEntrance}}is-hidden {{/if}}{{this.parameters.config.nodeCls}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content {{#if ../useBS}}panel panel-default {{/if}}{{#if ../this.outline.parameters.config.enableEntrance}}is-hidden{{/if}}"\x3e\x3cdiv class\x3d"elementContainer"\x3e{{#each this.elements}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/each}}\x3c/div\x3e\x3cspan class\x3d"cd-date"\x3e{{{this.meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3cdiv class\x3d"cd-timeline-block add"\x3e\x3cdiv class\x3d"cd-timeline-img"\x3e\x3cdiv\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e')}()},
timelineNode:{format:b,template:Handlebars.compile('{{#timelineNode_hasImage outline}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} img"style\x3d"{{#getArrayPos outline.parameters.config.elements_assets 0}} background-image:url(\'{{getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}\');{{/getArrayPos}}"\x3e\x3c/div\x3e{{else}}\x3ci id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.icon}}"\x3e\x3c/i\x3e{{/timelineNode_hasImage}}')},
timer:{format:function(a){return DKI.clone(a.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" data-variable-id\x3d\'{{variable_name}}\'\x3e\x3c/div\x3e')},toggle:{templates:{basic:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cinput class\x3d"{{inputCls}}" id\x3d"cb_{{id}}" type\x3d"checkbox"\x3e\x3clabel class\x3d"{{labelCls}}" for\x3d"cb_{{id}}" aria-label\x3d"{{{accessibilityText}}}" {{\x3e dataToggle}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e'),
swtch:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cspan class\x3d"tgl-container"\x3e\x3cinput type\x3d"checkbox"\x3e\x3clabel {{\x3e dataToggle}}\x3e\x3c/label\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e')},format:function(a){var b={light:{inputCls:"tgl tgl-light",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},iOS7:{inputCls:"tgl tgl-ios",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},
skewed:{inputCls:"tgl tgl-skewed",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},flat:{inputCls:"tgl tgl-flat",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},flip:{inputCls:"tgl tgl-flip",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},checkBox:{template:c.renderConfig.toggle.templates.basic,inputCls:"check"},checkBoxDark:{template:c.renderConfig.toggle.templates.basic,inputCls:"check dark"},checkBoxRound:{template:c.renderConfig.toggle.templates.basic,
inputCls:"check round"},checkBoxRoundDark:{template:c.renderConfig.toggle.templates.basic,inputCls:"check roundDark"},checkBoxRadio:{template:c.renderConfig.toggle.templates.basic,inputCls:"check radio"},"switch":{template:c.renderConfig.toggle.templates.swtch}}[a.parameters.config.type];b.id=a.id;b.meta=a.meta;b.accessibilityText=b.meta||a.parameters.accessibility.text;b.accessibilityText=b.accessibilityText.replace(/"/g,"\x26quot;");DKI.applyIf(b,a.parameters.config);return b},template:function(a){return a.template(a)}},
video:{format:b,template:Handlebars.compile('{{#if forTemplate}}{{\x3emultimedia_forEdit}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' style\x3d\'z-index:2000\' title\x3d\'Swap this video out with another from the media library.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cdiv style\x3d"width:100%;height:100%;{{#if renderEnv.responsive}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/if}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}" data-vimeo-id\x3d"{{outline.asset_parameters.vimeo.id}}" data-vimeo-src\x3d"{{outline.asset_parameters.vimeo.src}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}} data-allowFullScreen\x3d"true"{{else}} data-allowFullScreen\x3d"false"{{/element_multimedia_hasPlayerControl}}{{#if outline.asset_has_poster}}data-poster\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"{{/if}}{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3ca class\x3d"dki-media-link" style\x3d"width:100%;height:100%;" href\x3d"{{#if renderEnv.authoring}}{{else}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/if}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"dki-media-placeholder{{#if outline.asset_has_poster}} hasPoster{{/if}}" style\x3d"width:100%;height:100%;{{#if outline.asset_has_poster}}background-image: url(\'{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}{{/if}}\');"\x3e\x3c/div\x3e\x3c/a\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"video-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e{{#unless outline.asset_has_poster}}\x3cdiv class\x3d"video-poster-message"\x3e{{#ifEq outline.elementtype \'mediastream\'}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/ifEq}}{{#ifEq outline.elementtype \'video\'}}This video does not have a poster image.\x3cbr/\x3eAdd a poster to it by editing the video properties.{{/ifEq}}\x3c/div\x3e{{/unless}}{{/if}}\x3c/div\x3e{{/if}}')},
videoembed:{format:b,template:Handlebars.compile('{{#if renderEnv.template}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv style\x3d"{{#if outline.parameters.overflow}}height:100%;{{/if}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}{{element_videoEmbedStyle this}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e{{#ifEq outline.meta2 \'dynamic\'}}\x3ciframe src\x3d"about:blank;" data-src\x3d"{{element_videoEmbedURL this}}" style\x3d"border:none;height{{outline.height}}px;width:{{#if renderEnv.responsive}}100%;{{else}}{{outline.width}}px;"{{/if}}" frameborder\x3d"0"\x3e\x3c/iframe\x3e{{else}}{{{outline.meta}}}{{/ifEq}}\x3c/div\x3e{{/if}}')},
videoPlaylist:{format:$.proxy(function(a){var b=DKI.clone(a.parameters.config);b.strings={autoPlay:"auto play",skipToContent:this.state.strings?this.state.strings.index.skipToContent:"Skip to Content",skipToNavigation:this.state.strings?this.state.strings.index.skipToNavigation:"Skip to Navigation"};$.each(a.elements,function(){this.thumb="";var b=this.parameters.config.duration||0,h=DKI.utility.timeFunctions?DKI.utility.timeFunctions.convertMsToTime(b):DKI.utility.millisecondsToTime(b);this.duration=
b?h.h?h.h+"h":h.m?h.m+"m":h.s+"s":"";switch(a.parameters.config.type){case "youtubeEmbed":case "vimeoEmbed":this.thumb=this.parameters.config.thumbnail_url;this.vidId=this.parameters.config.id;break;default:this.vidId=this.id}});return b},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} flex{{#unless outline.parameters.config.showDescription}} noDesc{{/unless}}{{#unless outline.parameters.config.showTime}} noTime{{/unless}}{{#unless outline.parameters.config.showThumbnail}} noThumb{{/unless}} {{outline.parameters.config.response}}\" data-variable-id\x3d'{{variable_name}}'\x3e\x3cdiv class\x3d'dragD'\x3e\x3c/div\x3e\x3cdiv class\x3d'videoContainer flexAuto'\x3e\x3ch3 class\x3d'flex'\x3e\x3cspan class\x3d'vidTitle flexAuto'\x3e\x3c/span\x3e \x3ci class\x3d'fa vp-collapse h fa-chevron-right'\x3e\x3c/i\x3e\x3c/h3\x3e\x3cdiv class\x3d'vidWrapper'\x3e\x3c/div\x3e\x3ca tabindex\x3d'-1' href\x3d'javascript:void(0);' class\x3d'skipToMenu' aria-label\x3d'{{strings.skipToNavigation}}'\x3e\x3c/a\x3e\x3ci class\x3d'fa vp-collapse v fa-chevron-up'\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d'menu flex flexCol'\x3e\x3cdiv class\x3d'controls'\x3e\x3ci class\x3d'close-menu'\x3e\x3c/i\x3e\x3cdiv class\x3d'autoPlay'\x3e\x3cspan\x3e{{strings.autoPlay}}\x3c/span\x3e\x3cspan style\x3d'margin-left : 10px;'\x3e\x3cinput class \x3d 'tgl tgl-light' type\x3d'checkbox' id\x3d'autoplay_{{outline.id}}' {{#if outline.parameters.config.autoPlay}}checked{{/if}}/\x3e\x3clabel aria-label\x3d'{{strings.autoPlay}}' tabindex\x3d'1' class\x3d'tgl-btn' for\x3d'autoplay_{{outline.id}}'\x3e\x3c/label\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d'flexAuto'\x3e{{#each outline.elements}}\x3cli role\x3d'button' tabindex\x3d'1' data-id\x3d'{{this.id}}' aria-labeledby\x3d'title_{{this.id}}'\x3e\x3cdiv class\x3d'header flex'\x3e\x3cspan class\x3d'completion' style\x3d'position: relative; width: 20px height:20px;'\x3e\x3cdiv class\x3d'gauge notSeen'\x3e\x3cdiv class\x3d\"overlay\" style\x3d\"\"\x3e\x3ci class\x3d\"fa fa-play\"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan id\x3d'title_{{this.id}}' class\x3d'flexAuto menuVidTitle' style\x3d'margin: 0 10px;'\x3e{{this.title}}\x3c/span\x3e\x3cspan class\x3d'videoTime'\x3e{{duration}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d'videoInfo flex'\x3e\x3cdiv class\x3d'videoThumb' style\x3d\"background-image:url('{{thumb}}')\"\x3e\x3cdiv class\x3d'progress completion-bar'\x3e\x3cdiv class\x3d'progress-bar'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'videoDesc flexAuto'\x3e{{{this.description}}}\x3c/div\x3e\x3c/div\x3e\x3ca tabindex\x3d'1' href\x3d'javascript:void(0);' class\x3d'skipToContent' aria-label\x3d'{{../strings.skipToContent}}'\x3e\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")},
zoomRegion:{format:b,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv style\x3d"{{outline.cssstyle}}display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3c/div\x3e')},zoomRegion:{format:b,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv style\x3d"{{outline.cssstyle}}display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3c/div\x3e')}};
this.renderConfig.header=this.renderConfig.htm;this.renderConfig.panelHeader=this.renderConfig.htm;this.renderConfig.panelFooter=this.renderConfig.htm;this.renderConfig.richText=this.renderConfig.htm;this.renderConfig.plainText=this.renderConfig.htm;this.renderConfig.radioButton=this.renderConfig.htm;this.renderConfig.tileCardTitle=this.renderConfig.htm;this.renderConfig.tileCardSubtitle=this.renderConfig.htm;this.renderConfig.questionOpening=this.renderConfig.richText;this.renderConfig.questionBody=
this.renderConfig.richText;this.renderConfig.table=this.renderConfig.richText;this.renderConfig.mediastream=this.renderConfig.video};DKI.RenderService.prototype.setEnvironment=function(a){DKI.apply(this.state.renderEnvironment,a)};
DKI.RenderService.prototype.renderContent=function(a,c){var b="";c=c?c:{};c.typeConfig=c.typeConfig?c.typeConfig:this.state.typeConfig[a.elementtype];if(rCfg=c.typeConfig.isQuestion?this.renderConfig.option:this.renderConfig[a.elementtype])b=DKI.applyIf(rCfg.format(a,c),this.defaultArgs),b.scope=c,b.scope.renderRules||(b.scope=this.generateElementArguments(a,b.scope)),b.outline=b.outline?b.outline:a,b.fromContentRender=!0,b=rCfg.template(b);return b};
DKI.RenderService.prototype.renderElement=function(a,c){c=DKI.applyIf(c,this.defaultArgs);return Handlebars.compile("{{\x3e element}}")(DKI.applyIf({outline:a,scope:c},this.defaultArgs))};DKI.RenderService.prototype.renderGroups=function(a,c){c.content=this.sortGroupRowSections(a);c=DKI.applyIf(c,this.defaultArgs);return Handlebars.compile("{{\x3e groups}}")(DKI.applyIf(c,this.defaultArgs))};
DKI.RenderService.prototype.renderPage=function(a,c,b,k){a=DKI.applyIf({page:a,course:c,content:this.sortGroupRowSections(a.groups),standalone:b,class_name:k?k:"page"},this.defaultArgs);return Handlebars.compile("{{\x3e page}}")(a)};DKI.RenderService.prototype.generateGroupArguments=function(a,c){return DKI.applyIf({group:a,page:c.page},this.defaultArgs)};
DKI.RenderService.prototype.generateElementArguments=function(a,c,b){a=DKI.applyIf({element:a,typeConfig:this.state.typeConfig[a.elementtype],skipId:!1,forceVisibleInDocument:!0,page:c.page,state:this.state},this.defaultArgs);a.forTemplate="undefined"===typeof b?a.renderEnv.template:b;a.element.asset_parameters&&"string"===typeof a.element.asset_parameters&&(a.element.asset_parameters=JSON.parse(a.element.asset_parameters));""!==a.element.csseffect&&"string"===typeof a.element.csseffect&&(a.element.cssEffect=
JSON.parse(a.element.csseffect));a.renderRules=a.typeConfig.renderRules.claro;if(a.renderEnv.responsive||a.element.parent_element_id)a.renderRules=a.typeConfig.renderRules.flow;a.renderEnv.document&&(a.renderRules=a.typeConfig.renderRules.document);if(a.typeConfig.isRichText||"plainText"==a.element.elementtype)a.tagName=a.element.parameters.config.tag_name&&""!=a.element.parameters.config.tag_name?a.element.parameters.config.tag_name:"div";a.typeConfig.hasStackableElementElements&&$.each(a.element.elements,
function(){this.forcePosition=this.forceDimensions=!0});return a};
DKI.RenderService.prototype.registerPartials=function(){Handlebars.registerPartial("dataToggle",'data-off\x3d"{{offLabel}}" data-on\x3d"{{onLabel}}"');Handlebars.registerPartial("background","background-position:{{parameters.background.position.vertical}} {{parameters.background.position.horizontal}};background-repeat:{{parameters.background.repeat}};background-size:{{parameters.background.size}};background-attachment:{{parameters.background.attachment}};{{#if background_asset_id}}background-image:url('{{getAssetUrl id\x3dbackground_asset_id folderId\x3dbackground_asset_uploadfolderid extension\x3dbackground_asset_extension}}');{{/if}}");Handlebars.registerHelper("checkScope",
function(a){});Handlebars.registerPartial("element_getWrapperClass","{{#if element.parent_element_id}}dki-authoring-element-element {{else}}dki-authoring-element{{/if}} dki-{{element.elementtype}}-element{{#element_ifCanHaveDims}}{{else}} col-lg-{{element.parameters.responsive.layout.large.width}} col-md-{{element.parameters.responsive.layout.medium.width}} col-sm-{{element.parameters.responsive.layout.small.width}} col-xs-{{element.parameters.responsive.layout.xsmall.width}} col-lg-offset-{{element.parameters.responsive.layout.large.offset}} col-md-offset-{{element.parameters.responsive.layout.medium.offset}} col-sm-offset-{{element.parameters.responsive.layout.small.offset}} col-xs-offset-{{element.parameters.responsive.layout.xsmall.offset}}{{/element_ifCanHaveDims}}{{#if element.parameters.responsive.layout.large.hidden}} hidden-lg{{/if}}{{#if element.parameters.responsive.layout.medium.hidden}} hidden-md{{/if}}{{#if element.parameters.responsive.layout.small.hidden}} hidden-sm{{/if}}{{#if element.parameters.responsive.layout.xsmall.hidden}} hidden-xs{{/if}}{{#unless renderEnv.authoring}}{{#unless renderEnv.document}}{{#if element.renderhidden}} hiddenOnLoad{{/if}}{{/unless}}{{/unless}}{{#if renderEnv.document}}{{#if element.ignored_from_document_publish}}{{#unless forceVisibleInDocument}} hiddenOnLoad {{/unless}}{{/if}}{{/if}}{{#if element.parameters.hiddenUntilInView}} hiddenUntilInView {{/if}}{{#if renderEnv.authoring}}{{#if element.authoring_hidden}} authoring_hidden {{/if}}{{/if}}{{#ifEq element.elementtype 'audio'}}{{#if element.parameters.config.hideNarration}} hiddenNarration {{/if}}{{/ifEq}}{{#if element.parameters.config.hoverAnimation}} hoverAnimation_{{element.parameters.config.hoverAnimation}} {{/if}}{{#if element.parameters.config.disablePadding}} disablePadding {{/if}}{{#if element.parameters.config.disableClaroPadding}} disableClaroPadding {{/if}}{{#ifEq element.elementtype 'inlineQuestion'}} question-option-style-{{element.parameters.config.style.type}} {{#if element.parameters.config.style.attached}} question-option-attached {{/if}} question-option-color-{{element.parameters.config.style.color}} {{/ifEq}}{{#if element.locked}} locked {{/if}}{{#if element.parameters.config.upgraded}} upgraded {{/if}}");
Handlebars.registerPartial("element_getDataAttributes",'data-id\x3d"{{element.id}}" data-type\x3d"{{element.elementtype}}" data-elementtype\x3d"{{element.elementtype}}" data-opacity\x3d"{{element.opacity}}" data-cssclass\x3d"" data-title\x3d"{{element.title}}" data-description\x3d"{{element.description}}" data-placeholderid\x3d"{{element.placeholderid}}" data-templateLayout\x3d"{{element.templatelayout}}" data-narration\x3d"{{element.narration}}" data-elementno\x3d"{{element.elementno}}" data-templatebuttonid\x3d"{{templatebutton_id}}" data-assetid\x3d"{{element.upload_id}}" data-multimedia\x3d"{{typeConfig.isMultimedia}}" data-groupid\x3d"{{element.group_id}}" data-ignoredfromdocumentpublish\x3d"{{element.ignored_from_document_publish}}" data-rotation\x3d"{{element.rotation}}" data-text\x3d"{{element.txt}}"{{#if typeConfig.isRichText}} data-isrichtext\x3d"true"{{else}}data-isrichtext\x3d"false"{{/if}}{{#if typeConfig.examinable}} data-examinable\x3d"true"{{else}}data-examinable\x3d"false"{{/if}}{{#if element.parent_element_id}} data-parent_element_id\x3d"{{element.parent_element_id}}"{{/if}}{{#if element.draggable}}data-is-draggable \x3d"true"{{#ifEq page.pagetype \'question\'}}{{else}} data-isquestionelement\x3d\'false\'{{/ifEq}}{{else}} data-is-draggable\x3d"false"{{/if}} data-dragdropid\x3d"{{element.dragdrop_id}}" data-draggable-revert\x3d"{{element.parameters.draggable.revert}}" data-draggable-constrain-x\x3d"{{element.parameters.draggable.constrainX}}" data-draggable-constrain-y\x3d"{{element.parameters.draggable.constrainY}}" data-draggable-bring-to-front\x3d"{{element.parameters.draggable.bringToFront}}"{{#if element.droppable}} data-is-droppable\x3d"true" data-droppable-snap-to-center\x3d"{{element.parameters.droppable.snapToCenter}}"{{#ifEq page.pagetype \'question\'}} data-isquestionelement\x3d"true"{{else}} data-isquestionelement\x3d"false"{{/ifEq}}{{else}} data-is-droppable\x3d"false"{{/if}}{{#ifNEq element.elementtype \'htm\'}} data-meta\x3d"{{element.meta}}"{{/ifNEq}} data-renderHidden\x3d"{{element.renderhidden}}" data-dontPause\x3d"{{element.dontpause}}" data-dontHide\x3d"{{element.donthide}}" data-locked\x3d"{{#if element.locked}}true{{else}}false{{/if}}" data-shapeType\x3d"{{element.shapetype}}" data-csseffect\x3d"{{element.csseffect}}" data-height\x3d"{{element.height}}" data-width\x3d"{{element.width}}" data-x\x3d"{{element.x}}" data-y\x3d"{{element.y}}" data-backgroundassetid\x3d"{{element.background_asset_id}}" data-documentorder\x3d"{{element.document_order}}" data-textstyles-fontsize\x3d"{{element.parameters.textStyles.fontSize}}" data-textstyles-lineheight\x3d"{{element.parameters.textStyles.lineHeight}}" data-textstyles-classname\x3d"{{element.parameters.textStyles.className}}" data-responsive-alignment-vertical\x3d"{{element.parameters.responsive.vertical}}" data-responsive-alignment-horizontal\x3d"{{element.parameters.responsive.horizontal}}" data-margin-left\x3d"{{element.parameters.margin.left}}" data-margin-right\x3d"{{element.parameters.margin.right}}" data-margin-bottom\x3d"{{element.parameters.margin.bottom}}" data-margin-top\x3d"{{element.parameters.margin.top}}" data-padding-left\x3d"{{element.parameters.padding.left}}" data-padding-right\x3d"{{element.parameters.padding.right}}" data-padding-bottom\x3d"{{element.parameters.padding.bottom}}" data-padding-top\x3d"{{element.parameters.padding.top}}" data-background-color\x3d"{{element.parameters.background.color}}" data-background-position-horizontal\x3d"{{element.parameters.background.position.horizontal}}" data-background-position-vertical\x3d"{{element.parameters.background.position.vertical}}" data-background-repeat\x3d"{{element.parameters.background.repeat}}" data-background-size\x3d"{{element.parameters.background.size}}" data-border-top\x3d"{{element.parameters.border.top}}" data-border-left\x3d"{{element.parameters.border.left}}" data-border-bottom\x3d"{{element.parameters.border.bottom}}" data-border-right\x3d"{{element.parameters.border.right}}" data-border-radius\x3d"{{element.parameters.border.radius}}" data-accessibility-text\x3d"{{element.parameters.accessibility.text}}" data-accessibility-tabable\x3d"{{element.parameters.accessibility.tabable}}"{{#ifEq page.pagetype \'question\'}}{{element_getQuestionAtts this}}{{/ifEq}}');
Handlebars.registerPartial("element_getWrapperStyle","{{#element_ifCanHaveDims}}{{#ifNEq element.elementtype 'label'}}height:{{element.height}}px;{{/ifNEq}}width:{{element.width}}px;{{/element_ifCanHaveDims}}{{#element_ifCanHavePos}}left:{{element.x}}px;top:{{element.y}}px;position:absolute;{{/element_ifCanHavePos}}{{#unless renderEnv.responsive}}z-index:{{element.elementno}};{{else}}clear:{{element.parameters.responsive.clear}};{{/unless}}margin-top : {{element.parameters.margin.top}}%;{{#ifEq element.parameters.responsive.layout.large.offset 0}}{{#ifEq element.parameters.responsive.layout.medium.offset 0}}{{#ifEq element.parameters.responsive.layout.small.offset 0}}{{#ifEq element.parameters.responsive.layout.xsmall.offset 0}}{{#if element.parameters.margin.left}} margin-left:{{element.parameters.margin.left}}%;{{/if}}{{#if element.parameters.margin.right}} margin-right:{{element.parameters.margin.right}}%;{{/if}}{{/ifEq}}{{/ifEq}}{{/ifEq}}{{/ifEq}} margin-bottom: {{element.parameters.margin.bottom}}%;");
Handlebars.registerPartial("element_getContentWrapperStyle","{{element_opacity element}}{{element.cssstyle}}width:100%;height:100%;{{#if renderEnv.responsive}}min-height:{{element.parameters.responsive.minHeight}}px;min-width:{{element.parameters.responsive.minWidth}}px;{{#ifNEq element.parameters.padding.top 0}}padding-top:{{element.parameters.padding.top}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.bottom 0}}padding-bottom:{{element.parameters.padding.bottom}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.left 0}}padding-left:{{element.parameters.padding.left}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.right 0}}padding-right:{{element.parameters.padding.right}}%;{{/ifNEq}}{{/if}}{{\x3eborderStyle element.parameters.border}}{{#element_usesDefaultBackground typeConfig}}{{\x3eelement_backgroundCSSString element}}{{/element_usesDefaultBackground}}{{#if element.parameters.background.foreground}}{{#ifNEq element.parameters.background.foreground 'transparent'}}color:{{element.parameters.background.foreground}};{{/ifNEq}}{{/if}}{{#ifEq element.elementtype 'html'}}{{#ifEq element.parameters.config.embedType 'responsive'}}padding-bottom: {{element_htmlWidgetPadding this}}%;{{/ifEq}}{{#ifEq element.parameters.config.embedType 'fixed'}}overflow: auto !important;{{/ifEq}}{{/ifEq}}overflow:{{element.parameters.overflow}};");
Handlebars.registerPartial("element_backgroundCSSString","{{element_wrapperBgColour this}}{{#if this.background_asset_id}}background-image: url('{{getAssetUrl id\x3dthis.background_asset_id folderId\x3dthis.background_asset_uploadfolderid extension\x3dthis.background_asset_extension}}');{{/if}}background-position: {{this.parameters.background.position.vertical}} {{this.parameters.background.position.horizontal}};background-repeat:{{this.parameters.background.repeat}};background-size:{{this.parameters.background.size}};background-attachment:{{this.parameters.background.attachment}};");
Handlebars.registerPartial("borderStyle","{{#ifNEq this.right 'none'}}border-right:{{this.right}};{{/ifNEq}}{{#ifNEq this.left 'none'}}border-left:{{this.left}};{{/ifNEq}}{{#ifNEq this.bottom 'none'}}border-bottom:{{this.bottom}};{{/ifNEq}}{{#ifNEq this.top 'none'}}border-top:{{this.top}};{{/ifNEq}}{{#ifNEq this.radius 'none'}}border-radius:{{this.radius}};{{/ifNEq}}");Handlebars.registerPartial("element_getContentWrapperClass","dki-authoring-content-wrapper {{#element_usesDefaultBackground typeConfig}}{{BgClassName element.parameters.background}} {{/element_usesDefaultBackground}}{{#if typeConfig.applyDefaultBackground}}{{BgClassName element.parameters.background}} {{/if}} align-{{element.parameters.responsive.alignment.horizontal}}{{#ifEq element.elementtype 'inlineQuestionOption'}} dki-question-option {{/ifEq}}");
Handlebars.registerPartial("element_getContentClass","dki-element-content{{#if outline.parameters.textStyles.fontFamilyClass}} {{outline.parameters.textStyles.fontFamilyClass}}{{/if}}{{#if outline.parameters.textStyles.className}} {{outline.parameters.textStyles.className}}{{/if}}{{#ifEq elementTypeConfig.courseStyleSelector '\x3e .dki-authoring-content-wrapper \x3e .dki-element-content'}}{{courseStyles outline}}{{/ifEq}}{{#each outline.parameters.responsive.course_styles.large}} {{this}}-lg{{/each}}{{#each outline.parameters.responsive.course_styles.medium}} {{this}}-md{{/each}}{{#each outline.parameters.responsive.course_styles.small}} {{this}}-sm{{/each}}{{#each outline.parameters.responsive.course_styles.xsmall}} {{this}}-xs{{/each}}{{#if outline.cssclass}} {{outline.cssclass}}{{/if}}{{#ifEq elementTypeConfig.backgroundSelector '.dki-element-content'}} {{BgClassName outline.parameters.background}}{{/ifEq}}");
Handlebars.registerPartial("element",'{{#element_generateArguments scope\x3dthis.scope outline\x3dthis.outline forTemplate\x3dthis.forTemplate}}\x3cdiv id\x3d"{{element.id}}_wrapper" class\x3d"{{element_wrapperClass this}} {{element_cssFXClass element}}" {{element_dataAttributes this}} style\x3d"{{element_wrapperStyle this}}" {{#if renderEnv.authoring}} tabindex\x3d-1 {{/if}}\x3e\x3cdiv id\x3d"anchor_{{element.id}}" class\x3d"dki-element-anchor"{{#element_tabable element}}data-tabindex\x3d"1" tabIndex\x3d"1" {{#element_has_accessibility_text element}} aria-label\x3d"{{element.parameters.accessibility.text}}"{{/element_has_accessibility_text}}{{/element_tabable}}{{#ifEq element.elementtype \'button\'}}role\x3d"button"{{/ifEq}}\x3e\x3c/div\x3e{{#if renderEnv.authoring}}{{#element_isExamineable element}}\x3cdiv class\x3d"element-examine-mode-instructions"\x3e{{#if this.typeConfig.hasStackableElementElements}}Double click to add...{{else}}Double click to edit{{/if}}\x3c/div\x3e{{/element_isExamineable}}{{/if}}\x3cdiv class\x3d"element-feedback-icon feedback-tooltip-icon"\x3e\x3c/div\x3e{{#ifEq element.elementtype \'placeholder\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}{{#ifEq element.elementtype \'capture\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}\x3cdiv {{#unless cfg.skipId}}id\x3d"{{element.id}}_content_wrapper"{{/unless}} class\x3d"{{element_contentWrapperClass this}}" style\x3d"{{element_contentWrapperStyle this}}"\x3e{{#element_ifCSSFX element}}\x3cdiv class\x3d"cssFX-level1" style\x3d"{{element.cssEffect.lvl1.style}}"\x3e\x3cdiv class\x3d"cssFX-level2" style\x3d"{{element.cssEffect.lvl2.style}}"\x3e\x3cdiv class\x3d"cssFX-level3" style\x3d"{{element.cssEffect.lvl3.style}}"\x3e{{/element_ifCSSFX}}{{{element_renderContent this}}}{{#if this.typeConfig.hasStackableElementElements}}{{#with ../this}}{{\x3eelement_elementElementsWrapper}}{{/with}}{{/if}}{{#element_ifCSSFX element}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/element_ifCSSFX}}\x3c/div\x3e\x3c/div\x3e{{/element_generateArguments}}');
Handlebars.registerPartial("element_elementElementsWrapper",'\x3cdiv id\x3d"{{element.id}}_elements_wrapper" class\x3d"dki-authoring-element-elements-wrapper"\x3e{{#each element.elements}}{{\x3eelement outline\x3dthis scope\x3d../this forTemplate\x3d../this.forTemplate}}{{/each}}\x3c/div\x3e\x3cdiv class\x3d"element-feedback-icon feedback-tooltip-icon"\x3e\x3c/div\x3e');Handlebars.registerPartial("elementOverlay",'\x3cdiv class\x3d"dki-element-overlay" style\x3d"width:100%;height:100%"\x3e\x3c/div\x3e');
Handlebars.registerPartial("element_forTemplate",'{{#ifEq outline.templatelayout \'1\'}}\x3cdiv class\x3d"dki-template-placeholder" id\x3d"content_{{outline.id}}"style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"\x3e\x3c/div\x3e{{else}}{{\x3e element outline\x3doutline scope\x3dthis forTemplate\x3dfalse}}{{/ifEq}}');Handlebars.registerPartial("multimedia_forEdit",'\x3cdiv class\x3d"dki-media-placeholder dki-element-content{{#if outline.asset_has_poster}} hasPoster{{/if}}" id\x3d"content_{{outline.id}}" style\x3d"height:100%;width:100%;"\x3e{{#if outline.asset_has_poster}}\x3cimg style \x3d"height:100%;width:100%; src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}"/\x3e{{/if}}\x3c/div\x3e');
Handlebars.registerPartial("multimedia_forDocument_simple",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper {{outline.elementtype}}"\x3e\x3ctable\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{title}}\x3c/td\x3e\x3c/tr\x3e{{#each properties}}\x3ctr\x3e\x3ctd class\x3d"property"\x3e{{this.prop}}\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{this.value}}\x3c/td\x3e\x3c/tr\x3e{{/each}}\x3c/table\x3e\x3c/div\x3e');Handlebars.registerPartial("multimedia_forDocument",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper multimedia"\x3e\x3ctable class\x3d"{{#if outline.asset_has_poster}}poster{{/if}}"\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{outline.elementtype}} Element\x3c/td\x3e\x3c/tr\x3e{{#if outline.asset_has_poster}}\x3ctr\x3e\x3ctd colspan\x3d"2" class\x3d"poster"\x3e\x3cimg height\x3d"{{outline.height}}px" width\x3d"{{outline.width}}px" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"/\x3e\x3c/td\x3e\x3c/tr\x3e{{/if}}\x3ctr\x3e\x3ctd class\x3d"property"\x3eTitle\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.title}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eDescription\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.description}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eTranscript\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{{outline.transcript}}}\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e');
Handlebars.registerPartial("multimedia_flashParams",'\x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e\x3cparam name\x3d"quality" value\x3d"high"/\x3e\x3cparam name\x3d"play" value\x3d"{{#element_multimedia_hasPlayerControl this \'autoplay\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"loop" value\x3d"{{#element_multimedia_hasPlayerControl this \'loop\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"{{#if playerEnv.player}}sameDomain{{else}}never{{/if}}"/\x3e{{#if outline.meta2}}\x3cparam name\x3d"allowScriptAccess" value\x3d"{{outline.meta2}}"/\x3e{{/if}}');
Handlebars.registerPartial("group_getClass","dki-authoring-group {{group.parameters.cssClass}}{{#each group.parameters.layout.classes}}{{#group_classNotNumeric this}} {{this}}{{/group_classNotNumeric}}{{/each}} col-lg-{{group.parameters.dimensions.flow.large.width}} col-md-{{group.parameters.dimensions.flow.medium.width}} col-sm-{{group.parameters.dimensions.flow.small.width}} col-xs-{{group.parameters.dimensions.flow.xsmall.width}} col-lg-offset-{{group.parameters.dimensions.flow.large.offset}} col-md-offset-{{group.parameters.dimensions.flow.medium.offset}} col-sm-offset-{{group.parameters.dimensions.flow.small.offset}} col-xs-offset-{{group.parameters.dimensions.flow.xsmall.offset}}{{#if group.parameters.dimensions.flow.large.hidden}} hidden-lg{{/if}}{{#if group.parameters.dimensions.flow.medium.hidden}} hidden-md{{/if}}{{#if group.parameters.dimensions.flow.small.hidden}} hidden-sm{{/if}}{{#if group.parameters.dimensions.flow.xsmall.hidden}} hidden-xs{{/if}}{{#each group.parameters.course_styles}} {{this}}{{/each}}{{#if group.parameters.hiddenOnLoad}} hiddenOnLoad{{/if}}{{#if group.parameters.hiddenUntilinView}} hiddenUntilInView{{/if}}{{#if group.parameters.sticky}} dki-sticky-group{{/if}}{{#unless group.parameters.dimensions.flow.xsmall.gutters}} no-gutter-xs {{/unless}}{{#unless group.parameters.dimensions.flow.small.gutters}} no-gutter-sm {{/unless}}{{#unless group.parameters.dimensions.flow.medium.gutters}} no-gutter-md {{/unless}}{{#unless group.parameters.dimensions.flow.large.gutters}} no-gutter-lg {{/unless}}");
Handlebars.registerPartial("group_getStyle","{{#unless renderEnv.responsive}}z-index:{{group.order}}{{/unless}}{{#if renderEnv.responsive}} min-height: {{group.parameters.dimensions.flow.minHeight}}px; min-width: {{group.parameters.dimensions.flow.minWidth}}px;{{#ifNEq group.parameters.clear ''}} clear:{{group.parameters.clear}};{{/ifNEq}}{{/if}}");Handlebars.registerPartial("group_getElementWrapperStyle","{{opacity group.parameters.background}} {{#group_hasBackground group}} {{\x3ebackground group}} {{/group_hasBackground}} {{\x3eborderStyle group.parameters.border}} ");
Handlebars.registerPartial("group_getDataAttributes",'data-id\x3d"{{group.id}}"data-batch-id\x3d"{{group.parameters.batch.id}}"data-is-question-choice-group\x3d"{{group.parameters.is_question_choice_group}}"data-title\x3d"{{group.title}}"');Handlebars.registerPartial("group",'\x3cdiv id\x3d"group_{{group.id}}" class\x3d"{{\x3egroup_getClass this}}" style\x3d"{{\x3egroup_getStyle this}}" {{\x3egroup_getDataAttributes this}}\x3e\x3cdiv class\x3d"dki-authoring-group-elements-wrapper clearfix {{BgClassName group.parameters.background}}" style\x3d"{{\x3egroup_getElementWrapperStyle this}}"\x3e{{#each group.elements}}{{\x3e element outline\x3dthis scope\x3d../this}}{{/each}}\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("groups","{{#each content}}{{#ifEq this.type 'group'}}{{#group_generateArguments outline\x3ditems scope\x3d../../this}}{{\x3e group this}}{{/group_generateArguments}}{{/ifEq}}{{#ifEq this.type 'section'}}{{\x3e section section\x3dthis scope\x3d../../this}}{{/ifEq}}{{#ifEq this.type 'row'}}{{\x3e row row\x3dthis scope\x3d../../this}}{{/ifEq}}{{/each}}");Handlebars.registerPartial("row",'\x3cdiv class\x3d"dki-authoring-row clearfix {{row.classString}}" style\x3d"width:100%;{{row.styleString}}" data-vertical-align\x3d"{{row.firstGroup.parameters.layout.row_config.vertical_align}}" id\x3d"{{row.firstGroup.parameters.batch.row_index}}_{{row.firstGroup.parameters.batch.id}}"\x3e{{#each row.items}}{{#group_generateArguments outline\x3dthis scope\x3d../scope}}{{\x3e group this}}{{/group_generateArguments}}{{/each}}\x3c/div\x3e');
Handlebars.registerPartial("section",'\x3cdiv class\x3d"dki-authoring-section {{section.classString}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.decoration \'\'}}has-top-decoration{{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.bottom_decoration \'\'}}has-bottom-decoration{{/ifNEq}}" style\x3d"width:100%;{{section.styleString}}" data-section-height\x3d"{{section.firstGroup.parameters.layout.layout_config.section_height}}" data-vertical-align\x3d"{{section.firstGroup.parameters.layout.layout_config.vertical_align}}" data-id\x3d"{{section.firstGroup.parameters.layout.layout_id}}_{{section.firstGroup.parameters.batch.id}}"\x3e{{#ifEq section.firstGroup.parameters.background.attachment \'fixed\'}}\x3cdiv class\x3d"dki-authoring-section-fixed-background"\x3e\x3cpicture\x3e\x3cimg src\x3d"{{getAssetUrl id\x3dsection.firstGroup.background_asset_id folderId\x3dsection.firstGroup.background_asset_uploadfolderid extension\x3dsection.firstGroup.background_asset_extension}}"/\x3e\x3c/picture\x3e\x3c/div\x3e{{/ifEq}}\x3cdiv class\x3d"section-decoration top"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dfalse}}\x3c/div\x3e{{#each section.items}}{{\x3e row row\x3dthis scope\x3d../scope}}{{/each}}\x3cdiv class\x3d"section-decoration bottom"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.bottom_decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dtrue}}\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("rowStyle","{{opacity group.parameters.layout.row_config.background}}{{#if hasMaxWidth}}max-width:{{max_width}}px;float:{{align}};{{/if}}");Handlebars.registerPartial("rowClass","{{BgClassName group.parameters.layout.row_config.background}} {{#if group.parameters.layout.row_config.reverse_order}} reverse-order {{/if}}{{#if group.parameters.layout.row_config.synchronizeHeights}} synchronize-heights {{/if}}{{#unless group.parameters.layout.row_config.gutters.xsmall}} no-gutter-xs {{/unless}}{{#unless group.parameters.layout.row_config.gutters.small}} no-gutter-sm {{/unless}}{{#unless group.parameters.layout.row_config.gutters.medium}} no-gutter-md {{/unless}}{{#unless group.parameters.layout.row_config.gutters.large}} no-gutter-lg {{/unless}}");
Handlebars.registerPartial("sectionStyle","{{opacity group.parameters.layout.layout_config.background}}");Handlebars.registerPartial("sectionClass","{{BgClassName group.parameters.layout.layout_config.background}} {{#if group.parameters.layout.layout_config.section_height}}dki-section-height {{/if}}{{#if group.parameters.layout.layout_config.super_section}}super-section {{/if}}");Handlebars.registerPartial("rowOrSectionStyle","{{\x3ebackground group}}{{#unless renderEnv.responsive}}z-index:{{group.order}};{{/unless}}");
Handlebars.registerPartial("rowOrSectionClass","{{#ifEq group.parameters.background.attachment 'fixed'}} dki-bg-attach-fixed{{/ifEq}}{{#each group.parameters.course_styles}} {{this}}{{/each}} {{group.parameters.background.animation}}");Handlebars.registerPartial("page_getStyle","z-index:0;{{#if page.parameters.background.foreground}}{{#ifNEq page.parameters.background.foreground 'transparent'}}color:{{page.parameters.background.foreground}};{{/ifNEq}}{{/if}}");Handlebars.registerPartial("page_getBackgroundStyle",
"{{opacity page.parameters.background}}background-position:{{page.parameters.background.position.vertical}} {{page.parameters.background.position.horizontal}};background-repeat:{{page.parameters.background.repeat}};background-size:{{page.parameters.background.size}};{{#page_BGFixed page standalone}}position: fixed;height: 100vh;width: 100vw;{{else}}position: absolute;height: 100%;width: 100%;{{/page_BGFixed}}{{#if page.background_asset_id}}background-image:url('{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}');{{/if}}");
Handlebars.registerPartial("page_getDataAttributes",'{{page_forPreview this}} data-pagetype\x3d"{{page.pagetype}}" data-pageid\x3d"{{page.pageid}}" data-locked\x3d"{{#if page.locked}}true{{else}}false{{/if}}"{{#if page.background_asset_id}} data-background-url\x3d"{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}"{{/if}}{{#ifEq page.pagetype \'question\'}} data-questiontype\x3d"{{page.question.type}}"{{#if page.question.max_selections}} data-max-selections\x3d"{{page.question.max_selections}}"{{/if}}{{/ifEq}}');
Handlebars.registerPartial("page_getClass"," {{pageBgClassName page.parameters.background}} ");Handlebars.registerHelper("pageBgClassName",function(a,c){var b=[a.class_name,a.opacity_class_name];"transparent"==a.color&&""==a.color&&""===b&&(b=["bg-transparent"]);c.data.root.page.question&&(b.push("question-option-style-"+c.data.root.page.question.parameters.optionStyle.type),b.push("question-option-color-"+c.data.root.page.question.parameters.optionStyle.class_name),c.data.root.page.question.parameters.optionStyle.attached&&
b.push("question-option-attached"));return b.join(" ")});Handlebars.registerPartial("page_getBackgroundClass","pageBackground {{page.parameters.background.animation}}");Handlebars.registerPartial("page",'\x3cdiv id\x3d"page_background_{{page.pageid}}" data-forPage\x3d"page_{{page.pageid}}" class\x3d"{{\x3e page_getBackgroundClass}}" style\x3d"{{\x3e page_getBackgroundStyle}}"\x3e\x3c/div\x3e{{#if standalone}}\x3cdiv class\x3d"page-standalone"\x3e{{/if}}\x3cdiv id\x3d"page_{{page.pageid}}" class\x3d"pageElementsWrapper {{\x3e page_getClass}} {{class_name}}" {{\x3e page_getDataAttributes}} style\x3d"{{\x3e page_getStyle}}"\x3e{{\x3egroups this}}\x3c/div\x3e{{#if standalone}}\x3c/div\x3e{{/if}}')};
DKI.RenderService.prototype.registerHelpers=function(){Handlebars.registerHelper("ifEq",function(a,c,b){return a==c?b.fn(this):b.inverse(this)});Handlebars.registerHelper("ifNEq",function(a,c,b){return a!=c?b.fn(this):b.inverse(this)});Handlebars.registerHelper("forPreview",function(a,c){return a.single||a.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("trim",function(a,c){return new Handlebars.SafeString(a.trim())});Handlebars.registerHelper("getColour",$.proxy(function(a,c){return this.getColour(a)},
this));Handlebars.registerHelper("getArrayPos",function(a,c,b){return b.fn(a[c])});Handlebars.registerHelper("mult",function(){var a=0;if(0<arguments.length&&parseInt(arguments[0],10)==arguments[0])for(var a=arguments[0],c=1;c<arguments.length;c++)parseInt(arguments[c],10)==arguments[c]&&(a*=arguments[c]);return a});Handlebars.registerHelper("arith",function(a,c,b,k){return c.match(/^([\>\<\+\-\*\/\%~(\=){1,3}])*$/)?eval(a+c+b):null});Handlebars.registerHelper("designLegacy",$.proxy(function(a){return this.state.design.legacy},
this));Handlebars.registerHelper("getVar",$.proxy(function(a,c){return"{{"+a+"}}"},this));Handlebars.registerHelper("getAssetUrl",$.proxy(function(a,c){return this.getAssetUrl({outline:a.hash.outline,folderId:a.hash.folderId,id:a.hash.id,extension:a.hash.extension,poster:a.hash.poster})},this));Handlebars.registerHelper("getAssetThumb",$.proxy(function(a,c){c=this.state.baseUrl+"/content/authoringToolDB/";var b=a.hash.el;a.data.root.renderEnv.export&&(c="assets/");if(b.asset_has_poster||"image"==
b.elementtype)c="svg"==a.hash.exntension?c+"DOSVG":c+("thumbs/"+a.hash.id+".png");return c},this));Handlebars.registerHelper("opacity",$.proxy(function(a,c){return a.color&&"transparent"!=a.color&&"#transparent"!=a.color?"background-color:"+this.state.utility.hexToRGB(a.color,a.transparency?100-a.transparency:100)+";":""},this));Handlebars.registerHelper("element_ifCanHaveDims",function(a,c){c=a.data.root.fromContentRender?a.data.root.scope.renderRules:a.data.root.renderRules;return(a.data.root.fromContentRender?
a.data.root.outline:a.data.root.element).forceDimensions?a.fn(this):c.useDimensions?a.fn(this):a.inverse(this)});Handlebars.registerHelper("element_ifCanHavePos",function(a,c){c=a.data.root.renderRules;return a.data.root.element.forcePosition?a.fn(this):c.usePosition?a.fn(this):a.inverse(this)});Handlebars.registerHelper("element_ifCSSFX",function(a,c){return a.cssEffect?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_isExamineable",function(a,c){return c.data.root.typeConfig[a.elementtype].examinable?
c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_cssFXClass",function(a,c){c="";a.cssEffect&&(c="cssFX cssFX-"+a.cssEffect.base,c+="1"==a.cssEffect.reflect?" cssFX-slctr-Reflect":"");return c});Handlebars.registerHelper("element_tabable",function(a,c){return"spacer"!=a.elementtype&&"groupSpacer"!=a.elementtype&&"rowSpacer"!=a.elementtype&&"elementSpacer"!=a.elementtype&&"inlineQuestionOption"!=a.elementtype&&"panelHeader"!=a.elementtype&&a.parameters.accessibility.tabable?c.fn(this):
c.inverse(this)});Handlebars.registerHelper("element_has_accessibility_text",function(a,c){return""!=a.parameters.accessibility.text?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_htmMeta",$.proxy(function(a,c){var b=this;c=$("\x3cdiv /\x3e").html(a.outline.meta);if(a.renderEnv.export){for(var k={},l=0;l<a.outline.parameters.config.elements_assets.length;l++)k[a.outline.parameters.config.elements_assets[l].uploadid]=a.outline.parameters.config.elements_assets[l].extention;c.find("img:not([src^\x3ddata])").each(function(){var a=
$(this).attr("src").replace(/\//g,"\\").split("\\").pop();0>a.indexOf(".")&&k[a]&&(a+="."+k[a]);$(this).attr("src","assets/"+a)})}else c.find("img:not([src^\x3ddata])").each(function(){$(this).attr("src",b.state.baseUrl+"admin/editor2/AssetManager/asset.cfm/"+$(this).data("id"))});if("table"==a.outline.elementtype){var l=c.find("table"),p="table";l.attr("class")&&(p+=" "+l.attr("class"));$.each(a.outline.parameters.config.styles,function(a,b){b&&(p+=" table-"+a)});l.attr("class",p);l.after($("\x3ca href\x3d'#' tabindex\x3d'1' class\x3d'tableFocusCatcher' /\x3e"))}return new Handlebars.SafeString(c.html())},
this));Handlebars.registerHelper("element_htmHeight",function(a,c){c="";if("table"==a.elementtype||a.parameters.overflow&&"visible"!=a.parameters.overflow)c="height:100%";if("flipCardSet"==a.elementtype||"matchCardSet"==a.elementtype)c="height:auto;";return c});Handlebars.registerHelper("element_opacity",function(a,c){c="";100>a.opacity&&(c=a.opacity/100,c="-moz-opacity:"+c+";opacity:"+c+";filter:alpha(opacity\x3d"+a.opacity+");");return c});Handlebars.registerHelper("element_wrapperBgColour",$.proxy(function(a,
c){c="";var b=a.parameters.background;a=a.parameters.background.transparency;"transparent"!=b.color&&"none"!=b.color&&b.color&&""===b.class_name&&(c="background-color:"+this.state.utility.hexToRGB(b.color,"undefined"==typeof a?100:100-a)+";");return c},this));Handlebars.registerHelper("element_getQuestionAtts",function(a,c){c=a.page;for(var b=' data-isquestionelement\x3d"false"',k=0;k<c.question.options.length;k++){var l=c.question.options[k];l.elementId==a.element.id&&(b="",b+=' data-isquestionelement\x3d"true"',
b+=' data-isquestionoption\x3d"true"',l.correctTargets&&(b+='data-correcttargets\x3d"'+l.correctTargets.join()+'"'),l.feedback&&(l=l.feedback.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/\"/g,"\x26quot;"),b+=' data-feedback\x3d"'+l+'"'))}if(""!=a.element.option_parameters)try{var p=JSON.parse(a.element.option_parameters);!p||1!=p.randomized&&"YES"!=p.randomized.toUpperCase()||(b+='data-randomized\x3d"true"')}catch(m){}if("questionOpening"==a.element.elementtype||
"questionBody"==a.element.elementtype)b=' data-isquestionelement\x3d"true" ';return new Handlebars.SafeString(b)});Handlebars.registerHelper("element_imageMapEventFunction",function(a,c){c="";if(a.href){var b=a.href.split(","),k=b[0],l=b[1],p=b[3],m=b[4],q=b[5],h="";c+="data-hidetargetonload\x3d'"+b[2]+"'";1==p&&(h+="hideAllEventElements();");k==l?(h+="showHideElement('"+a.hreftarget+"','"+m+"','"+q+"');",c+=" "+k+'\x3d"'+h+'"'):(h+="showElement('"+a.hreftarget+"','"+m+"');",c+=" "+k+'\x3d"'+h+'" ',
"none"!=l&&(c+=" "+l+"\x3d\"hideElement('"+a.hreftarget+"','"+q+"');\""))}return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_htmlWidgetPath",function(a,c){return new Handlebars.SafeString("/"+a.asset_parameters.LAUNCHFILE+"?elementid\x3d"+a.id)});Handlebars.registerHelper("element_htmlWidgetScrolling",function(a,c){c=a.outline;var b=c.asset_parameters,k="no";if("on"==b.scrolling)k="yes";else if("auto"==b.scrolling)k="auto";else if(a.renderEnv.responsive&&"responsive"==c.parameters.config.embedType||
"adaptive"==c.parameters.config.embedType)k="no";return k});Handlebars.registerHelper("element_htmlWidgetStyle",function(a,c){c=a.outline;var b="height:"+c.height+"px;";return b=a.renderEnv.responsive&&""==c.parameters.config.embedType?b+("width: 100%;max-width:"+c.width+"px"):b+("width:"+c.width+"px")});Handlebars.registerHelper("element_htmlWidgetPadding",function(a,c){a=a.element;return a.asset_height/a.asset_width*100});Handlebars.registerHelper("element_capture_getTemplate",function(a,c){return"capture_"+
a});Handlebars.registerHelper("element_multimedia_hasPlayerControl",function(a,c,b){var k=0<=a.outline.meta.search(c);"video"==a.outline.elementtype&&"autoplay"==c&&(k=!a.renderEnv.authoring&&k?!0:!1);return k?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_capture_hasStepDuration",function(a,c){return!a.stepDuration||0>=a.stepDuration?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_capture_getTime",function(a,c){c=(6E5>a?"0":"")+Math.floor(a/6E4)+":";return c+=(1E4>
a%6E4?"0":"")+Math.floor(a/1E3%60)});Handlebars.registerHelper("element_capture_showMeImage",function(a,c){var b=a.imageURL;switch(c.showMeImageType){case "EMPTY":b=a.imageURL;break;case "HOTSPOT":b=a.hotSpotImageURL;break;case "HOTSPOT_ANNOTATION":b=a.fullImageURL}return b});Handlebars.registerHelper("element_capture_show_markerList",function(a,c,b){return 0<a.markers.length&&"HOTSPOT_ANNOTATION"==c.showMeImageType?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_capture_getJobAidName",
function(a){a=(a=a.name)||"";return(a?a.replace("[^a-zA-Z0-9]","-"):a)+"-job-aid.pdf"});Handlebars.registerHelper("element_option_renderNumbering",function(a,c){c=a.scope.page.question;return"none"==c.numbering?new Handlebars.SafeString("\x26nbsp;"):new Handlebars.SafeString("\x3cspan class\x3d'optionNumber'\x3e"+({letter:"abcdefgh".split(""),caps:"ABCDEFGH".split(""),number:"12345678".split(""),roman:"i ii iii iv v vi vii viii".split(" ")}[c.numbering][a.optionNo-1]+(5!==a.scope.page.question.type?
") ":""))+"\x3c/span\x3e")});Handlebars.registerHelper("element_option_getCorrect",function(a,c){c=a.renderEnv;var b="";if(c.single||c.full||a.forTemplate)c=a.scope.element.elementtype,b="","fillBlanksOption"==c?b=a.option.parameters.correctValues.join():"multiPulldownOption"==c?b=a.option.parameters.correctValue:"trueFalseOption"==c?b=a.option.parameters.correct:"multiChoiceOption"==c&&(b=a.option.parameters.correct?"true":"false"),b='data-correctresponse\x3d"'+b+'"';return Handlebars.SafeString(b)});
Handlebars.registerHelper("element_option_getPartial",function(a,c){return new Handlebars.SafeString("option_"+a)});Handlebars.registerHelper("element_forDocument",function(a,c){c="multimedia_forDocument";var b={outline:a};if("html"==a.elementtype)c="multimedia_forDocument_simple",b.title="HTML Widget Element",b.properties=[{prop:"title",value:a.title},{prop:"description",value:a.description}];else if("iframe"==a.elementtype)c="multimedia_forDocument_simple",b.title="External Webpage",b.properties=
[{prop:"URL",value:a.src}];else if("mediastream"==a.elementtype)c="multimedia_forDocument_simple",b.title="Media Stream Element",b.properties=[{prop:"URL",value:a.src}];else if("videoembed"==a.elementtype){c="multimedia_forDocument_simple";var k=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,l=a.meta.match(k);b.title="Embedded Video";b.properties=l[0]?[{prop:"URL",value:a.meta.slice(a.meta.search(k),l[0].length)}]:[{prop:"Embed Code",value:a.meta}]}return new Handlebars.SafeString(Handlebars.compile("{{\x3e"+
c+"}}")(b))});Handlebars.registerHelper("element_iframe_getProperties",function(a,c){a=a.meta.split(";");return new Handlebars.SafeString(' scrolling\x3d"'+a[0].split(":").pop()+'" frameborder\x3d"'+a[1].split(":").pop()+'"')});Handlebars.registerHelper("element_videoEmbedURL",$.proxy(function(a,c){return"dynamic"==a.outline.meta2?a.renderEnv.export?"assets/elements/"+a.outline.id+"/tempVideoEmbed.html":this.state.baseUrl+"ajax/element.cfm/"+a.outline.id+"/videoEmbedTemp.html":a.outline.meta},this));
Handlebars.registerHelper("element_videoEmbedStyle",$.proxy(function(a,c){c="";a.renderEnv.responsive&&(c+="padding-bottom:"+a.outline.height/a.outline.width*100+"%;");return c},this));Handlebars.registerHelper("element_svg_setMeta",$.proxy(function(a,c){c=$("\x3cdiv/\x3e").append(a.meta);colour=a.parameters.config.colors.fill;stroke=a.parameters.config.atts.stroke;0<=color.search("designcolor")&&(colour=this.getColour(colour),c.find("path:not(#raphael-marker-block),circle,rect:not([fill\x3dnone])").attr("fill",
colour));0<=stroke.search("designcolor")&&(stroke=this.getColour(stroke),c.find("path:not(#raphael-marker-block)").attr("stroke",stroke),c.find("marker\x3euse").attr("fill",stroke));return Handlebars.SafeString(c.html())},this));Handlebars.registerHelper("element_generateArguments",$.proxy(function(a){return a.fn(this.generateElementArguments(a.hash.outline,a.hash.scope,a.hash.forTemplate))},this));Handlebars.registerHelper("element_dataAttributes",function(a,c){c=Handlebars.compile("{{\x3eelement_getDataAttributes}}")(a);
a.ignoreExamine&&(c+=' data-ignoreExamine\x3d"true"');if(a.typeConfig.isMultimedia)if(c+=' data-loop\x3d"'+(0<=a.element.meta.search("loop")?"true":"false")+'"',c+='" data-autoplay\x3d"'+(0<=a.element.meta.search("autoplay")?"true":"false")+'"',c+='" data-transcript\x3d"'+(a.element.asset_transcript?!0:!1)+'"',a.element.asset_parameters&&a.element.asset_parameters.bookmarks&&0<a.element.asset_parameters.bookmarks.length&&(c+='" data-bookmarks\x3d"'+escape(JSON.stringify(a.element.asset_parameters.bookmarks))+
'"'),"video"==a.element.elementtype&&(c+=' data-allowfullscreen\x3d"'+(0<=a.element.meta.search("allowfullscreen")?"true":"false")+'"',c+=' data-hidecontrols\x3d"'+(0<=a.element.meta.search("hidecontrols")?"true":"false")+'"'),"flash"==a.element.elementtype)c+='data-allowFullScreen\x3d"'+(0<=a.element.meta.search("allowFullScreen")?"true":"false")+'"',c+='data-flashvars\x3d"'+a.element.meta2+'"';else if("audio"==a.element.elementtype)c+=' data-playerskin\x3d"'+(0<=a.element.meta.search("playerskin")?
"true":"false")+'"',c+=' data-hidecontrols\x3d"'+(0<=a.element.meta.search("hidecontrols")?"true":"false")+'"';else if("mediastream"==a.elementtype){var b="",k="";a.element.meta&&(k=a.element.meta.split(";"),b=k[0].split(":").pop(),k=k[1].split(":").pop(),b="all"==b?"":b,k="all"==k?"":k);b&&(c+=' data-starttime\x3d"'+b+'"');k&&(c+=' data-endtime\x3d"'+k+'"')}if("body"==a.element.elementtype||"opening"==a.elementtype)c+=' data-isquestionelement\x3d"true"';else if("spacer"==a.element.elementtype)c+=
' data-isspacer\x3d"true"';else if("shape"!=a.element.elementtype)if("image"==a.element.elementtype){if(c+=' data-rolloverassetid\x3d"'+a.element.rollover_asset_id+'"',k=b="",""!=a.element.meta&&(k=a.element.meta.split(";"),b=k.shift(),k=k.pop()),c=c+(" data-rollovereffect\x3d'"+b+"'")+(" data-rollouteffect\x3d'"+k+"'"),a.element.imageMaps&&0<a.element.imageMaps.length){c+=" data-actiontype\x3d'imagemap' data-actiontargets\x3d\"";var l=[];$.each(a.element.imageMaps,function(a,b){l.push(this.hreftarget)});
c+=l.join()+'"'}}else"flipCard"==a.element.elementtype&&(c+="data-fliptrigger\x3d'"+a.element.parameters.config.trigger+"'");if(a.page.pageLinks)for(b=0;b<a.page.pageLinks.length;b++)k=a.page.pageLinks[b],k.active&&a.element.id==k.source_element_id&&(c+=' data-actiontype\x3d"pagelink" data-actiontargets\x3d"'+k.target_subeo_id+'"');return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_wrapperClass",function(a,c){c=Handlebars.compile("{{\x3eelement_getWrapperClass}}")(a);a.typeConfig.isQuestion&&
"none"===a.page.question.numbering&&(c+=" noNumbering");if(a.typeConfig.hasStackableElementElements)c+=" stackable_element";else if("label"==a.element.elementtype){var b=" "+a.element.parameters.config.class_name;c+=b}else"capture"==a.element.elementtype&&(b=" "+a.element.parameters.config.type,c+=b);c+=a.element.isContentContainer?" contentContainer":"";return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_wrapperStyle",function(a,c){c=Handlebars.compile("{{\x3eelement_getWrapperStyle}}")(a);
"zoomeRegion"==a.element.elementtype&&(a.renderEnv.single||a.renderEnv.full||a.renderEnv.export||a.renderEnv.template)&&(c+="pointer-events:none;");"videoembed"==a.element.elementtype&&a.renderEnv.responsive&&("center"==a.element.parameters.responsive.alignment.horizontal?c+="justify-content: center;-ms-pack:center;":"right"==a.element.parameters.responsive.alignment.horizontal&&(c+="justify-content: flex-end;-ms-pack:flex-end;"));return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentWrapperStyle",
function(a,c){c=Handlebars.compile("{{\x3eelement_getContentWrapperStyle}}")(a);"videoembed"==a.element.elementtype&&a.renderEnv.responsive&&(c+="max-width:"+a.element.width+"px;");return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentWrapperClass",function(a,c){c=Handlebars.compile("{{\x3eelement_getContentWrapperClass}}")(a);"flipCard"==a.element.elementtype&&a.element.parameters.config.flipIcon&&(c+=" includeFlipIcon");return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentClass",
function(a,c){a.elementTypeConfig=a.typeConfig[a.outline.elementtype];c=Handlebars.compile("{{\x3eelement_getContentClass}}")(a);"body"==a.outline.elementtype&&(c+=" questionBody");"image"==a.outline.elementtype&&"png"==a.outline.asset_extension&&(c+=" pngFix");"video"==a.outline.elementtype&&a.outline.parameters.config.hidePlayHead&&(c+=" hidePlayerHead");"table"==a.outline.elementtype&&a.renderEnv.responsive&&(c+=" table-responsive");"opening"==a.outline.elementtype&&(c+=" questionOpening");if("btn"==
a.outline.elementtype){var b=" btn "+a.outline.parameters.config.class_name+" "+a.outline.parameters.config.size+" "+a.outline.parameters.config.shape;a.outline.parameters.config.icon.enabled||(b+=" icon-hidden");a.outline.parameters.config.righticon.enabled||(b+=" righticon-hidden");a.outline.parameters.config.showLabel||(b+=" text-hidden");a.outline.parameters.config.block&&(b+=" btn-block");a.outline.parameters.config.toggleable&&(b+=" toggleable");a.outline.parameters.config.stay_toggled&&(b+=
" stay-toggled");c+=b}"dropTarget"==a.outline.elementtype&&(b=" dropTarget "+a.outline.parameters.config.class_name+" "+a.outline.parameters.config.shape,a.outline.parameters.config.icon.enabled||(b+=" icon-hidden"),a.outline.parameters.config.showLabel||(b+=" text-hidden"),c+=b);"inlineQuestionOption"==a.outline.elementtype&&a.outline.parameters.config.correct&&a.renderEnv.authoring&&(c+=" correct");"label"==a.outline.elementtype&&(b="",a.outline.parameters.config.icon.enabled||(b+=" icon-hidden"),
c+=b);"capture"==a.outline.elementtype&&(b="",a.outline.parameters.config.showSteps||(b+=" hide-steps"),c+=b);"timer"==a.outline.elementtype&&(b=["clearfix"],a.outline.parameters.config.timerStyle&&b.push(a.outline.parameters.config.timerStyle),a.outline.parameters.config.bgClass&&b.push(a.outline.parameters.config.bgClass),a.outline.parameters.config.timerSize&&b.push(a.outline.parameters.config.timerSize),a.outline.parameters.config.timerVariant&&b.push(a.outline.parameters.config.timerVariant),
c+=0<b.length?" "+b.join(" "):"");return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_renderContent",$.proxy(function(a,c){return new Handlebars.SafeString(this.renderContent(a.element,a))},this));Handlebars.registerHelper("image_showMaps",function(a,c){return a.export||a.single||a.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_ifAudioForEdit",function(a,c){return!a.export&&!a.full||a.template?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_ifFlashForEdit",
function(a,c){return!a.export&&!a.full||a.template?c.fn(this):c.inverse(this)});Handlebars.registerHelper("multimedia_ifRegisterSwfObject",function(a,c){return a.export||a.single||a.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_usesDefaultBackground",function(a,c){return"\x3e .dki-authoring-content-wrapper"==a.backgroundSelector||-1!=a.backgroundSelector.indexOf(", \x3e .dki-authoring-content-wrapper")||-1!=a.backgroundSelector.indexOf("\x3e .dki-authoring-content-wrapper,")?
c.fn(this):c.inverse(this)});Handlebars.registerHelper("group_generateArguments",$.proxy(function(a){return a.fn(this.generateGroupArguments(a.hash.outline,a.hash.scope))},this));Handlebars.registerHelper("group_classNotNumeric",function(a,c){a=a.split("-").pop();return isNaN(a)?c.fn(this):c.inverse(this)});Handlebars.registerHelper("group_hasBackground",function(a,c){return""===a.parameters.layout.layout_id&&""===a.parameters.layout.row_id?c.fn(this):c.inverse(this)});Handlebars.registerHelper("BgClassName",
function(a,c){c=a.class_name+" "+a.opacity_class_name+" "+a.animation;"transparent"==a.color&&""==a.color&&""===c&&(c="bg-transparent");return c});Handlebars.registerHelper("courseStyles",function(a,c){c="";for(var b=0;b<a.parameters.course_styles.length;b++)c+=a.parameters.course_styles[b]+" ";return" "+c+" "});Handlebars.registerHelper("page_forPreview",function(a,c){c='data-preview\x3d"false"';if(a.renderEnv.single||a.renderEnv.full||a.renderEnv.template)c='data-preview\x3d"true"';return new Handlebars.SafeString(c)});
Handlebars.registerHelper("page_BGFixed",function(a,c,b){return c||"fixed"!=a.parameters.background.attachment?b.inverse(this):b.fn(this)});Handlebars.registerHelper("sectionDecoration",$.proxy(function(a){var c=a.hash;"transparent"!=a.hash.background.color&&""!=a.hash.background.color&&(c.fill=this.state.utility.hexToRGB(a.hash.background.color,100-a.hash.background.transparency));return new Handlebars.SafeString(Handlebars.compile({"":"","angle-left":'\x3csvg class\x3d"section-decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"angle-right":'\x3csvg class\x3d"section-decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L100 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"pointy-left":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"pointy-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"pointy-right":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"circle-left":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',"circle-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',
"circle-right":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',"round-out":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 C50 0 50 0 100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"round-in":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 C50 100 50 100 100 0  L100 100 0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"triangle-out":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"triangle-in":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L50 100 L100 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"zig-zag":'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L2 60 L4 100 L6 60 L8 100 L10 60 L12 100 L14 60 L16 100 L18 60 L20 100 L22 60 L24 100 L26 60 L28 100 L30 60 L32 100 L34 60 L36 100 L38 60 L40 100 L42 60 L44 100 L46 60 L48 100 L50 60 L52 100 L54 60 L56 100 L58 60 L60 100 L62 60 L64 100 L66 60 L68 100 L70 60 L72 100 L74 60 L76 100 L78 60 L80 100 L82 60 L84 100 L86 60 L88 100 L90 60 L92 100 L94 60 L96 100 L98 60 L100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L5 60 L10 100 L5 60 L10 100 L15 60 L20 100 L25 60 L30 100 L35 60 L40 100 L45 60 L50 100 L55 60 L60 100 L65 60 L70 100 L75 60 L80 100 L85 60 L90 100 L95 60 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
clouds:'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M-5 100 Q 0 20 5 100 Z M0 100 Q 5 0 10 100 M5 100 Q 10 30 15 100 M10 100 Q 15 10 20 100 M15 100 Q 20 30 25 100 M20 100 Q 25 -10 30 100 M25 100 Q 30 10 35 100 M30 100 Q 35 30 40 100 M35 100 Q 40 10 45 100 M40 100 Q 45 50 50 100 M45 100 Q 50 20 55 100 M50 100 Q 55 40 60 100 M55 100 Q 60 60 65 100 M60 100 Q 65 50 70 100 M65 100 Q 70 20 75 100 M70 100 Q 75 45 80 100 M75 100 Q 80 30 85 100 M80 100 Q 85 20 90 100 M85 100 Q 90 50 95 100 M90 100 Q 95 25 100 100 M95 100 Q 100 15 105 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
curtains:'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 2.5 40 5 100 Q 7.5 40 10 100 Q 12.5 40 15 100 Q 17.5 40 20 100 Q 22.5 40 25 100 Q 27.5 40 30 100 Q 32.5 40 35 100 Q 37.5 40 40 100 Q 42.5 40 45 100 Q 47.5 40 50 100 Q 52.5 40 55 100 Q 57.5 40 60 100 Q 62.5 40 65 100 Q 67.5 40 70 100 Q 72.5 40 75 100 Q 77.5 40 80 100 Q 82.5 40 85 100 Q 87.5 40 90 100 Q 92.5 40 95 100 Q 97.5 40 100 100 " stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 5 40 10 100  Q 15 40 20 100  Q 25 40 30 100  Q 35 40 40 100  Q 45 40 50 100  Q 55 40 60 100  Q 65 40 70 100  Q 75 40 80 100  Q 85 40 90 100  Q 95 40 100 100 " {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"straight-line":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3crect {{#unless rotate}}transform\x3d"rotate(180 50 50)"{{/unless}} width\x3d"100%" height\x3d"50%" {{#if fill}}fill\x3d"{{fill}}"{{/if}} /\x3e\x3c/svg\x3e'}[a.hash.decoration])(c))},this))};
DKI.RenderService.prototype.sortGroupRowSections=function(a){for(var c=[],b=null,k=null,l=0;l<a.length;l++){var p=a[l],m=0<l?a[l-1]:null;if(""!=p.parameters.batch.id){if(0==l||m&&m.parameters.batch.id!=p.parameters.batch.id){args=DKI.applyIf({group:p},this.defaultArgs);var k=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),m=Handlebars.compile("{{\x3e rowOrSectionClass}}")(args),q=Handlebars.compile("{{\x3e sectionStyle}}")(args),h=Handlebars.compile("{{\x3e sectionClass}}")(args);Handlebars.compile("{{\x3e rowClass}}")(args);
Handlebars.compile("{{\x3e rowStyle}}")(args);b={type:"row",items:[],firstGroup:p};(dkiUA||top.dkiUA).isIE()||(h+=" flex");k={type:"section",styleString:k+q,classString:m+" "+h,firstGroup:p,items:[]};args.hasMaxWidth=""!=k.firstGroup.parameters.layout.layout_config.max_width;args.max_width=k.firstGroup.parameters.layout.layout_config.max_width;args.align=k.firstGroup.parameters.layout.layout_config.align;b.styleString=Handlebars.compile("{{\x3e rowStyle}}")(args);b.classString=Handlebars.compile("{{\x3e rowClass}}")(args)}else m&&
m.parameters.batch.id==p.parameters.batch.id&&m.parameters.batch.row_index!=p.parameters.batch.row_index&&(k?k.items.push(b):c.push(b),b={type:"row",items:[],firstGroup:p,styleString:""},args=DKI.applyIf({group:p},this.defaultArgs),k?(args.hasMaxWidth=""!=k.firstGroup.parameters.layout.layout_config.max_width,args.max_width=k.firstGroup.parameters.layout.layout_config.max_width,args.align=k.firstGroup.parameters.layout.layout_config.align):b.styleString+=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),
b.styleString+=Handlebars.compile("{{\x3e rowStyle}}")(args),b.classString=Handlebars.compile("{{\x3e rowClass}}")(args));b.items.push(p);l!==a.length-1&&(1!==a[l+1].parameters.batch.row_index&&""!==a[l+1].parameters.batch.row_index||1!==a[l+1].parameters.batch.group_index&&1!==a[l+1].parameters.batch.index)&&""!==a[l+1].parameters.batch.id||(k?(k.items.push(b),c.push(k)):c.push(b),k=b=null)}else c.push({items:p,type:"group"})}return c};
DKI.RenderService.prototype.getColour=function(a){0<=a.toLowerCase().search("designcolor_")&&(idx=parseInt(a.toLowerCase().replace("designcolor_",""),10)-1,a="#"+this.state.design.designColours[idx]);return a};
DKI.RenderService.prototype.getAssetUrl=function(a){var c=this.state.baseUrl+"/content/authoringtooldb/";return a.poster?c=this.state.renderEnvironment.export?"assets/posters/"+a.id+".png":c+("posters/"+a.id+".png"):a.outline&&"mediastream"==a.outline.elementtype?a.outline.src:a.id&&a.folderId?(c=this.state.renderEnvironment.export?"assets/"+a.id:c+(a.folderId+"/"+a.id),""!=a.extension&&(c+="."+a.extension),c):""};DKI.RenderService.prototype.renderSectionDecoration=function(a){return Handlebars.compile("{{sectionDecoration decoration\x3dthis.decoration rotate\x3dthis.rotate  background\x3dthis.background}}")(a)};
DKI.outline={events:{pageSelected:"DKI.OUTLINE.PAGESELECTED",objectSelected:"DKI.OUTLINE.OBJECTSELECTED"}};
!function(){Handlebars.registerPartial("dki_course_outline.module",'\x3cli class\x3d"dki_course_outline-module"\x3e{{#if @root.showModule}}\x3ca href\x3d"#" class\x3d"{{#if complete}}complete{{/if}}" data-loid\x3d"{{loid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}{{math @index "+" 1}}{{/if}} {{{loname}}}\x3c/a\x3e{{/if}}\x3cul class\x3d"nav navmenu-nav"\x3e{{#each objects}}{{\x3e dki_course_outline.object object\x3dthis oIndex\x3d@index mIndex\x3d../mIndex}}{{/each}}\x3c/ul\x3e\x3c/li\x3e');Handlebars.registerPartial("dki_course_outline.object",
'\x3cli class\x3d"dki_course_outline-object"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-objectid\x3d"{{objectid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math @index "+" 1}}{{/if}} {{{title}}}\x3c/a\x3e\x3cul class\x3d"nav navmenu-nav"\x3e{{#if @root.config.showPages}}{{#each subeos}}{{\x3e dki_course_outline.subeo subeo\x3dthis oIndex\x3d../oIndex mIndex\x3d../mIndex sIndex\x3d@index}}{{/each}}{{/if}}\x3c/ul\x3e\x3c/li\x3e');
Handlebars.registerPartial("dki_course_outline.subeo",'\x3cli class\x3d"dki_course_outline-subeo"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-subeoid\x3d"{{subeoid}} " data-pageid\x3d"{{page_id}}" tabindex\x3d"1"\x3e\x3cspan class\x3d"dki_course_outline-subeo-title"\x3e{{#if @root.config.showNumbering}}{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math oIndex "+" 1}}.{{math @index "+" 1}}{{/if}} {{{page.title}}}\x3c/span\x3e\x3ci class\x3d"fa fa-check" /\x3e\x3c/a\x3e\x3c/li\x3e');
Handlebars.registerHelper("dki_course_outline",function(a){if("undefined"!=typeof dataStorage)return a=DKI.applyIf(a.hash,{showNumbering:playerBehaviour.enablePageNumbering,forceSequential:playerBehaviour.forceSequential,showPages:!0,className:""}),a=Handlebars.compile('\x3cul class\x3d"nav navmenu-nav dk-outline-wrapper {{config.className}}"\x3e{{#each structure.modules}}{{\x3e dki_course_outline.module module\x3dthis mIndex\x3d@index}}{{/each}}\x3c/ul\x3e')({strings:DKI.strings,config:a,structure:dataStorage.courseStructure,
showModule:1<dataStorage.courseStructure.modules.length}),playerBehaviour.forceSequential&&(a=$(a),a.find(".dki_course_outline-object \x3e a:eq(0)").removeClass("disabled-element"),a.find(".dki_course_outline-subeo \x3e a:eq(0)").removeClass("disabled-element"),a=a[0].outerHTML),$(document).on(settings.clickEvent,".dki_course_outline-subeo \x3e a",function(){$(this).hasClass("disabled-element")||($(document).trigger(DKI.outline.events.pageSelected,[$(this).data("pageId")]),player.navigation.ignoreSkipToContentFocus=
!0,contentApi.jumpToSubeo($(this).data("subeoid"),!1))}),$(document).on(settings.clickEvent,".dki_course_outline-object \x3e a",function(){$(this).hasClass("disabled-element")||($(document).trigger(DKI.outline.events.objectSelected,[this]),contentApi.jumpToLearningObject($(this).data("objectid"),!1))}),$(document).on(DKI.ContentPage.events.started,function(a,b){$(".dki_course_outline-subeo a.current, .dki_course_outline-object a.current").removeClass("current");dataStorage.currentPage&&$(".dki_course_outline-subeo a[data-pageid\x3d'"+
dataStorage.currentPage.page_id+"']").addClass("current");$(".dki_course_outline-object a[data-objectid\x3d'"+contentApi.getObjectID()+"']").addClass("current")}),$(document).on(DKI.ContentPage.events.started,function(a,b){$(".dki_course_outline-subeo a.current, .dki_course_outline-object a.current").removeClass("current");dataStorage.currentPage&&$(".dki_course_outline-subeo a[data-pageid\x3d'"+dataStorage.currentPage.page_id+"']").addClass("current");$(".dki_course_outline-object a[data-objectid\x3d'"+
contentApi.getObjectID()+"']").addClass("current")}),$(dataStorage).on(DKI.DataStorage.events.pageCompleted,function(a,b){$(".dki_course_outline-subeo a[data-pageid\x3d'"+b+"']").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+b+"']").closest(".dki_course_outline-object \x3e a").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+b+"']").addClass("complete")}),$(dataStorage).on(DKI.DataStorage.events.objectCompleted,function(a,b){$(".dki_course_outline-object a[data-objectid\x3d'"+
b+"']").removeClass("disabled-element");$(".dki_course_outline-object a[data-objectid\x3d'"+b+"']").addClass("complete")}),$(dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(a,b){$(".dki_course_outline-module a[data-loid\x3d'"+b+"']").addClass("complete")}),a})}();
!function(a,c,b,k){function l(a,h){var c,k,n=[],l=0;a&&a.isDefaultPrevented()||(a.preventDefault(),h=a&&a.data?a.data.options:h||{},c=h.$target||b(a.currentTarget),k=c.attr("data-fancybox")||"",k?(n=h.selector?b(h.selector):a.data?a.data.items:[],n=n.length?n.filter('[data-fancybox\x3d"'+k+'"]'):b('[data-fancybox\x3d"'+k+'"]'),l=n.index(c),0>l&&(l=0)):n=[c],b.fancybox.open(n,h,l))}if((a.console=a.console||{info:function(a){}},b)&&!b.fn.fancybox){var p={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,
smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'\x3ciframe id\x3d"fancybox-frame{rnd}" name\x3d"fancybox-frame{rnd}" class\x3d"fancybox-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency\x3d"true" src\x3d""\x3e\x3c/iframe\x3e',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",
animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'\x3cdiv class\x3d"fancybox-container" role\x3d"dialog" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
spinnerTpl:'\x3cdiv class\x3d"fancybox-loading"\x3e\x3c/div\x3e',errorTpl:'\x3cdiv class\x3d"fancybox-error"\x3e\x3cp\x3e{{ERROR}}\x3c/p\x3e\x3c/div\x3e',btnTpl:{download:'\x3ca download data-fancybox-download class\x3d"fancybox-button fancybox-button--download" title\x3d"{{DOWNLOAD}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /\x3e\x3c/svg\x3e\x3c/a\x3e',zoom:'\x3cbutton data-fancybox-zoom class\x3d"fancybox-button fancybox-button--zoom" title\x3d"{{ZOOM}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /\x3e\x3c/svg\x3e\x3c/button\x3e',
close:'\x3cbutton data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',smallBtn:'\x3cbutton data-fancybox-close class\x3d"fancybox-close-small" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 32 32"\x3e\x3cpath d\x3d"M10,10 L22,22 M22,10 L10,22"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3ca data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e',
arrowRight:'\x3ca data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4E3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},
wheel:"auto",onInit:b.noop,beforeLoad:b.noop,afterLoad:b.noop,beforeShow:b.noop,afterShow:b.noop,beforeClose:b.noop,afterClose:b.noop,onActivate:b.noop,onDeactivate:b.noop,clickContent:function(a,b){return"image"===a.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(a,b){return"image"===a.type&&"toggleControls"},clickSlide:function(a,b){return"image"===a.type?"toggleControls":"close"},dblclickContent:function(a,
b){return"image"===a.type&&"zoom"},dblclickSlide:function(a,b){return"image"===a.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. \x3cbr/\x3e Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\u00fcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. \x3cbr/\x3e Bitte versuchen Sie es sp\u00e4ter nochmal.",
PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Ma\u00dfstab"}}},m=b(a),q=b(c),h=0,n=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,1E3/60)}}(),t=function(){var a,b=c.createElement("fakeelement"),h={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"};for(a in h)if(b.style[a]!==k)return h[a];return"transitionend"}(),y=function(a){return a&&a.length&&a[0].offsetHeight},x=function(a,h){var c=b.extend(!0,{},a,h);return b.each(h,function(a,h){b.isArray(h)&&(c[a]=h)}),c},z=function(a,k,n){this.opts=x({index:n},b.fancybox.defaults);b.isPlainObject(k)&&(this.opts=x(this.opts,k));b.fancybox.isMobile&&(this.opts=x(this.opts,this.opts.mobile));this.id=this.opts.id||++h;this.currIndex=parseInt(this.opts.index,10)||
0;this.prevPos=this.prevIndex=null;this.currPos=0;this.firstRun=!0;this.group=[];this.slides={};this.addContent(a);this.group.length&&(this.$lastFocus=b(c.activeElement).trigger("blur"),this.init())};b.extend(z.prototype,{init:function(){var h,n,l,t=this,m=t.group[t.currIndex].opts,x=b.fancybox.scrollbarWidth;b.fancybox.getInstance()||!1===m.hideScrollbar||(b("body").addClass("fancybox-active"),!b.fancybox.isMobile&&c.body.scrollHeight>a.innerHeight&&(x===k&&(h=b('\x3cdiv style\x3d"width:100px;height:100px;overflow:scroll;" /\x3e').appendTo("body"),
x=b.fancybox.scrollbarWidth=h[0].offsetWidth-h[0].clientWidth,h.remove()),b("head").append('\x3cstyle id\x3d"fancybox-style-noscroll" type\x3d"text/css"\x3e.compensate-for-scrollbar { margin-right: '+x+"px; }\x3c/style\x3e"),b("body").addClass("compensate-for-scrollbar")));l="";b.each(m.buttons,function(a,b){l+=m.btnTpl[b]||""});n=b(t.translate(t,m.baseTpl.replace("{{buttons}}",l).replace("{{arrows}}",m.btnTpl.arrowLeft+m.btnTpl.arrowRight))).attr("id","fancybox-container-"+t.id).addClass("fancybox-is-hidden").addClass(m.baseClass).data("FancyBox",
t).appendTo(m.parentEl);t.$refs={container:n};"bg inner infobar toolbar stage caption navigation".split(" ").forEach(function(a){t.$refs[a]=n.find(".fancybox-"+a)});t.trigger("onInit");t.activate();t.jumpTo(t.currIndex)},translate:function(a,b){var h=a.opts.i18n[a.opts.lang];return b.replace(/\{\{(\w+)\}\}/g,function(a,b){b=h[b];return b===k?a:b})},addContent:function(a){var h,c=this;a=b.makeArray(a);b.each(a,function(a,h){var n,l,r,t;a={};r={};b.isPlainObject(h)?(a=h,r=h.opts||h):"object"===b.type(h)&&
b(h).length?(n=b(h),r=n.data()||{},r=b.extend(!0,{},r,r.options),r.$orig=n,a.src=c.opts.src||r.src||n.attr("href"),a.type||a.src||(a.type="inline",a.src=h)):a={type:"html",src:h+""};a.opts=b.extend(!0,{},c.opts,r);b.isArray(r.buttons)&&(a.opts.buttons=r.buttons);n=a.type||a.opts.type;r=a.src||"";!n&&r&&((l=r.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(n="video",a.opts.videoFormat||(a.opts.videoFormat="video/"+("ogv"===l[1]?"ogg":l[1]))):r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?
n="image":r.match(/\.(pdf)((\?|#).*)?$/i)?n="iframe":"#"===r.charAt(0)&&(n="inline"));n?a.type=n:c.trigger("objectNeedsType",a);a.contentType||(a.contentType=-1<b.inArray(a.type,["html","inline","ajax"])?"html":a.type);a.index=c.group.length;"auto"==a.opts.smallBtn&&(a.opts.smallBtn=-1<b.inArray(a.type,["html","inline","ajax"]));"auto"===a.opts.toolbar&&(a.opts.toolbar=!a.opts.smallBtn);a.opts.$trigger&&a.index===c.opts.index&&(a.opts.$thumb=a.opts.$trigger.find("img:first"));a.opts.$thumb&&a.opts.$thumb.length||
!a.opts.$orig||(a.opts.$thumb=a.opts.$orig.find("img:first"));"function"===b.type(a.opts.caption)&&(a.opts.caption=a.opts.caption.apply(h,[c,a]));"function"===b.type(c.opts.caption)&&(a.opts.caption=c.opts.caption.apply(h,[c,a]));a.opts.caption instanceof b||(a.opts.caption=a.opts.caption===k?"":a.opts.caption+"");"ajax"===a.type&&(t=r.split(/\s+/,2),1<t.length&&(a.src=t.shift(),a.opts.filter=t.shift()));a.opts.modal&&(a.opts=b.extend(!0,a.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,
fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1}));c.group.push(a)});Object.keys(c.slides).length&&(c.updateControls(),h=c.Thumbs,h&&h.isActive&&(h.create(),h.focus()))},addEvents:function(){var h=this;h.removeEvents();h.$refs.container.on("click.fb-close","[data-fancybox-close]",function(a){a.stopPropagation();a.preventDefault();h.close(a)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(a){a.stopPropagation();
a.preventDefault();h.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(a){a.stopPropagation();a.preventDefault();h.next()}).on("click.fb","[data-fancybox-zoom]",function(a){h[h.isScaledDown()?"scaleToActual":"scaleToFit"]()});m.on("orientationchange.fb resize.fb",function(a){a&&a.originalEvent&&"resize"===a.originalEvent.type?n(function(){h.update()}):(h.$refs.stage.hide(),setTimeout(function(){h.$refs.stage.show();h.update()},b.fancybox.isMobile?600:250))});q.on("focusin.fb",
function(a){var h=b.fancybox?b.fancybox.getInstance():null;h.isClosing||!h.current||!h.current.opts.trapFocus||b(a.target).hasClass("fancybox-container")||b(a.target).is(c)||h&&"fixed"!==b(a.target).css("position")&&!h.$refs.container.has(a.target).length&&(a.stopPropagation(),h.focus())});q.on("keydown.fb",function(a){var c=h.current,k=a.keyCode||a.which;if(c&&c.opts.keyboard&&!(a.ctrlKey||a.altKey||a.shiftKey||b(a.target).is("input")||b(a.target).is("textarea")))return 8===k||27===k?(a.preventDefault(),
void h.close(a)):37===k||38===k?(a.preventDefault(),void h.previous()):39===k||40===k?(a.preventDefault(),void h.next()):void h.trigger("afterKeydown",a,k)});h.group[h.currIndex].opts.idleTime&&(h.idleSecondsCounter=0,q.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(a){h.idleSecondsCounter=0;h.isIdle&&h.showControls();h.isIdle=!1}),h.idleInterval=a.setInterval(function(){h.idleSecondsCounter++;h.idleSecondsCounter>=
h.group[h.currIndex].opts.idleTime&&!h.isDragging&&(h.isIdle=!0,h.idleSecondsCounter=0,h.hideControls())},1E3))},removeEvents:function(){m.off("orientationchange.fb resize.fb");q.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");this.idleInterval&&(a.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(a){return this.jumpTo(this.currPos-1,a)},next:function(a){return this.jumpTo(this.currPos+1,a)},jumpTo:function(a,h){var c,n,l,t,m,
x,p,q=this,z=q.group.length;if(!(q.isDragging||q.isClosing||q.isAnimating&&q.firstRun)){if(a=parseInt(a,10),n=q.current?q.current.opts.loop:q.opts.loop,!n&&(0>a||a>=z))return!1;if(c=q.firstRun=!Object.keys(q.slides).length,!(2>z&&!c&&q.isDragging)){if(t=q.current,q.prevIndex=q.currIndex,q.prevPos=q.currPos,l=q.createSlide(a),1<z&&((n||0<l.index)&&q.createSlide(a-1),(n||l.index<z-1)&&q.createSlide(a+1)),q.current=l,q.currIndex=l.index,q.currPos=l.pos,q.trigger("beforeShow",c),q.updateControls(),x=
b.fancybox.getTranslate(l.$slide),l.isMoved=(0!==x.left||0!==x.top)&&!l.$slide.hasClass("fancybox-animated"),l.forcedDuration=k,b.isNumeric(h)?l.forcedDuration=h:h=l.opts[c?"animationDuration":"transitionDuration"],h=parseInt(h,10),c)return l.opts.animationEffect&&h&&q.$refs.container.css("transition-duration",h+"ms"),q.$refs.container.removeClass("fancybox-is-hidden"),y(q.$refs.container),q.$refs.container.addClass("fancybox-is-open"),y(q.$refs.container),l.$slide.addClass("fancybox-slide--previous"),
q.loadSlide(l),l.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void q.preload("image");b.each(q.slides,function(a,h){b.fancybox.stop(h.$slide)});l.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current");l.isMoved?(m=Math.round(l.$slide.width()),b.each(q.slides,function(a,c){a=c.pos-l.pos;b.fancybox.animate(c.$slide,{top:0,left:a*m+a*c.opts.gutter},h,function(){c.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous");
c.pos===q.currPos&&(l.isMoved=!1,q.complete())})})):q.$refs.stage.children().removeAttr("style");l.isLoaded?q.revealContent(l):q.loadSlide(l);q.preload("image");t.pos!==l.pos&&(p="fancybox-slide--"+(t.pos>l.pos?"next":"previous"),t.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),t.isComplete=!1,h&&(l.isMoved||l.opts.transitionEffect)&&(l.isMoved?t.$slide.addClass(p):(p="fancybox-animated "+p+" fancybox-fx-"+l.opts.transitionEffect,
b.fancybox.animate(t.$slide,p,h,function(){t.$slide.removeClass(p).removeAttr("style")}))))}}},createSlide:function(a){var h,c;return c=a%this.group.length,c=0>c?this.group.length+c:c,!this.slides[a]&&this.group[c]&&(h=b('\x3cdiv class\x3d"fancybox-slide"\x3e\x3c/div\x3e').appendTo(this.$refs.stage),this.slides[a]=b.extend(!0,{},this.group[c],{pos:a,$slide:h,isLoaded:!1}),this.updateSlide(this.slides[a])),this.slides[a]},scaleToActual:function(a,h,c){var n,l,t,m,x,p=this,y=p.current,q=y.$content,
z=b.fancybox.getTranslate(y.$slide).width,N=b.fancybox.getTranslate(y.$slide).height,O=y.width,J=y.height;!p.isAnimating&&q&&"image"==y.type&&y.isLoaded&&!y.hasError&&(b.fancybox.stop(q),p.isAnimating=!0,a=a===k?.5*z:a,h=h===k?.5*N:h,n=b.fancybox.getTranslate(q),n.top-=b.fancybox.getTranslate(y.$slide).top,n.left-=b.fancybox.getTranslate(y.$slide).left,m=O/n.width,x=J/n.height,l=.5*z-.5*O,t=.5*N-.5*J,O>z&&(l=n.left*m-(a*m-a),0<l&&(l=0),l<z-O&&(l=z-O)),J>N&&(t=n.top*x-(h*x-h),0<t&&(t=0),t<N-J&&(t=
N-J)),p.updateCursor(O,J),b.fancybox.animate(q,{top:t,left:l,scaleX:m,scaleY:x},c||330,function(){p.isAnimating=!1}),p.SlideShow&&p.SlideShow.isActive&&p.SlideShow.stop())},scaleToFit:function(a){var h,c=this,k=c.current,n=k.$content;!c.isAnimating&&n&&"image"==k.type&&k.isLoaded&&!k.hasError&&(b.fancybox.stop(n),c.isAnimating=!0,h=c.getFitPos(k),c.updateCursor(h.width,h.height),b.fancybox.animate(n,{top:h.top,left:h.left,scaleX:h.width/n.width(),scaleY:h.height/n.height()},a||330,function(){c.isAnimating=
!1}))},getFitPos:function(a){var b,h,c,k,n,l=a.$content,t=a.width||a.opts.width,m=a.height||a.opts.height,x={};return!!(a.isLoaded&&l&&l.length)&&(k={top:parseInt(a.$slide.css("paddingTop"),10),right:parseInt(a.$slide.css("paddingRight"),10),bottom:parseInt(a.$slide.css("paddingBottom"),10),left:parseInt(a.$slide.css("paddingLeft"),10)},b=parseInt(this.$refs.stage.width(),10)-(k.left+k.right),h=parseInt(this.$refs.stage.height(),10)-(k.top+k.bottom),t&&m||(t=b,m=h),c=Math.min(1,b/t,h/m),t=Math.floor(c*
t),m=Math.floor(c*m),"image"===a.type?(x.top=Math.floor(.5*(h-m))+k.top,x.left=Math.floor(.5*(b-t))+k.left):"video"===a.contentType&&(n=a.opts.width&&a.opts.height?t/m:a.opts.ratio||16/9,m>t/n?m=t/n:t>m*n&&(t=m*n)),x.width=t,x.height=m,x)},update:function(){var a=this;b.each(a.slides,function(b,h){a.updateSlide(h)})},updateSlide:function(a,h){h=a&&a.$content;var c=a.width||a.opts.width,k=a.height||a.opts.height;h&&(c||k||"video"===a.contentType)&&!a.hasError&&(b.fancybox.stop(h),b.fancybox.setTranslate(h,
this.getFitPos(a)),a.pos===this.currPos&&(this.isAnimating=!1,this.updateCursor()));a.$slide.trigger("refresh");this.$refs.toolbar.toggleClass("compensate-for-scrollbar",a.$slide.get(0).scrollHeight>a.$slide.get(0).clientHeight);this.trigger("onUpdate",a)},centerSlide:function(a,h){var c,n;this.current&&(c=Math.round(a.$slide.width()),n=a.pos-this.current.pos,b.fancybox.animate(a.$slide,{top:0,left:n*c+n*a.opts.gutter,opacity:1},h===k?0:h,null,!1))},updateCursor:function(a,h){var c,k=this.current,
n=this.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");k&&!this.isClosing&&(c=this.isZoomable(),n.toggleClass("fancybox-is-zoomable",c),b("[data-fancybox-zoom]").prop("disabled",!c),c&&("zoom"===k.opts.clickContent||b.isFunction(k.opts.clickContent)&&"zoom"===k.opts.clickContent(k))?this.isScaledDown(a,h)?n.addClass("fancybox-can-zoomIn"):k.opts.touch?n.addClass("fancybox-can-drag"):n.addClass("fancybox-can-zoomOut"):k.opts.touch&&"video"!==
k.contentType&&n.addClass("fancybox-can-drag"))},isZoomable:function(){var a,b=this.current;return!b||this.isClosing||"image"!==b.type||b.hasError||b.isLoaded&&(a=this.getFitPos(b),!(b.width>a.width||b.height>a.height))?!1:!0},isScaledDown:function(a,h){var c=!1,n=this.current,l=n.$content;return a!==k&&h!==k?c=a<n.width&&h<n.height:l&&(c=b.fancybox.getTranslate(l),c=c.width<n.width&&c.height<n.height),c},canPan:function(){var a,b=!1,h=this.current;return"image"===h.type&&(a=h.$content)&&!h.hasError&&
(b=this.getFitPos(h),b=1<Math.abs(a.width()-b.width)||1<Math.abs(a.height()-b.height)),b},loadSlide:function(a){var h,c,k,n=this;if(!a.isLoading&&!a.isLoaded){switch(a.isLoading=!0,n.trigger("beforeLoad",a),h=a.type,c=a.$slide,c.off("refresh").trigger("onReset").addClass(a.opts.slideClass),h){case "image":n.setImage(a);break;case "iframe":n.setIframe(a);break;case "html":n.setContent(a,a.src||a.content);break;case "video":n.setContent(a,'\x3cvideo class\x3d"fancybox-video" controls controlsList\x3d"nodownload"\x3e\x3csource src\x3d"'+
a.src+'" type\x3d"'+a.opts.videoFormat+"\"\x3eYour browser doesn't support HTML5 video\x3c/video");break;case "inline":b(a.src).length?n.setContent(a,b(a.src)):n.setError(a);break;case "ajax":n.showLoading(a);k=b.ajax(b.extend({},a.opts.ajax.settings,{url:a.src,success:function(b,h){"success"===h&&n.setContent(a,b)},error:function(b,h){b&&"abort"!==h&&n.setError(a)}}));c.one("onReset",function(){k.abort()});break;default:n.setError(a)}return!0}},setImage:function(h){var c,k,n,l,t=this,m=h.opts.srcset||
h.opts.image.srcset;if(h.timouts=setTimeout(function(){var a=h.$image;!h.isLoading||a&&a[0].complete||h.hasError||t.showLoading(h)},350),m){n=a.devicePixelRatio||1;l=a.innerWidth*n;k=m.split(",").map(function(a){var b={};return a.trim().split(/\s+/).forEach(function(a,h){var c=parseInt(a.substring(0,a.length-1),10);return 0===h?b.url=a:void(c&&(b.value=c,b.postfix=a[a.length-1]))}),b});k.sort(function(a,b){return a.value-b.value});for(var x=0;x<k.length;x++){var p=k[x];if("w"===p.postfix&&p.value>=
l||"x"===p.postfix&&p.value>=n){c=p;break}}!c&&k.length&&(c=k[k.length-1]);c&&(h.src=c.url,h.width&&h.height&&"w"==c.postfix&&(h.height=h.width/h.height*c.value,h.width=c.value),h.opts.srcset=m)}h.$content=b('\x3cdiv class\x3d"fancybox-content"\x3e\x3c/div\x3e').addClass("fancybox-is-hidden").appendTo(h.$slide.addClass("fancybox-slide--image"));c=h.opts.thumb||!(!h.opts.$thumb||!h.opts.$thumb.length)&&h.opts.$thumb.attr("src");!1!==h.opts.preload&&h.opts.width&&h.opts.height&&c&&(h.width=h.opts.width,
h.height=h.opts.height,h.$ghost=b("\x3cimg /\x3e").one("error",function(){b(this).remove();h.$ghost=null}).one("load",function(){t.afterLoad(h)}).addClass("fancybox-image").appendTo(h.$content).attr("src",c));t.setBigImage(h)},setBigImage:function(a){var h=this,c=b("\x3cimg /\x3e");a.$image=c.one("error",function(){h.setError(a)}).one("load",function(){var b;a.$ghost||(h.resolveImageSlideSize(a,this.naturalWidth,this.naturalHeight),h.afterLoad(a));a.timouts&&(clearTimeout(a.timouts),a.timouts=null);
h.isClosing||(a.opts.srcset&&(b=a.opts.sizes,b&&"auto"!==b||(b=(1<a.width/a.height&&1<m.width()/m.height()?"100":Math.round(a.width/a.height*100))+"vw"),c.attr("sizes",b).attr("srcset",a.opts.srcset)),a.$ghost&&setTimeout(function(){a.$ghost&&!h.isClosing&&a.$ghost.hide()},Math.min(300,Math.max(1E3,a.height/1600))),h.hideLoading(a))}).addClass("fancybox-image").attr("src",a.src).appendTo(a.$content);(c[0].complete||"complete"==c[0].readyState)&&c[0].naturalWidth&&c[0].naturalHeight?c.trigger("load"):
c[0].error&&c.trigger("error")},resolveImageSlideSize:function(a,b,h){var c=parseInt(a.opts.width,10),k=parseInt(a.opts.height,10);a.width=b;a.height=h;0<c&&(a.width=c,a.height=Math.floor(c*h/b));0<k&&(a.width=Math.floor(k*b/h),a.height=k)},setIframe:function(a){var h,c=this,n=a.opts.iframe,l=a.$slide;a.$content=b('\x3cdiv class\x3d"fancybox-content'+(n.preload?" fancybox-is-hidden":"")+'"\x3e\x3c/div\x3e').css(n.css).appendTo(l);l.addClass("fancybox-slide--"+a.contentType);a.$iframe=h=b(n.tpl.replace(/\{rnd\}/g,
(new Date).getTime())).attr(n.attr).appendTo(a.$content);n.preload?(c.showLoading(a),h.on("load.fb error.fb",function(b){this.isReady=1;a.$slide.trigger("refresh");c.afterLoad(a)}),l.on("refresh.fb",function(){var b,c,l=a.$content,t=n.css.width,m=n.css.height;if(1===h[0].isReady){try{b=h.contents(),c=b.find("body")}catch(x){}c&&c.length&&c.children().length&&(l.css({width:"",height:""}),t===k&&(t=Math.ceil(Math.max(c[0].clientWidth,c.outerWidth(!0)))),t&&l.width(t),m===k&&(m=Math.ceil(Math.max(c[0].clientHeight,
c.outerHeight(!0)))),m&&l.height(m));l.removeClass("fancybox-is-hidden")}})):this.afterLoad(a);h.attr("src",a.src);l.one("onReset",function(){try{b(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(h){}b(this).off("refresh.fb").empty();a.isLoaded=!1})},setContent:function(a,h){this.isClosing||(this.hideLoading(a),a.$content&&b.fancybox.stop(a.$content),a.$slide.empty(),h&&h.hasOwnProperty&&h instanceof b&&h.parent().length?(h.parent().parent(".fancybox-slide--inline").trigger("onReset"),
a.$placeholder=b("\x3cdiv\x3e").hide().insertAfter(h),h.css("display","inline-block")):a.hasError||("string"===b.type(h)&&(h=b("\x3cdiv\x3e").append(b.trim(h)).contents(),3===h[0].nodeType&&(h=b("\x3cdiv\x3e").html(h))),a.opts.filter&&(h=b("\x3cdiv\x3e").html(h).find(a.opts.filter))),a.$slide.one("onReset",function(){b(this).find("video,audio").trigger("pause");a.$placeholder&&(a.$placeholder.after(h.hide()).remove(),a.$placeholder=null);a.$smallBtn&&(a.$smallBtn.remove(),a.$smallBtn=null);a.hasError||
(b(this).empty(),a.isLoaded=!1)}),b(h).appendTo(a.$slide),b(h).is("video,audio")&&(b(h).addClass("fancybox-video"),b(h).wrap("\x3cdiv\x3e\x3c/div\x3e"),a.contentType="video",a.opts.width=a.opts.width||b(h).attr("width"),a.opts.height=a.opts.height||b(h).attr("height")),a.$content=a.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),a.$slide.addClass("fancybox-slide--"+a.contentType),this.afterLoad(a))},setError:function(a){a.hasError=!0;a.$slide.trigger("onReset").removeClass("fancybox-slide--"+
a.contentType).addClass("fancybox-slide--error");a.contentType="html";this.setContent(a,this.translate(a,a.opts.errorTpl));a.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(a){(a=a||this.current)&&!a.$spinner&&(a.$spinner=b(this.translate(this,this.opts.spinnerTpl)).appendTo(a.$slide))},hideLoading:function(a){(a=a||this.current)&&a.$spinner&&(a.$spinner.remove(),delete a.$spinner)},afterLoad:function(a){this.isClosing||(a.isLoading=!1,a.isLoaded=!0,this.trigger("afterLoad",a),this.hideLoading(a),
a.pos===this.currPos&&this.updateCursor(),!a.opts.smallBtn||a.$smallBtn&&a.$smallBtn.length||(a.$smallBtn=b(this.translate(a,a.opts.btnTpl.smallBtn)).prependTo(a.$content)),a.opts.protect&&a.$content&&!a.hasError&&(a.$content.on("contextmenu.fb",function(a){return 2==a.button&&a.preventDefault(),!0}),"image"===a.type&&b('\x3cdiv class\x3d"fancybox-spaceball"\x3e\x3c/div\x3e').appendTo(a.$content)),this.revealContent(a))},revealContent:function(a){var h,c,n,l,t=this,m=a.$slide,x=!1,p=!1;return h=a.opts[t.firstRun?
"animationEffect":"transitionEffect"],n=a.opts[t.firstRun?"animationDuration":"transitionDuration"],n=parseInt(a.forcedDuration===k?n:a.forcedDuration,10),a.pos===t.currPos&&(a.isComplete?h=!1:t.isAnimating=!0),!a.isMoved&&a.pos===t.currPos&&n||(h=!1),"zoom"===h&&(a.pos===t.currPos&&n&&"image"===a.type&&!a.hasError&&(p=t.getThumbPos(a))?x=t.getFitPos(a):h="fade"),"zoom"===h?(x.scaleX=x.width/p.width,x.scaleY=x.height/p.height,l=a.opts.zoomOpacity,"auto"==l&&(l=.1<Math.abs(a.width/a.height-p.width/
p.height)),l&&(p.opacity=.1,x.opacity=1),b.fancybox.setTranslate(a.$content.removeClass("fancybox-is-hidden"),p),y(a.$content),void b.fancybox.animate(a.$content,x,n,function(){t.isAnimating=!1;t.complete()})):(t.updateSlide(a),h?(b.fancybox.stop(m),c="fancybox-animated fancybox-slide--"+(a.pos>=t.prevPos?"next":"previous")+" fancybox-fx-"+h,m.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(c),a.$content.removeClass("fancybox-is-hidden"),
y(m),void b.fancybox.animate(m,"fancybox-slide--current",n,function(b){m.removeClass(c).removeAttr("style");a.pos===t.currPos&&t.complete()},!0)):(y(m),a.$content.removeClass("fancybox-is-hidden"),void(a.pos===t.currPos&&t.complete())))},getThumbPos:function(h){var k,n=!1,l=(h=h.opts.$thumb)&&h.length&&h[0].ownerDocument===c?h.offset():0,t=function(h){var c;h=h[0];for(var k=h.getBoundingClientRect(),n=[];null!==h.parentElement;)"hidden"!==b(h.parentElement).css("overflow")&&"auto"!==b(h.parentElement).css("overflow")||
n.push(h.parentElement.getBoundingClientRect()),h=h.parentElement;return c=n.every(function(a){var b=Math.min(k.bottom,a.bottom)-Math.max(k.top,a.top);return 0<Math.min(k.right,a.right)-Math.max(k.left,a.left)&&0<b}),c&&0<k.bottom&&0<k.right&&k.left<b(a).width()&&k.top<b(a).height()};return l&&t(h)&&(k=this.$refs.stage.offset(),n={top:l.top-k.top+parseFloat(h.css("border-top-width")||0),left:l.left-k.left+parseFloat(h.css("border-left-width")||0),width:h.width(),height:h.height(),scaleX:1,scaleY:1}),
n},complete:function(){var a=this,h=a.current,k={};!h.isMoved&&h.isLoaded&&(h.isComplete||(h.isComplete=!0,h.$slide.siblings().trigger("onReset"),a.preload("inline"),y(h.$slide),h.$slide.addClass("fancybox-slide--complete"),b.each(a.slides,function(h,c){c.pos>=a.currPos-1&&c.pos<=a.currPos+1?k[c.pos]=c:c&&(b.fancybox.stop(c.$slide),c.$slide.off().remove())}),a.slides=k),a.isAnimating=!1,a.updateCursor(),a.trigger("afterShow"),h.$slide.find("video,audio").filter(":visible:first").trigger("play"),(b(c.activeElement).is("[disabled]")||
h.opts.autoFocus&&"image"!=h.type&&"iframe"!==h.type)&&a.focus())},preload:function(a){var b=this.slides[this.currPos+1],h=this.slides[this.currPos-1];b&&b.type===a&&this.loadSlide(b);h&&h.type===a&&this.loadSlide(h)},focus:function(){var a,b=this.current;this.isClosing||b&&b.isComplete&&b.$content&&(a=b.$content.find("input[autofocus]:enabled:visible:first"),a.length||(a=b.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),a=a&&a.length?a:b.$content,a.trigger("focus"))},
activate:function(){var a=this;b(".fancybox-container").each(function(){var h=b(this).data("FancyBox");h&&h.id!==a.id&&!h.isClosing&&(h.trigger("onDeactivate"),h.removeEvents(),h.isVisible=!1)});a.isVisible=!0;(a.current||a.isIdle)&&(a.update(),a.updateControls());a.trigger("onActivate");a.addEvents()},close:function(a,h){var c,k,l,m,x,p,q,z=this,L=z.current,I=function(){z.cleanUp(a)};return!z.isClosing&&(z.isClosing=!0,!1===z.trigger("beforeClose",a)?(z.isClosing=!1,n(function(){z.update()}),!1):
(z.removeEvents(),L.timouts&&clearTimeout(L.timouts),l=L.$content,c=L.opts.animationEffect,k=b.isNumeric(h)?h:c?L.opts.animationDuration:0,L.$slide.off(t).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),L.$slide.siblings().trigger("onReset").remove(),k&&z.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),z.hideLoading(L),z.hideControls(),z.updateCursor(),"zoom"!==c||!0!==a&&l&&k&&"image"===L.type&&!L.hasError&&(q=
z.getThumbPos(L))||(c="fade"),"zoom"===c?(b.fancybox.stop(l),m=b.fancybox.getTranslate(l),p={top:m.top,left:m.left,scaleX:m.width/q.width,scaleY:m.height/q.height,width:q.width,height:q.height},x=L.opts.zoomOpacity,"auto"==x&&(x=.1<Math.abs(L.width/L.height-q.width/q.height)),x&&(q.opacity=0),b.fancybox.setTranslate(l,p),y(l),b.fancybox.animate(l,q,k,I),!0):(c&&k?!0===a?setTimeout(I,k):b.fancybox.animate(L.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+
c,k,I):I(),!0)))},cleanUp:function(a){var h=b("body");this.current.$slide.trigger("onReset");this.$refs.container.empty().remove();this.trigger("afterClose",a);this.$lastFocus&&this.current.opts.backFocus&&this.$lastFocus.trigger("focus");this.current=null;(a=b.fancybox.getInstance())?a.activate():(h.removeClass("fancybox-active compensate-for-scrollbar"),b("#fancybox-style-noscroll").remove())},trigger:function(a,h){var c,k=Array.prototype.slice.call(arguments,1),n=h&&h.opts?h:this.current;return n?
k.unshift(n):n=this,k.unshift(this),b.isFunction(n.opts[a])&&(c=n.opts[a].apply(n,k)),!1===c?c:void("afterClose"!==a&&this.$refs?this.$refs.container.trigger(a+".fb",k):q.trigger(a+".fb",k))},updateControls:function(a){a=this.current;var b=a.index,h=a.opts.caption,c=this.$refs.container,k=this.$refs.caption;a.$slide.trigger("refresh");this.$caption=h&&h.length?k.html(h):null;this.isHiddenControls||this.isIdle||this.showControls();c.find("[data-fancybox-count]").html(this.group.length);c.find("[data-fancybox-index]").html(b+
1);c.find("[data-fancybox-prev]").toggleClass("disabled",!a.opts.loop&&0>=b);c.find("[data-fancybox-next]").toggleClass("disabled",!a.opts.loop&&b>=this.group.length-1);"image"===a.type?c.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",a.opts.image.src||a.src).show():a.opts.toolbar&&c.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0;this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},
showControls:function(){var a=this.current?this.current.opts:this.opts,b=this.$refs.container;this.isHiddenControls=!1;this.idleSecondsCounter=0;b.toggleClass("fancybox-show-toolbar",!(!a.toolbar||!a.buttons)).toggleClass("fancybox-show-infobar",!!(a.infobar&&1<this.group.length)).toggleClass("fancybox-show-nav",!!(a.arrows&&1<this.group.length)).toggleClass("fancybox-is-modal",!!a.modal);this.$caption?b.addClass("fancybox-show-caption "):b.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?
this.showControls():this.hideControls()}});b.fancybox={version:"3.3.5",defaults:p,getInstance:function(a){var h=b('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),c=Array.prototype.slice.call(arguments,1);return h instanceof z&&("string"===b.type(a)?h[a].apply(h,c):"function"===b.type(a)&&a.apply(h,c),h)},open:function(a,b,h){return new z(a,b,h)},close:function(a){var b=this.getInstance();b&&(b.close(),!0===a&&this.close())},destroy:function(){this.close(!0);q.add("body").off("click.fb-start",
"**")},isMobile:c.createTouch!==k&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var b=c.createElement("div");return a.getComputedStyle&&a.getComputedStyle(b)&&a.getComputedStyle(b).getPropertyValue("transform")&&!(c.documentMode&&11>c.documentMode)}(),getTranslate:function(a){var b;return!(!a||!a.length)&&(b=a[0].getBoundingClientRect(),{top:b.top||0,left:b.left||0,width:b.width,height:b.height,opacity:parseFloat(a.css("opacity"))})},
setTranslate:function(a,b){var h="",c={};if(a&&b)return b.left===k&&b.top===k||(h=(b.left===k?a.position().left:b.left)+"px, "+(b.top===k?a.position().top:b.top)+"px",h=this.use3d?"translate3d("+h+", 0px)":"translate("+h+")"),b.scaleX!==k&&b.scaleY!==k&&(h=(h.length?h+" ":"")+"scale("+b.scaleX+", "+b.scaleY+")"),h.length&&(c.transform=h),b.opacity!==k&&(c.opacity=b.opacity),b.width!==k&&(c.width=b.width),b.height!==k&&(c.height=b.height),a.css(c)},animate:function(a,h,c,n,l){var m=!1;b.isFunction(c)&&
(n=c,c=null);b.isPlainObject(h)||a.removeAttr("style");b.fancybox.stop(a);a.on(t,function(c){(!c||!c.originalEvent||a.is(c.originalEvent.target)&&"z-index"!=c.originalEvent.propertyName)&&(b.fancybox.stop(a),m&&b.fancybox.setTranslate(a,m),b.isPlainObject(h)?!1===l&&a.removeAttr("style"):!0!==l&&a.removeClass(h),b.isFunction(n)&&n(c))});b.isNumeric(c)&&a.css("transition-duration",c+"ms");b.isPlainObject(h)?(h.scaleX!==k&&h.scaleY!==k&&(m=b.extend({},h,{width:a.width()*h.scaleX,height:a.height()*h.scaleY,
scaleX:1,scaleY:1}),delete h.width,delete h.height,a.parent().hasClass("fancybox-slide--image")&&a.parent().addClass("fancybox-is-scaling")),b.fancybox.setTranslate(a,h)):a.addClass(h);a.data("timer",setTimeout(function(){a.trigger("transitionend")},c+16))},stop:function(a){a&&a.length&&(clearTimeout(a.data("timer")),a.off("transitionend").css("transition-duration",""),a.parent().removeClass("fancybox-is-scaling"))}};b.fn.fancybox=function(a){var h;return a=a||{},h=a.selector||!1,h?b("body").off("click.fb-start",
h).on("click.fb-start",h,{options:a},l):this.off("click.fb-start").on("click.fb-start",{items:this,options:a},l),this};q.on("click.fb-start","[data-fancybox]",l);q.on("click.fb-start","[data-trigger]",function(a){l(a,{$target:b('[data-fancybox\x3d"'+b(a.currentTarget).attr("data-trigger")+'"]').eq(b(a.currentTarget).attr("data-index")||0),$trigger:b(this)})})}}(window,document,window.jQuery||jQuery);
(function(a){var c=function(b,c,p){if(b)return p=p||"","object"===a.type(p)&&(p=a.param(p,!0)),a.each(c,function(a,c){b=b.replace("$"+a,c||"")}),p.length&&(b+=(0<b.indexOf("?")?"\x26":"?")+p),b},b={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",
thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size\x3dl"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",
url:function(a){return"//maps.google."+a[2]+"/?ll\x3d"+(a[9]?a[9]+"\x26z\x3d"+Math.floor(a[10])+(a[12]?a[12].replace(/^\//,"\x26"):""):a[12]+"").replace(/\?/,"\x26")+"\x26output\x3d"+(a[12]&&0<a[12].indexOf("layer\x3dc")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(a){return"//maps.google."+a[2]+"/maps?q\x3d"+a[5].replace("query\x3d","q\x3d").replace("api\x3d1","")+"\x26output\x3dembed"}}};a(document).on("objectNeedsType.fb",
function(k,l,p){var m,q,h,n,t,y,x=p.src||"",z=!1;k=a.extend(!0,{},b,p.opts.media);a.each(k,function(b,k){if(q=x.match(k.matcher)){if(z=k.type,y=b,t={},k.paramPlace&&q[k.paramPlace]){n=q[k.paramPlace];"?"==n[0]&&(n=n.substring(1));n=n.split("\x26");for(var l=0;l<n.length;++l){var w=n[l].split("\x3d",2);2==w.length&&(t[w[0]]=decodeURIComponent(w[1].replace(/\+/g," ")))}}return h=a.extend(!0,{},k.params,p.opts[b],t),x="function"===a.type(k.url)?k.url.call(this,q,h,p):c(k.url,q,h),m="function"===a.type(k.thumb)?
k.thumb.call(this,q,h,p):c(k.thumb,q),"youtube"===b?x=x.replace(/&t=((\d+)m)?(\d+)s/,function(a,b,h,c){return"\x26start\x3d"+((h?60*parseInt(h,10):0)+parseInt(c,10))}):"vimeo"===b&&(x=x.replace("\x26%23","#")),!1}});z?(p.opts.thumb||p.opts.$thumb&&p.opts.$thumb.length||(p.opts.thumb=m),"iframe"===z&&(p.opts=a.extend(!0,p.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),a.extend(p,{type:z,src:x,origSrc:p.src,contentSource:y,contentType:"image"===z?"image":"gmap_place"==y||"gmap_search"==y?"map":
"video"})):x&&(p.type=p.opts.defaultType)})})(window.jQuery||jQuery);
(function(a,c,b){var k=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,1E3/60)}}(),l=function(){return a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||function(b){a.clearTimeout(b)}}(),p=function(b){var h=[];b=b.originalEvent||b||a.e;b=b.touches&&b.touches.length?b.touches:b.changedTouches&&b.changedTouches.length?b.changedTouches:
[b];for(var c in b)b[c].pageX?h.push({x:b[c].pageX,y:b[c].pageY}):b[c].clientX&&h.push({x:b[c].clientX,y:b[c].clientY});return h},m=function(a,b,h){return b&&a?"x"===h?a.x-b.x:"y"===h?a.y-b.y:Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)):0},q=function(a){if(a.is('a,area,button,[role\x3d"button"],input,label,select,summary,textarea,video,audio')||b.isFunction(a.get(0).onclick)||a.data("selectable"))return!0;var h=0;a=a[0].attributes;for(var c=a.length;h<c;h++)if("data-fancybox-"===a[h].nodeName.substr(0,
14))return!0;return!1},h=function(b){for(var h;;){h=b.get(0);var c=a.getComputedStyle(h)["overflow-y"],k=a.getComputedStyle(h)["overflow-x"],k=("scroll"===k||"auto"===k)&&h.scrollWidth>h.clientWidth;if(h=("scroll"===c||"auto"===c)&&h.scrollHeight>h.clientHeight||k)break;if(b=b.parent(),!b.length||b.hasClass("fancybox-stage")||b.is("body"))break}return h},n=function(a){this.instance=a;this.$bg=a.$refs.bg;this.$stage=a.$refs.stage;this.$container=a.$refs.container;this.destroy();this.$container.on("touchstart.fb.touch mousedown.fb.touch",
b.proxy(this,"ontouchstart"))};n.prototype.destroy=function(){this.$container.off(".fb.touch")};n.prototype.ontouchstart=function(k){var n=b(k.target),l=this.instance,z=l.current,r=z.$content,C="touchstart"==k.type;if(C&&this.$container.off("mousedown.fb.touch"),!(k.originalEvent&&2==k.originalEvent.button||!n.length||q(n)||q(n.parent())||!n.is("img")&&k.originalEvent.clientX>n[0].clientWidth+n.offset().left)){if(!z||l.isAnimating||l.isClosing)return k.stopPropagation(),void k.preventDefault();if(this.realPoints=
this.startPoints=p(k),this.startPoints.length){if(k.stopPropagation(),this.startEvent=k,this.canTap=!0,this.$target=n,this.$content=r,this.opts=z.opts.touch,this.isPanning=!1,this.isSwiping=!1,this.isZooming=!1,this.isScrolling=!1,this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.canvasWidth=Math.round(z.$slide[0].clientWidth),this.canvasHeight=Math.round(z.$slide[0].clientHeight),this.contentLastPos=null,this.contentStartPos=b.fancybox.getTranslate(this.$content)||
{top:0,left:0},this.sliderStartPos=this.sliderLastPos||b.fancybox.getTranslate(z.$slide),this.stagePos=b.fancybox.getTranslate(l.$refs.stage),this.sliderStartPos.top-=this.stagePos.top,this.sliderStartPos.left-=this.stagePos.left,this.contentStartPos.top-=this.stagePos.top,this.contentStartPos.left-=this.stagePos.left,b(c).off(".fb.touch").on(C?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",b.proxy(this,"ontouchend")).on(C?"touchmove.fb.touch":"mousemove.fb.touch",
b.proxy(this,"ontouchmove")),b.fancybox.isMobile&&c.addEventListener("scroll",this.onscroll,!0),!this.opts&&!l.canPan()||!n.is(this.$stage)&&!this.$stage.find(n).length)return void(n.is(".fancybox-image")&&k.preventDefault());b.fancybox.isMobile&&(h(n)||h(n.parent()))||k.preventDefault();(1===this.startPoints.length||z.hasError)&&(this.instance.canPan()?(b.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("fancybox-controls--isGrabbing"));
2===this.startPoints.length&&"image"===z.type&&(z.isLoaded||z.$ghost)&&(this.canTap=!1,this.isSwiping=!1,this.isPanning=!1,this.isZooming=!0,b.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-b(a).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-b(a).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,
this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=m(this.startPoints[0],this.startPoints[1]))}}};n.prototype.onscroll=function(a){this.isScrolling=!0;c.removeEventListener("scroll",this.onscroll,!0)};n.prototype.ontouchmove=function(a){var h=b(a.target);return void 0!==a.originalEvent.buttons&&0===a.originalEvent.buttons?void this.ontouchend(a):this.isScrolling||!h.is(this.$stage)&&!this.$stage.find(h).length?
void(this.canTap=!1):(this.newPoints=p(a),void((this.opts||this.instance.canPan())&&this.newPoints.length&&this.newPoints.length&&(this.isSwiping&&!0===this.isSwiping||a.preventDefault(),this.distanceX=m(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=m(this.newPoints[0],this.startPoints[0],"y"),this.distance=m(this.newPoints[0],this.startPoints[0]),0<this.distance&&(this.isSwiping?this.onSwipe(a):this.isPanning?this.onPan():this.isZooming&&this.onZoom()))))};n.prototype.onSwipe=function(c){var n,
m=this;c=m.isSwiping;var p=m.sliderStartPos.left||0;if(!0!==c)"x"==c&&(0<m.distanceX&&(2>m.instance.group.length||0===m.instance.current.index&&!m.instance.current.opts.loop)?p+=Math.pow(m.distanceX,.8):0>m.distanceX&&(2>m.instance.group.length||m.instance.current.index===m.instance.group.length-1&&!m.instance.current.opts.loop)?p-=Math.pow(-m.distanceX,.8):p+=m.distanceX),m.sliderLastPos={top:"x"==c?0:m.sliderStartPos.top+m.distanceY,left:p},m.requestId&&(l(m.requestId),m.requestId=null),m.requestId=
k(function(){m.sliderLastPos&&(b.each(m.instance.slides,function(a,h){a=h.pos-m.instance.currPos;b.fancybox.setTranslate(h.$slide,{top:m.sliderLastPos.top,left:m.sliderLastPos.left+a*m.canvasWidth+a*h.opts.gutter})}),m.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(m.distance)){if(m.canTap=!1,2>m.instance.group.length&&m.opts.vertical?m.isSwiping="y":m.instance.isDragging||!1===m.opts.vertical||"auto"===m.opts.vertical&&800<b(a).width()?m.isSwiping="x":(n=Math.abs(180*Math.atan2(m.distanceY,
m.distanceX)/Math.PI),m.isSwiping=45<n&&135>n?"y":"x"),m.canTap=!1,"y"===m.isSwiping&&b.fancybox.isMobile&&(h(m.$target)||h(m.$target.parent())))return void(m.isScrolling=!0);m.instance.isDragging=m.isSwiping;m.startPoints=m.newPoints;b.each(m.instance.slides,function(a,h){b.fancybox.stop(h.$slide);h.$slide.css("transition-duration","");h.inTransition=!1;h.pos===m.instance.current.pos&&(m.sliderStartPos.left=b.fancybox.getTranslate(h.$slide).left-b.fancybox.getTranslate(m.instance.$refs.stage).left)});
m.instance.SlideShow&&m.instance.SlideShow.isActive&&m.instance.SlideShow.stop()}};n.prototype.onPan=function(){var a=this;return m(a.newPoints[0],a.realPoints[0])<(b.fancybox.isMobile?10:5)?void(a.startPoints=a.newPoints):(a.canTap=!1,a.contentLastPos=a.limitMovement(),a.requestId&&(l(a.requestId),a.requestId=null),void(a.requestId=k(function(){b.fancybox.setTranslate(a.$content,a.contentLastPos)})))};n.prototype.limitMovement=function(){var a,b,h,c,k,n,l=this.canvasWidth,m=this.canvasHeight,p=this.distanceX,
q=this.distanceY,D=this.contentStartPos,F=D.left,H=D.top,G=D.width,D=D.height;return k=G>l?F+p:F,n=H+q,a=Math.max(0,.5*l-.5*G),b=Math.max(0,.5*m-.5*D),h=Math.min(l-G,.5*l-.5*G),c=Math.min(m-D,.5*m-.5*D),0<p&&k>a&&(k=a-1+Math.pow(-a+F+p,.8)||0),0>p&&k<h&&(k=h+1-Math.pow(h-F-p,.8)||0),0<q&&n>b&&(n=b-1+Math.pow(-b+H+q,.8)||0),0>q&&n<c&&(n=c+1-Math.pow(c-H-q,.8)||0),{top:n,left:k}};n.prototype.limitPosition=function(a,b,h,c){var k=this.canvasWidth,n=this.canvasHeight;return h>k?(a=0<a?0:a,a=a<k-h?k-h:
a):a=Math.max(0,k/2-h/2),c>n?(b=0<b?0:b,b=b<n-c?n-c:b):b=Math.max(0,n/2-c/2),{top:b,left:a}};n.prototype.onZoom=function(){var h=this,c=h.contentStartPos,n=c.width,p=c.height,r=c.left,q=c.top,A=m(h.newPoints[0],h.newPoints[1])/h.startDistanceBetweenFingers,c=Math.floor(n*A),w=Math.floor(p*A),n=(n-c)*h.percentageOfImageAtPinchPointX,p=(p-w)*h.percentageOfImageAtPinchPointY,B=(h.newPoints[0].x+h.newPoints[1].x)/2-b(a).scrollLeft(),E=(h.newPoints[0].y+h.newPoints[1].y)/2-b(a).scrollTop(),r={top:q+(p+
(E-h.centerPointStartY)),left:r+(n+(B-h.centerPointStartX)),scaleX:A,scaleY:A};h.canTap=!1;h.newWidth=c;h.newHeight=w;h.contentLastPos=r;h.requestId&&(l(h.requestId),h.requestId=null);h.requestId=k(function(){b.fancybox.setTranslate(h.$content,h.contentLastPos)})};n.prototype.ontouchend=function(a){var h=Math.max((new Date).getTime()-this.startTime,1),k=this.isSwiping,n=this.isPanning,r=this.isZooming,m=this.isScrolling;return this.endPoints=p(a),this.$container.removeClass("fancybox-controls--isGrabbing"),
b(c).off(".fb.touch"),c.removeEventListener("scroll",this.onscroll,!0),this.requestId&&(l(this.requestId),this.requestId=null),this.isSwiping=!1,this.isPanning=!1,this.isZooming=!1,this.isScrolling=!1,this.instance.isDragging=!1,this.canTap?this.onTap(a):(this.speed=366,this.velocityX=this.distanceX/h*.5,this.velocityY=this.distanceY/h*.5,this.speedX=Math.max(.5*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed)),void(n?this.endPanning():r?this.endZooming():this.endSwiping(k,
m)))};n.prototype.endSwiping=function(a,h){var c=!1,k=this.instance.group.length;this.sliderLastPos=null;"y"==a&&!h&&50<Math.abs(this.distanceY)?(b.fancybox.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},200),c=this.instance.close(!0,200)):"x"==a&&50<this.distanceX&&1<k?c=this.instance.previous(this.speedX):"x"==a&&-50>this.distanceX&&1<k&&(c=this.instance.next(this.speedX));!1!==c||"x"!=a&&"y"!=a||(h||2>k?this.instance.centerSlide(this.instance.current,
150):this.instance.jumpTo(this.instance.current.index));this.$container.removeClass("fancybox-is-sliding")};n.prototype.endPanning=function(){var a,h,c;this.contentLastPos&&(!1===this.opts.momentum?(a=this.contentLastPos.left,h=this.contentLastPos.top):(a=this.contentLastPos.left+this.velocityX*this.speed,h=this.contentLastPos.top+this.velocityY*this.speed),c=this.limitPosition(a,h,this.contentStartPos.width,this.contentStartPos.height),c.width=this.contentStartPos.width,c.height=this.contentStartPos.height,
b.fancybox.animate(this.$content,c,330))};n.prototype.endZooming=function(){var a,h,c,k,n=this.instance.current,l=this.newWidth,m=this.newHeight;this.contentLastPos&&(a=this.contentLastPos.left,h=this.contentLastPos.top,k={top:h,left:a,width:l,height:m,scaleX:1,scaleY:1},b.fancybox.setTranslate(this.$content,k),l<this.canvasWidth&&m<this.canvasHeight?this.instance.scaleToFit(150):l>n.width||m>n.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(c=this.limitPosition(a,
h,l,m),b.fancybox.setTranslate(this.$content,b.fancybox.getTranslate(this.$content)),b.fancybox.animate(this.$content,c,150)))};n.prototype.onTap=function(h){var c,k=this,n=b(h.target),l=k.instance,m=l.current,q=h&&p(h)||k.startPoints,w=q[0]?q[0].x-b(a).scrollLeft()-k.stagePos.left:0,B=q[0]?q[0].y-b(a).scrollTop()-k.stagePos.top:0,E=function(a){a=m.opts[a];if(b.isFunction(a)&&(a=a.apply(l,[m,h])),a)switch(a){case "close":l.close(k.startEvent);break;case "toggleControls":l.toggleControls(!0);break;
case "next":l.next();break;case "nextOrClose":1<l.group.length?l.next():l.close(k.startEvent);break;case "zoom":"image"==m.type&&(m.isLoaded||m.$ghost)&&(l.canPan()?l.scaleToFit():l.isScaledDown()?l.scaleToActual(w,B):2>l.group.length&&l.close(k.startEvent))}};if(!(h.originalEvent&&2==h.originalEvent.button||!n.is("img")&&w>n[0].clientWidth+n.offset().left)){if(n.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))c="Outside";else if(n.is(".fancybox-slide"))c="Slide";else{if(!l.current.$content||
!l.current.$content.find(n).addBack().filter(n).length)return;c="Content"}if(k.tapped){if(clearTimeout(k.tapped),k.tapped=null,50<Math.abs(w-k.tapX)||50<Math.abs(B-k.tapY))return this;E("dblclick"+c)}else k.tapX=w,k.tapY=B,m.opts["dblclick"+c]&&m.opts["dblclick"+c]!==m.opts["click"+c]?k.tapped=setTimeout(function(){k.tapped=null;E("click"+c)},500):E("click"+c);return this}};b(c).on("onActivate.fb",function(a,b){b&&!b.Guestures&&(b.Guestures=new n(b))})})(window,document,window.jQuery||jQuery);
(function(a,c){c.extend(!0,c.fancybox.defaults,{btnTpl:{slideShow:'\x3cbutton data-fancybox-play class\x3d"fancybox-button fancybox-button--play" title\x3d"{{PLAY_START}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,12 L27,20 L13,27 Z" /\x3e\x3cpath d\x3d"M15,10 v19 M23,10 v19" /\x3e\x3c/svg\x3e\x3c/button\x3e'},slideShow:{autoStart:!1,speed:3E3}});var b=function(a){this.instance=a;this.init()};c.extend(b.prototype,{timer:null,isActive:!1,$button:null,init:function(){var a=this;a.$button=
a.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){a.toggle()});(2>a.instance.group.length||!a.instance.group[a.instance.currIndex].opts.slideShow)&&a.$button.hide()},set:function(a){var b=this;b.instance&&b.instance.current&&(!0===a||b.instance.current.opts.loop||b.instance.currIndex<b.instance.group.length-1)?b.timer=setTimeout(function(){b.isActive&&b.instance.jumpTo((b.instance.currIndex+1)%b.instance.group.length)},b.instance.current.opts.slideShow.speed):(b.stop(),b.instance.idleSecondsCounter=
0,b.instance.showControls())},clear:function(){clearTimeout(this.timer);this.timer=null},start:function(){var a=this.instance.current;a&&(this.isActive=!0,this.$button.attr("title",a.opts.i18n[a.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.set(!0))},stop:function(){var a=this.instance.current;this.clear();this.$button.attr("title",a.opts.i18n[a.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play");this.isActive=
!1},toggle:function(){this.isActive?this.stop():this.start()}});c(a).on({"onInit.fb":function(a,c){c&&!c.SlideShow&&(c.SlideShow=new b(c))},"beforeShow.fb":function(a,b,c,m){a=b&&b.SlideShow;m?a&&c.opts.slideShow.autoStart&&a.start():a&&a.isActive&&a.clear()},"afterShow.fb":function(a,b,c){(a=b&&b.SlideShow)&&a.isActive&&a.set()},"afterKeydown.fb":function(b,l,p,m,q){b=l&&l.SlideShow;!b||!p.opts.slideShow||80!==q&&32!==q||c(a.activeElement).is("button,a,input")||(m.preventDefault(),b.toggle())},"beforeClose.fb onDeactivate.fb":function(a,
b){(a=b&&b.SlideShow)&&a.stop()}});c(a).on("visibilitychange",function(){var b=c.fancybox.getInstance();(b=b&&b.SlideShow)&&b.isActive&&(a.hidden?b.clear():b.set())})})(document,window.jQuery||jQuery);
(function(a,c){var b=function(){for(var b=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),
"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],c={},k=0;k<b.length;k++){var q=b[k];if(q&&q[1]in a){for(k=0;k<q.length;k++)c[b[0][k]]=q[k];return c}}return!1}();if(!b)return void(c&&c.fancybox&&(c.fancybox.defaults.btnTpl.fullScreen=!1));var k={request:function(c){c=c||a.documentElement;c[b.requestFullscreen](c.ALLOW_KEYBOARD_INPUT)},exit:function(){a[b.exitFullscreen]()},toggle:function(b){b=b||a.documentElement;this.isFullscreen()?
this.exit():this.request(b)},isFullscreen:function(){return!!a[b.fullscreenElement]},enabled:function(){return!!a[b.fullscreenEnabled]}};c.extend(!0,c.fancybox.defaults,{btnTpl:{fullScreen:'\x3cbutton data-fancybox-fullscreen class\x3d"fancybox-button fancybox-button--fullscreen" title\x3d"{{FULL_SCREEN}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M9,12 v16 h22 v-16 h-22 v8" /\x3e\x3c/svg\x3e\x3c/button\x3e'},fullScreen:{autoStart:!1}});c(a).on({"onInit.fb":function(a,b){var c;b&&b.group[b.currIndex].opts.fullScreen?
(c=b.$refs.container,c.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(a){a.stopPropagation();a.preventDefault();k.toggle()}),b.opts.fullScreen&&!0===b.opts.fullScreen.autoStart&&k.request(),b.FullScreen=k):b&&b.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(a,b,c,k,h){b&&b.FullScreen&&70===h&&(k.preventDefault(),b.FullScreen.toggle())},"beforeClose.fb":function(a,b){b&&b.FullScreen&&b.$refs.container.hasClass("fancybox-is-fullscreen")&&k.exit()}});
c(a).on(b.fullscreenchange,function(){var a=k.isFullscreen(),b=c.fancybox.getInstance();b&&(b.current&&"image"===b.current.type&&b.isAnimating&&(b.current.$content.css("transition","none"),b.isAnimating=!1,b.update(!0,!0,0)),b.trigger("onFullscreenChange",a),b.$refs.container.toggleClass("fancybox-is-fullscreen",a))})})(document,window.jQuery||jQuery);
(function(a,c){c.fancybox.defaults=c.extend(!0,{btnTpl:{thumbs:'\x3cbutton data-fancybox-thumbs class\x3d"fancybox-button fancybox-button--thumbs" title\x3d"{{THUMBS}}"\x3e\x3csvg viewBox\x3d"0 0 120 120"\x3e\x3cpath d\x3d"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /\x3e\x3c/svg\x3e\x3c/button\x3e'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",
axis:"y"}},c.fancybox.defaults);var b=function(a){this.init(a)};c.extend(b.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(a){var b,c,m=this;m.instance=a;a.Thumbs=m;m.opts=a.group[a.currIndex].opts.thumbs;b=a.group[0];b=b.opts.thumb||!(!b.opts.$thumb||!b.opts.$thumb.length)&&b.opts.$thumb.attr("src");1<a.group.length&&(c=a.group[1],c=c.opts.thumb||!(!c.opts.$thumb||!c.opts.$thumb.length)&&c.opts.$thumb.attr("src"));m.$button=a.$refs.toolbar.find("[data-fancybox-thumbs]");
m.opts&&b&&c&&b&&c?(m.$button.show().on("click",function(){m.toggle()}),m.isActive=!0):m.$button.hide()},create:function(){var a,b=this.instance,p=this.opts.parentEl,m=[];this.$grid||(this.$grid=c('\x3cdiv class\x3d"fancybox-thumbs fancybox-thumbs-'+this.opts.axis+'"\x3e\x3c/div\x3e').appendTo(b.$refs.container.find(p).addBack().filter(p)),this.$grid.on("click","li",function(){b.jumpTo(c(this).attr("data-index"))}));this.$list||(this.$list=c("\x3cul\x3e").appendTo(this.$grid));c.each(b.group,function(b,
h){(a=h.opts.thumb||(h.opts.$thumb?h.opts.$thumb.attr("src"):null))||"image"!==h.type||(a=h.src);m.push('\x3cli data-index\x3d"'+b+'" tabindex\x3d"0" class\x3d"fancybox-thumbs-loading"'+(a&&a.length?' style\x3d"background-image:url('+a+')" /\x3e':"")+"\x3e\x3c/li\x3e")});this.$list[0].innerHTML=m.join("");"x"===this.opts.axis&&this.$list.width(parseInt(this.$grid.css("padding-right"),10)+b.group.length*this.$list.children().eq(0).outerWidth(!0))},focus:function(a){var b,c,m=this.$list,q=this.$grid;
this.instance.current&&(b=m.children().removeClass("fancybox-thumbs-active").filter('[data-index\x3d"'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active"),c=b.position(),"y"===this.opts.axis&&(0>c.top||c.top>m.height()-b.outerHeight())?m.stop().animate({scrollTop:m.scrollTop()+c.top},a):"x"===this.opts.axis&&(c.left<q.scrollLeft()||c.left>q.scrollLeft()+(q.width()-b.outerWidth()))&&m.parent().stop().animate({scrollLeft:c.left},a))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",
this.isVisible);this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide");this.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});c(a).on({"onInit.fb":function(a,c){var p;c&&!c.Thumbs&&(p=new b(c),p.isActive&&!0===p.opts.autoStart&&p.show())},"beforeShow.fb":function(a,b,c,m){(a=b&&
b.Thumbs)&&a.isVisible&&a.focus(m?0:250)},"afterKeydown.fb":function(a,b,c,m,q){(a=b&&b.Thumbs)&&a.isActive&&71===q&&(m.preventDefault(),a.toggle())},"beforeClose.fb":function(a,b){(a=b&&b.Thumbs)&&a.isVisible&&!1!==a.opts.hideOnClose&&a.$grid.hide()}})})(document,window.jQuery||jQuery);
(function(a,c){function b(a){var b={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;","`":"\x26#x60;","\x3d":"\x26#x3D;"};return String(a).replace(/[&<>"'`=\/]/g,function(a){return b[a]})}c.extend(!0,c.fancybox.defaults,{btnTpl:{share:'\x3cbutton data-fancybox-share class\x3d"fancybox-button fancybox-button--share" title\x3d"{{SHARE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"\x3e\x3c/svg\x3e\x3c/button\x3e'},
share:{url:function(a,b){return!a.currentHash&&"inline"!==b.type&&"html"!==b.type&&(b.origSrc||b.src)||window.location},tpl:'\x3cdiv class\x3d"fancybox-share"\x3e\x3ch1\x3e{{SHARE}}\x3c/h1\x3e\x3cp\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--fb" href\x3d"https://www.facebook.com/sharer/sharer.php?u\x3d{{url}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /\x3e\x3c/svg\x3e\x3cspan\x3eFacebook\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--tw" href\x3d"https://twitter.com/intent/tweet?url\x3d{{url}}\x26text\x3d{{descr}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /\x3e\x3c/svg\x3e\x3cspan\x3eTwitter\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--pt" href\x3d"https://www.pinterest.com/pin/create/button/?url\x3d{{url}}\x26description\x3d{{descr}}\x26media\x3d{{media}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill\x3d"#fff"/\x3e\x3c/svg\x3e\x3cspan\x3ePinterest\x3c/span\x3e\x3c/a\x3e\x3c/p\x3e\x3cp\x3e\x3cinput class\x3d"fancybox-share__input" type\x3d"text" value\x3d"{{url_raw}}" /\x3e\x3c/p\x3e\x3c/div\x3e'}});
c(a).on("click","[data-fancybox-share]",function(){var a,l,p=c.fancybox.getInstance(),m=p.current||null;m&&("function"===c.type(m.opts.share.url)&&(a=m.opts.share.url.apply(m,[p,m])),l=m.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===m.type?encodeURIComponent(m.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(a)).replace(/\{\{url_raw\}\}/g,b(a)).replace(/\{\{descr\}\}/g,p.$caption?encodeURIComponent(p.$caption.text()):""),c.fancybox.open({src:p.translate(p,l),type:"html",opts:{animationEffect:!1,
afterLoad:function(a,b){p.$refs.container.one("beforeClose.fb",function(){a.close(null,0)});b.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width\x3d550, height\x3d450"),!1})}}}))})})(document,window.jQuery||jQuery);
(function(a,c,b){function k(){var a=c.location.hash.substr(1),b=a.split("-"),h=1<b.length&&/^\+?\d+$/.test(b[b.length-1])?parseInt(b.pop(-1),10)||1:1,b=b.join("-");return{hash:a,index:1>h?1:h,gallery:b}}function l(a){""!==a.gallery&&b("[data-fancybox\x3d'"+b.escapeSelector(a.gallery)+"']").eq(a.index-1).trigger("click.fb-start")}function p(a){var b,h;return!!a&&(b=a.current?a.current.opts:a.opts,h=b.hash||(b.$orig?b.$orig.data("fancybox"):""),""!==h&&h)}b.escapeSelector||(b.escapeSelector=function(a){return(a+
"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a})});b(function(){!1!==b.fancybox.defaults.hash&&(b(a).on({"onInit.fb":function(a,b){var h,c;!1!==b.group[b.currIndex].opts.hash&&(h=k(),c=p(b),c&&h.gallery&&c==h.gallery&&(b.currIndex=h.index-1))},"beforeShow.fb":function(b,k,h,n){var l;h&&!1!==h.opts.hash&&(l=p(k),l&&(k.currentHash=l+(1<k.group.length?"-"+(h.index+1):""),c.location.hash!==
"#"+k.currentHash&&(k.origHash||(k.origHash=c.location.hash),k.hashTimer&&clearTimeout(k.hashTimer),k.hashTimer=setTimeout(function(){"replaceState"in c.history?(c.history[n?"pushState":"replaceState"]({},a.title,c.location.pathname+c.location.search+"#"+k.currentHash),n&&(k.hasCreatedHistory=!0)):c.location.hash=k.currentHash;k.hashTimer=null},300))))},"beforeClose.fb":function(b,k,h){!1!==h.opts.hash&&(p(k),k.currentHash&&k.hasCreatedHistory?c.history.back():k.currentHash&&("replaceState"in c.history?
c.history.replaceState({},a.title,c.location.pathname+c.location.search+(k.origHash||"")):c.location.hash=k.origHash),k.currentHash=null,clearTimeout(k.hashTimer))}}),b(c).on("hashchange.fb",function(){var a,c=k();b.each(b(".fancybox-container").get().reverse(),function(h,c){h=b(c).data("FancyBox");if(h.currentHash)return a=h,!1});a?!a.currentHash||a.currentHash===c.gallery+"-"+c.index||1===c.index&&a.currentHash==c.gallery||(a.currentHash=null,a.close()):""!==c.gallery&&l(c)}),setTimeout(function(){b.fancybox.getInstance()||
l(k())},50))})})(document,window,window.jQuery||jQuery);
(function(a,c){var b=(new Date).getTime();c(a).on({"onInit.fb":function(a,c,p){c.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(a){var k=c.current,h=(new Date).getTime();2>c.group.length||!1===k.opts.wheel||"auto"===k.opts.wheel&&"image"!==k.type||(a.preventDefault(),a.stopPropagation(),k.$slide.hasClass("fancybox-animated")||(a=a.originalEvent||a,250>h-b||(b=h,c[0>(-a.deltaY||-a.deltaX||a.wheelDelta||-a.detail)?"next":"previous"]())))})}})})(document,window.jQuery||
jQuery);
(function(a,c,b){function k(b,h){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=a(b);this.$elProxy;this.elProxyPosition;this.enabled=!0;this.options=a.extend({},m,h);this.mouseIsOverProxy=!1;this.namespace="tooltipster-"+Math.round(1E5*Math.random());this.Status="hidden";this.timerShow=this.timerHide=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}function l(b,
h){var c=!0;a.each(b,function(a,k){if("undefined"===typeof h[a]||b[a]!==h[a])return c=!1});return c}function p(){var a=(b.body||b.documentElement).style,h="transition";if("string"==typeof a[h])return!0;v=["Moz","Webkit","Khtml","O","ms"];for(var h=h.charAt(0).toUpperCase()+h.substr(1),c=0;c<v.length;c++)if("string"==typeof a[v[c]+h])return!0;return!1}var m={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,
functionInit:function(a,b){},functionBefore:function(a,b){b()},functionReady:function(a,b){},functionAfter:function(a){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(a){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",
touchDevices:!0,trigger:"hover",updateAnimation:!0};k.prototype={_init:function(){var c=this;if(b.querySelector){var k=null;void 0===c.$el.data("tooltipster-initialTitle")&&(k=c.$el.attr("title"),void 0===k&&(k=null),c.$el.data("tooltipster-initialTitle",k));null!==c.options.content?c._content_set(c.options.content):c._content_set(k);k=c.options.functionInit.call(c.$el,c.$el,c.Content);"undefined"!==typeof k&&c._content_set(k);c.$el.removeAttr("title").addClass("tooltipstered");!q&&c.options.iconDesktop||
q&&c.options.iconTouch?("string"===typeof c.options.icon?(c.$elProxy=a('\x3cspan class\x3d"'+c.options.iconTheme+'"\x3e\x3c/span\x3e'),c.$elProxy.text(c.options.icon)):c.$elProxy=c.options.iconCloning?c.options.icon.clone(!0):c.options.icon,c.$elProxy.insertAfter(c.$el)):c.$elProxy=c.$el;if("hover"==c.options.trigger){if(c.$elProxy.on("mouseenter."+c.namespace,function(){if(h||!q||c.options.touchDevices)c.mouseIsOverProxy=!0,c._show()}).on("mouseleave."+c.namespace,function(){if(h||!q||c.options.touchDevices)c.mouseIsOverProxy=
!1}),q&&c.options.touchDevices)c.$elProxy.on("touchstart."+c.namespace,function(){c._showNow()})}else if("click"==c.options.trigger)c.$elProxy.on("click."+c.namespace,function(){(h||!q||c.options.touchDevices)&&c._show()})}},_show:function(){var a=this;"shown"!=a.Status&&"appearing"!=a.Status&&(a.options.delay?a.timerShow=setTimeout(function(){("click"==a.options.trigger||"hover"==a.options.trigger&&a.mouseIsOverProxy)&&a._showNow()},a.options.delay):a._showNow())},_showNow:function(b){var h=this;
h.options.functionBefore.call(h.$el,h.$el,function(){if(h.enabled&&null!==h.Content){b&&h.callbacks.show.push(b);h.callbacks.hide=[];clearTimeout(h.timerShow);h.timerShow=null;clearTimeout(h.timerHide);h.timerHide=null;h.options.onlyOne&&a(".tooltipstered").not(h.$el).each(function(b,h){var c=a(h);b=c.data("tooltipster-ns");a.each(b,function(a,b){a=c.data(b);b=a.status();var h=a.option("autoClose");"hidden"!==b&&"disappearing"!==b&&h&&a.hide()})});var k=function(){h.Status="shown";a.each(h.callbacks.show,
function(a,b){b.call(h.$el)});h.callbacks.show=[]};if("hidden"!==h.Status){var l=0;"disappearing"===h.Status?(h.Status="appearing",p()?(h.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+h.options.animation+"-show"),0<h.options.speed&&h.$tooltip.delay(h.options.speed),h.$tooltip.queue(k)):h.$tooltip.stop().fadeIn(k)):"shown"===h.Status&&k()}else{h.Status="appearing";l=h.options.speed;h.bodyOverflowX=a("body").css("overflow-x");a("body").css("overflow-x","hidden");var m=
"tooltipster-"+h.options.animation;h.$tooltip=a('\x3cdiv class\x3d"tooltipster-base '+h.options.theme+'" style\x3d"'+(h.options.minWidth?"min-width:"+Math.round(h.options.minWidth)+"px;":"")+" "+(h.options.maxWidth?"max-width:"+Math.round(h.options.maxWidth)+"px;":"")+" "+(h.options.interactive?"pointer-events: auto;":"")+" "+("-webkit-transition-duration: "+h.options.speed+"ms; -webkit-animation-duration: "+h.options.speed+"ms; -moz-transition-duration: "+h.options.speed+"ms; -moz-animation-duration: "+
h.options.speed+"ms; -o-transition-duration: "+h.options.speed+"ms; -o-animation-duration: "+h.options.speed+"ms; -ms-transition-duration: "+h.options.speed+"ms; -ms-animation-duration: "+h.options.speed+"ms; transition-duration: "+h.options.speed+"ms; animation-duration: "+h.options.speed+"ms;")+'"\x3e\x3cdiv class\x3d"tooltipster-content"\x3e\x3c/div\x3e\x3c/div\x3e');p()&&h.$tooltip.addClass(m);h._content_insert();h.$tooltip.appendTo("body");h.reposition();h.options.functionReady.call(h.$el,h.$el,
h.$tooltip);p()?(h.$tooltip.addClass(m+"-show"),0<h.options.speed&&h.$tooltip.delay(h.options.speed),h.$tooltip.queue(k)):h.$tooltip.css("display","none").fadeIn(h.options.speed,k);h._interval_set();a(c).on("scroll."+h.namespace+" resize."+h.namespace,function(){h.reposition()});if(h.options.autoClose)if(a("body").off("."+h.namespace),"hover"==h.options.trigger){q&&setTimeout(function(){a("body").on("touchstart."+h.namespace,function(){h.hide()})},0);if(h.options.interactive){if(q)h.$tooltip.on("touchstart."+
h.namespace,function(a){a.stopPropagation()});var r=null;h.$elProxy.add(h.$tooltip).on("mouseleave."+h.namespace+"-autoClose",function(){clearTimeout(r);r=setTimeout(function(){h.hide()},h.options.interactiveTolerance)}).on("mouseenter."+h.namespace+"-autoClose",function(){clearTimeout(r)})}else h.$elProxy.on("mouseleave."+h.namespace+"-autoClose",function(){h.hide()});if(h.options.hideOnClick)h.$elProxy.on("click."+h.namespace+"-autoClose",function(){h.hide()})}else if("click"==h.options.trigger&&
(setTimeout(function(){a("body").on("click."+h.namespace+" touchstart."+h.namespace,function(){h.hide()})},0),h.options.interactive))h.$tooltip.on("click."+h.namespace+" touchstart."+h.namespace,function(a){a.stopPropagation()})}0<h.options.timer&&(h.timerHide=setTimeout(function(){h.timerHide=null;h.hide()},h.options.timer+l))}})},_interval_set:function(){var b=this;b.checkInterval=setInterval(function(){if(0===a("body").find(b.$el).length||0===a("body").find(b.$elProxy).length||"hidden"==b.Status||
0===a("body").find(b.$tooltip).length)"shown"!=b.Status&&"appearing"!=b.Status||b.hide(),b._interval_cancel();else if(b.options.positionTracker){var h=b._repositionInfo(b.$elProxy),c=!1;l(h.dimension,b.elProxyPosition.dimension)&&("fixed"===b.$elProxy.css("position")?l(h.position,b.elProxyPosition.position)&&(c=!0):l(h.offset,b.elProxyPosition.offset)&&(c=!0));c||(b.reposition(),b.options.positionTrackerCallback.call(b,b.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);
this.checkInterval=null},_content_set:function(a){"object"===typeof a&&null!==a&&this.options.contentCloning&&(a=a.clone(!0));this.Content=a},_content_insert:function(){var a=this.$tooltip.find(".tooltipster-content");"string"!==typeof this.Content||this.options.contentAsHTML?a.empty().append(this.Content):a.text(this.Content)},_update:function(a){var b=this;b._content_set(a);null!==b.Content?"hidden"!==b.Status&&(b._content_insert(),b.reposition(),b.options.updateAnimation&&(p()?(b.$tooltip.css({width:"",
"-webkit-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=
b.Status&&(b.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==b.Status&&b.$tooltip.css({"-webkit-transition":b.options.speed+"ms","-moz-transition":b.options.speed+"ms","-o-transition":b.options.speed+"ms","-ms-transition":b.options.speed+"ms",transition:b.options.speed+"ms"})},b.options.speed))},b.options.speed)):b.$tooltip.fadeTo(b.options.speed,.5,function(){"hidden"!=b.Status&&b.$tooltip.fadeTo(b.options.speed,1)}))):b.hide()},_repositionInfo:function(b){var h=
a("body").css("transform"),h="none"!=h?parseFloat(h.substring(h.indexOf("(")+1,h.indexOf(")")).split(",")[0]):1;return{dimension:{height:b.outerHeight(!1),width:b.outerWidth(!1)},offset:{left:b.offset().left/h,top:b.offset().top/h},position:{left:parseInt(b.css("left")),top:parseInt(b.css("top"))}}},hide:function(b){var h=this;b&&h.callbacks.hide.push(b);h.callbacks.show=[];clearTimeout(h.timerShow);h.timerShow=null;clearTimeout(h.timerHide);h.timerHide=null;var k=function(){a.each(h.callbacks.hide,
function(a,b){b.call(h.$el)});h.callbacks.hide=[]};"shown"==h.Status||"appearing"==h.Status?(h.Status="disappearing",b=function(){h.Status="hidden";"object"==typeof h.Content&&null!==h.Content&&h.Content.detach();h.$tooltip.remove();h.$tooltip=null;a(c).off("."+h.namespace);a("body").off("."+h.namespace).css("overflow-x",h.bodyOverflowX);a("body").off("."+h.namespace);h.$elProxy.off("."+h.namespace+"-autoClose");h.options.functionAfter.call(h.$el,h.$el);k()},p()?(h.$tooltip.clearQueue().removeClass("tooltipster-"+
h.options.animation+"-show").addClass("tooltipster-dying"),0<h.options.speed&&h.$tooltip.delay(h.options.speed),h.$tooltip.queue(b)):h.$tooltip.stop().fadeOut(h.options.speed,b)):"hidden"==h.Status&&k();return h},show:function(a){this._showNow(a);return this},update:function(a){return this.content(a)},content:function(a){if("undefined"===typeof a)return this.Content;this._update(a);return this},reposition:function(){if(0!==a("body").find(this.$tooltip).length){var b=function(b,h){0>m.offset.top-a(c).scrollTop()-
p-J-12&&-1<h.indexOf("top")&&(Y=b);m.offset.top+m.dimension.height+p+12+J>a(c).scrollTop()+a(c).height()&&-1<h.indexOf("bottom")&&(Y=b,O=m.offset.top-p-J-12)},h=function(){var b=a(c).scrollLeft();0>N-b&&(k=N-b,N=b);N+r-b>l&&(k=N-(l+b-r),N=l+b-r)};this.$tooltip.css("width","");this.elProxyPosition=this._repositionInfo(this.$elProxy);var k=null,l=a(c).width(),m=this.elProxyPosition,r=this.$tooltip.outerWidth(!1);this.$tooltip.innerWidth();var p=this.$tooltip.outerHeight(!1);if(this.$elProxy.is("area")){var q=
this.$elProxy.attr("shape"),w=this.$elProxy.parent().attr("name"),B=a('img[usemap\x3d"#'+w+'"]'),w=B.offset().left,E=B.offset().top,D=void 0!==this.$elProxy.attr("coords")?this.$elProxy.attr("coords").split(","):void 0;if("circle"==q)q=parseInt(D[0]),B=parseInt(D[1]),D=parseInt(D[2]),m.dimension.height=2*D,m.dimension.width=2*D,m.offset.top=E+B-D,m.offset.left=w+q-D;else if("rect"==q){var q=parseInt(D[0]),B=parseInt(D[1]),F=parseInt(D[2]),D=parseInt(D[3]);m.dimension.height=D-B;m.dimension.width=
F-q;m.offset.top=E+B;m.offset.left=w+q}else if("poly"==q){for(var H=F=B=q=0,G="even",L=0;L<D.length;L++){var I=parseInt(D[L]);"even"==G?(I>F&&(F=I,0===L&&(q=F)),I<q&&(q=I),G="odd"):(I>H&&(H=I,1==L&&(B=H)),I<B&&(B=I),G="even")}m.dimension.height=H-B;m.dimension.width=F-q;m.offset.top=E+B;m.offset.left=w+q}else m.dimension.height=B.outerHeight(!1),m.dimension.width=B.outerWidth(!1),m.offset.top=E,m.offset.left=w}var N=0,O=E=0,J=parseInt(this.options.offsetY),w=parseInt(this.options.offsetX),Y=this.options.position;
"top"==Y&&(E=m.offset.left+r-(m.offset.left+m.dimension.width),N=m.offset.left+w-E/2,O=m.offset.top-p-J-12,h(),b("bottom","top"));"top-left"==Y&&(N=m.offset.left+w,O=m.offset.top-p-J-12,h(),b("bottom-left","top-left"));"top-right"==Y&&(N=m.offset.left+m.dimension.width+w-r,O=m.offset.top-p-J-12,h(),b("bottom-right","top-right"));"bottom"==Y&&(E=m.offset.left+r-(m.offset.left+m.dimension.width),N=m.offset.left-E/2+w,O=m.offset.top+m.dimension.height+J+12,h(),b("top","bottom"));"bottom-left"==Y&&(N=
m.offset.left+w,O=m.offset.top+m.dimension.height+J+12,h(),b("top-left","bottom-left"));"bottom-right"==Y&&(N=m.offset.left+m.dimension.width+w-r,O=m.offset.top+m.dimension.height+J+12,h(),b("top-right","bottom-right"));"left"==Y&&(N=m.offset.left-w-r-12,E=m.offset.left+w+m.dimension.width+12,b=m.offset.top+p-(m.offset.top+m.dimension.height),O=m.offset.top-b/2-J,0>N&&E+r>l?(b=2*parseFloat(this.$tooltip.css("border-width")),h=r+N-b,this.$tooltip.css("width",h+"px"),p=this.$tooltip.outerHeight(!1),
N=m.offset.left-w-h-12-b,b=m.offset.top+p-(m.offset.top+m.dimension.height),O=m.offset.top-b/2-J):0>N&&(N=m.offset.left+w+m.dimension.width+12,k="left"));"right"==Y&&(N=m.offset.left+w+m.dimension.width+12,E=m.offset.left-w-r-12,b=m.offset.top+p-(m.offset.top+m.dimension.height),O=m.offset.top-b/2-J,N+r>l&&0>E?(b=2*parseFloat(this.$tooltip.css("border-width")),this.$tooltip.css("width",l-N-b+"px"),p=this.$tooltip.outerHeight(!1),b=m.offset.top+p-(m.offset.top+m.dimension.height),O=m.offset.top-b/
2-J):N+r>l&&(N=m.offset.left-w-r-12,k="right"));this.options.arrow&&(b="tooltipster-arrow-"+Y,h=1>this.options.arrowColor.length?this.$tooltip.css("background-color"):this.options.arrowColor,k?"left"==k?(b="tooltipster-arrow-right",k=""):"right"==k?(b="tooltipster-arrow-left",k=""):k="left:"+Math.round(k)+"px;":k="","top"==Y||"top-left"==Y||"top-right"==Y?(w=parseFloat(this.$tooltip.css("border-bottom-width")),E=this.$tooltip.css("border-bottom-color")):"bottom"==Y||"bottom-left"==Y||"bottom-right"==
Y?(w=parseFloat(this.$tooltip.css("border-top-width")),E=this.$tooltip.css("border-top-color")):"left"==Y?(w=parseFloat(this.$tooltip.css("border-right-width")),E=this.$tooltip.css("border-right-color")):"right"==Y?(w=parseFloat(this.$tooltip.css("border-left-width")),E=this.$tooltip.css("border-left-color")):(w=parseFloat(this.$tooltip.css("border-bottom-width")),E=this.$tooltip.css("border-bottom-color")),1<w&&w++,D="",0!==w&&(D="",E="border-color: "+E+";",-1!==b.indexOf("bottom")?D="margin-top: -"+
Math.round(w)+"px;":-1!==b.indexOf("top")?D="margin-bottom: -"+Math.round(w)+"px;":-1!==b.indexOf("left")?D="margin-right: -"+Math.round(w)+"px;":-1!==b.indexOf("right")&&(D="margin-left: -"+Math.round(w)+"px;"),D='\x3cspan class\x3d"tooltipster-arrow-border" style\x3d"'+D+" "+E+';"\x3e\x3c/span\x3e'),this.$tooltip.find(".tooltipster-arrow").remove(),this.$tooltip.append('\x3cdiv class\x3d"'+b+' tooltipster-arrow" style\x3d"'+k+'"\x3e'+D+'\x3cspan style\x3d"border-color:'+h+';"\x3e\x3c/span\x3e\x3c/div\x3e'));
this.$tooltip.css({top:Math.round(O)+"px",left:Math.round(N)+"px"})}return this},enable:function(){this.enabled=!0;return this},disable:function(){this.hide();this.enabled=!1;return this},destroy:function(){var b=this;b.hide();b.$el[0]!==b.$elProxy[0]&&b.$elProxy.remove();b.$el.removeData(b.namespace).off("."+b.namespace);var h=b.$el.data("tooltipster-ns");1===h.length?(h=null,"previous"===b.options.restoration?h=b.$el.data("tooltipster-initialTitle"):"current"===b.options.restoration&&(h="string"===
typeof b.Content?b.Content:a("\x3cdiv\x3e\x3c/div\x3e").append(b.Content).html()),h&&b.$el.attr("title",h),b.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(h=a.grep(h,function(a,h){return a!==b.namespace}),b.$el.data("tooltipster-ns",h));return b},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(a,b){if("undefined"==typeof b)return this.options[a];
this.options[a]=b;return this},status:function(){return this.Status}};a.fn.tooltipster=function(){var b=arguments;if(0===this.length){if("string"===typeof b[0]){var h=!0;switch(b[0]){case "setDefaults":a.extend(m,b[1]);break;default:h=!1}return h?!0:this}return this}if("string"===typeof b[0]){var c="#*$~\x26";this.each(function(){var h=a(this).data("tooltipster-ns");if(h=h?a(this).data(h[0]):null){if("function"===typeof h[b[0]])var k=h[b[0]](b[1],b[2]);else throw Error('Unknown method .tooltipster("'+
b[0]+'")');if(k!==h)return c=k,!1}else throw Error("You called Tooltipster's \""+b[0]+'" method on an uninitialized element');});return"#*$~\x26"!==c?c:this}var l=[],p=(h=b[0]&&"undefined"!==typeof b[0].multiple)&&b[0].multiple||!h&&m.multiple;this.each(function(){var h=!1,c=a(this).data("tooltipster-ns"),m=null;c?p&&(h=!0):h=!0;h&&(m=new k(this,b[0]),c||(c=[]),c.push(m.namespace),a(this).data("tooltipster-ns",c),a(this).data(m.namespace,m));l.push(m)});return p?l:this};var q=!!("ontouchstart"in c),
h=!1;a("body").one("mousemove",function(){h=!0})})(jQuery,window,document);
!function(a){var c=function(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]},b=function(b,c,p){this.setting={axis:"y",reverse:!1,trigger:"click",speed:500,forceHeight:!1,forceWidth:!1,autoSize:!0,front:".front",back:".back"};this.setting=a.extend(this.setting,c);"string"!=typeof c.axis||"x"!==c.axis.toLowerCase()&&"y"!==c.axis.toLowerCase()||
(this.setting.axis=c.axis.toLowerCase());"boolean"==typeof c.reverse&&(this.setting.reverse=c.reverse);"string"==typeof c.trigger&&(this.setting.trigger=c.trigger.toLowerCase());var m=parseInt(c.speed);isNaN(m)||(this.setting.speed=m);"boolean"==typeof c.forceHeight&&(this.setting.forceHeight=c.forceHeight);"boolean"==typeof c.forceWidth&&(this.setting.forceWidth=c.forceWidth);"boolean"==typeof c.autoSize&&(this.setting.autoSize=c.autoSize);("string"==typeof c.front||c.front instanceof a)&&(this.setting.front=
c.front);("string"==typeof c.back||c.back instanceof a)&&(this.setting.back=c.back);this.element=b;this.frontElement=this.getFrontElement();this.backElement=this.getBackElement();this.isFlipped=!1;this.init(p)};a.extend(b.prototype,{flipDone:function(a){var b=this;b.element.one(c(),function(){b.element.trigger("flip:done");"function"==typeof a&&a.call(b.element)})},flip:function(a){if(!this.isFlipped){this.isFlipped=!0;var b="rotate"+this.setting.axis;this.frontElement.css({transform:b+(this.setting.reverse?
"(-180deg)":"(180deg)"),"z-index":"0"});this.backElement.css({transform:b+"(0deg)","z-index":"1"});this.flipDone(a)}},unflip:function(a){if(this.isFlipped){this.isFlipped=!1;var b="rotate"+this.setting.axis;this.frontElement.css({transform:b+"(0deg)","z-index":"1"});this.backElement.css({transform:b+(this.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});this.flipDone(a)}},getFrontElement:function(){return this.setting.front instanceof a?this.setting.front:this.element.find(this.setting.front)},
getBackElement:function(){return this.setting.back instanceof a?this.setting.back:this.element.find(this.setting.back)},init:function(a){var b=this,c=b.frontElement.add(b.backElement),m="rotate"+b.setting.axis,q={perspective:2*b.element["outer"+("rotatex"===m?"Height":"Width")](),position:"relative"},m={transform:m+"("+(b.setting.reverse?"180deg":"-180deg")+")","z-index":"0",position:"relative"},h={"backface-visibility":"hidden","transform-style":"preserve-3d",position:"absolute","z-index":"1"};b.setting.forceHeight?
c.outerHeight(b.element.height()):b.setting.autoSize&&(h.height="100%");b.setting.forceWidth?c.outerWidth(b.element.width()):b.setting.autoSize&&(h.width="100%");(window.chrome||window.Intl&&Intl.v8BreakIterator)&&"CSS"in window&&(q["-webkit-transform-style"]="preserve-3d");c.css(h).find("*").css({"backface-visibility":"hidden"});b.element.css(q);b.backElement.css(m);setTimeout(function(){c.css({transition:"all "+(b.setting.speed/1E3||.5)+"s ease-out"});"function"==typeof a&&a.call(b.element)},20);
b.attachEvents()},clickHandler:function(b){b||(b=window.event);this.element.find(a(b.target).closest('button, a, input[type\x3d"submit"]')).length||(this.isFlipped?this.unflip():this.flip())},hoverHandler:function(){var b=this;b.element.off("mouseleave.flip");b.flip();setTimeout(function(){b.element.on("mouseleave.flip",a.proxy(b.unflip,b));b.element.is(":hover")||b.unflip()},b.setting.speed+150)},attachEvents:function(){"click"===this.setting.trigger?this.element.on(a.fn.tap?"tap.flip":"click.flip",
a.proxy(this.clickHandler,this)):"hover"===this.setting.trigger&&(this.element.on("mouseenter.flip",a.proxy(this.hoverHandler,this)),this.element.on("mouseleave.flip",a.proxy(this.unflip,this)))},flipChanged:function(a){this.element.trigger("flip:change");"function"==typeof a&&a.call(this.element)},changeSettings:function(a,b){var c=this,m=!1;if(void 0!==a.axis&&c.setting.axis!==a.axis.toLowerCase()&&(c.setting.axis=a.axis.toLowerCase(),m=!0),void 0!==a.reverse&&c.setting.reverse!==a.reverse&&(c.setting.reverse=
a.reverse,m=!0),m){var q=c.frontElement.add(c.backElement),h=q.css(["transition-property","transition-timing-function","transition-duration","transition-delay"]);q.css({transition:"none"});a="rotate"+c.setting.axis;c.isFlipped?c.frontElement.css({transform:a+(c.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"}):c.backElement.css({transform:a+(c.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});setTimeout(function(){q.css(h);c.flipChanged(b)},0)}else c.flipChanged(b)}});a.fn.flip=function(c,
l){return"function"==typeof c&&(l=c),"string"==typeof c||"boolean"==typeof c?this.each(function(){var b=a(this).data("flip-model");"toggle"===c&&(c=!b.isFlipped);c?b.flip(l):b.unflip(l)}):this.each(function(){if(a(this).data("flip-model")){var p=a(this).data("flip-model");!c||void 0===c.axis&&void 0===c.reverse||p.changeSettings(c,l)}else a(this).data("flip-model",new b(a(this),c||{},l))}),this}}(jQuery);
!function(a){a.fn.captionjs=function(c){var b=a.extend({class_name:"captionjs",schema:!0,mode:"default",debug_mode:!1,force_dimensions:!0,is_responsive:!1,inherit_styles:!1},c||{}),k=function(a,b,c,k){c.jquery&&k.jquery&&(c.css(a,k.css(a)),k.css(a,b))};return this.each(function(){var c,p,m=a(this);c=m.data("caption")?m.data("caption"):m.attr("alt");var q=m.wrap('\x3cfigure class\x3d"'+b.class_name+" "+b.mode+'"/\x3e').after("\x3cfigcaption/\x3e").parent(),h=m.next("figcaption").html(c);m.data("link")?
h.wrapInner('\x3ca href\x3d"'+m.data("link")+'"/\x3e').children("a").css("padding","0").css("margin","0"):null;if(""===c&&h.remove(),b.force_dimensions){var n=q.clone().css({position:"absolute",left:"-9999px"}).appendTo("body");c=a("img",n).outerWidth();p=a("figcaption",n).css("width",c).css("clear","both").outerHeight();n.remove()}else c=m.outerWidth(),p=h.outerHeight();b.is_responsive&&(c="100%",m.width(c));b.inherit_styles&&("inline"==m.css("display")?q.css("display","inline-block"):k("display",
"block",q,m),"static"==m.css("position")?q.css("position","relative"):k("position","relative",q,m),k("clear","both",q,m),k("float","none",q,m),k("margin","0",q,m),m.css("padding","0"),k("left","auto",q,m),k("right","auto",q,m),k("top","auto",q,m),k("bottom","auto",q,m),k("z-index",m.css("z-index"),q,m));q.width(c);b.schema&&(q.attr({itemscope:"itemscope",itemtype:"http://schema.org/Photograph"}),h.attr("itemprop","name"),m.attr("itemprop","image"));"stacked"===b.mode&&h.css({"margin-bottom":"0",bottom:"0"});
"animated"===b.mode&&h.css({"margin-bottom":"0",bottom:-p});"hide"===b.mode&&h.css({"margin-bottom":p,bottom:-p})})}}(jQuery,window);
!function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.noUiSlider=a()}(function(){function a(a){return a.filter(function(a){return this[a]?!1:this[a]=!0},{})}function c(a){var b=a.getBoundingClientRect();a=a.ownerDocument.documentElement;var h=q();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(h.x=0),{top:b.top+h.y-a.clientTop,left:b.left+h.x-a.clientLeft}}function b(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function k(a,
b,h){p(a,b);setTimeout(function(){m(a,b)},h)}function l(a){return Array.isArray(a)?a:[a]}function p(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function m(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function q(){var a=void 0!==window.pageXOffset,b="CSS1Compat"===(document.compatMode||"");return{x:a?window.pageXOffset:b?document.documentElement.scrollLeft:document.body.scrollLeft,y:a?window.pageYOffset:
b?document.documentElement.scrollTop:document.body.scrollTop}}function h(a){a.stopPropagation()}function n(a){return function(b){return a+b}}function t(a,b){return 100*b/(a[1]-a[0])}function y(a,b){for(var h=1;a>=b[h];)h+=1;return h}function x(a,h,c){var k;if("number"==typeof h&&(h=[h]),"[object Array]"!==Object.prototype.toString.call(h))throw Error("noUiSlider: 'range' contains invalid value.");if(k="min"===a?0:"max"===a?100:parseFloat(a),!b(k)||!b(h[0]))throw Error("noUiSlider: 'range' value isn't numeric.");
c.xPct.push(k);c.xVal.push(h[0]);k?c.xSteps.push(isNaN(h[1])?!1:h[1]):isNaN(h[1])||(c.xSteps[0]=h[1])}function z(a,b,h){return b?void(h.xSteps[a]=t([h.xVal[a],h.xVal[a+1]],b)/(100/(h.xPct[a+1]-h.xPct[a]))):!0}function r(a,b,h,c){this.xPct=[];this.xVal=[];this.xSteps=[c||!1];this.xNumSteps=[!1];this.snap=b;this.direction=h;var k;b=[];for(k in a)a.hasOwnProperty(k)&&b.push([a[k],k]);b.length&&"object"==typeof b[0][0]?b.sort(function(a,b){return a[0][0]-b[0][0]}):b.sort(function(a,b){return a[0]-b[0]});
for(k=0;k<b.length;k++)x(b[k][1],b[k][0],this);this.xNumSteps=this.xSteps.slice(0);for(k=0;k<this.xNumSteps.length;k++)z(k,this.xNumSteps[k],this)}function C(a,h){if(!b(h))throw Error("noUiSlider: 'step' is not numeric.");a.singleStep=h}function A(a,b){if("object"!=typeof b||Array.isArray(b))throw Error("noUiSlider: 'range' is not an object.");if(void 0===b.min||void 0===b.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(b.min===b.max)throw Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");
a.spectrum=new r(b,a.snap,a.dir,a.singleStep)}function w(a,b){if(b=l(b),!Array.isArray(b)||!b.length||2<b.length)throw Error("noUiSlider: 'start' option is incorrect.");a.handles=b.length;a.start=b}function B(a,b){if(a.snap=b,"boolean"!=typeof b)throw Error("noUiSlider: 'snap' option must be a boolean.");}function E(a,b){if(a.animate=b,"boolean"!=typeof b)throw Error("noUiSlider: 'animate' option must be a boolean.");}function D(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&
1===a.handles)a.connect=2;else if(!0===b&&2===a.handles)a.connect=3;else{if(!1!==b)throw Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function F(a,b){switch(b){case "horizontal":a.ort=0;break;case "vertical":a.ort=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.");}}function H(a,h){if(!b(h))throw Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(h),!a.margin)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");
}function G(a,h){if(!b(h))throw Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(h),!a.limit)throw Error("noUiSlider: 'limit' option is only supported on linear sliders.");}function L(a,b){switch(b){case "ltr":a.dir=0;break;case "rtl":a.dir=1;a.connect=[0,2,1,3][a.connect];break;default:throw Error("noUiSlider: 'direction' option was not recognized.");}}function I(a,b){if("string"!=typeof b)throw Error("noUiSlider: 'behaviour' must be a string containing options.");
var h=0<=b.indexOf("tap"),c=0<=b.indexOf("drag"),k=0<=b.indexOf("fixed"),n=0<=b.indexOf("snap");b=0<=b.indexOf("hover");if(c&&!a.connect)throw Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");a.events={tap:h||n,drag:c,fixed:k,snap:n,hover:b}}function N(a,b){if(!1!==b)if(!0===b)for(a.tooltips=[],b=0;b<a.handles;b++)a.tooltips.push(!0);else{if(a.tooltips=l(b),a.tooltips.length!==a.handles)throw Error("noUiSlider: must pass a formatter for all handles.");a.tooltips.forEach(function(a){if("boolean"!=
typeof a&&("object"!=typeof a||"function"!=typeof a.to))throw Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");})}}function O(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.");}function J(a,b){if(void 0!==b&&"string"!=typeof b)throw Error("noUiSlider: 'cssPrefix' must be a string.");a.cssPrefix=b}function Y(a){var b,h={margin:0,limit:0,animate:!0,format:T};b={step:{r:!1,t:C},start:{r:!0,
t:w},connect:{r:!0,t:D},direction:{r:!0,t:L},snap:{r:!1,t:B},animate:{r:!1,t:E},range:{r:!0,t:A},orientation:{r:!1,t:F},margin:{r:!1,t:H},limit:{r:!1,t:G},behaviour:{r:!0,t:I},format:{r:!1,t:O},tooltips:{r:!1,t:N},cssPrefix:{r:!1,t:J}};var c={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(b).forEach(function(k){if(void 0===a[k]&&void 0===c[k]){if(b[k].r)throw Error("noUiSlider: '"+k+"' is required.");return!0}b[k].t(h,void 0===a[k]?c[k]:a[k])}),h.pips=a.pips,
h.style=h.ort?"top":"left",h}function V(b,r){function t(a,b){var h=document.createElement("div"),c=document.createElement("div"),k=["-lower","-upper"];return a&&k.reverse(),p(c,ca[3]),p(c,ca[3]+k[b]),p(h,ca[2]),h.appendChild(c),h}function x(a,b){if(!r.tooltips[b])return!1;b=document.createElement("div");return b.className=ca[18],a.firstChild.appendChild(b)}function w(){r.dir&&r.tooltips.reverse();var a=V.map(x);r.dir&&(a.reverse(),r.tooltips.reverse());J("update",function(b,h,c){a[h]&&(a[h].innerHTML=
!0===r.tooltips[h]?b[h]:r.tooltips[h].to(c[h]))})}function y(a,b,h){if("range"===a||"steps"===a)return M.xVal;if("count"===a){var c=100/(b-1),k=0;for(b=[];100>=(a=k++*c);)b.push(a);a="positions"}return"positions"===a?b.map(function(a){return M.fromStepping(h?M.getStep(a):a)}):"values"===a?h?b.map(function(a){return M.fromStepping(M.getStep(M.toStepping(a)))}):b:void 0}function z(b,h,c){var k=M.direction,n={},l=M.xVal[0],r=M.xVal[M.xVal.length-1],m=!1,t=!1,x=0;return M.direction=0,c=a(c.slice().sort(function(a,
b){return a-b})),c[0]!==l&&(c.unshift(l),m=!0),c[c.length-1]!==r&&(c.push(r),t=!0),c.forEach(function(a,k){var l,r,p,w,y,q,z=c[k+1];if("steps"===h&&(l=M.xNumSteps[k]),l||(l=z-a),!1!==a&&void 0!==z)for(;z>=a;a=(a+l).toFixed(7)/1){p=M.toStepping(a);r=p-x;y=r/b;y=Math.round(y);q=r/y;for(r=1;y>=r;r+=1)w=x+r*q,n[w.toFixed(5)]=["x",0];y=-1<c.indexOf(a)?1:"steps"===h?2:0;!k&&m&&(y=0);a===z&&t||(n[p.toFixed(5)]=[a,y]);x=p}}),M.direction=k,n}function A(a,b,h){function c(a,b,h){return'class\x3d"'+b+" "+b+"-"+
k+" "+b+["-normal","-large","-sub"][h[1]]+'" style\x3d"'+r.style+": "+a+'%"'}var k=["horizontal","vertical"][r.ort],n=document.createElement("div");return p(n,ca[20]),p(n,ca[20]+"-"+k),Object.keys(a).forEach(function(k){var l=k;k=a[k];M.direction&&(l=100-l);k[1]=k[1]&&b?b(k[0],k[1]):k[1];n.innerHTML+="\x3cdiv "+c(l,ca[21],k)+"\x3e\x3c/div\x3e";k[1]&&(n.innerHTML+="\x3cdiv "+c(l,ca[22],k)+"\x3e"+h.to(k[0])+"\x3c/div\x3e")}),n}function C(a){var b=a.mode,h=a.density||1,c=a.filter||!1,k=y(b,a.values||
!1,a.stepped||!1),b=z(h,b,k);return la.appendChild(A(b,c,a.format||{to:Math.round}))}function B(){return T["offset"+["Width","Height"][r.ort]]}function E(a,b,h){void 0!==b&&1!==r.handles&&(b=Math.abs(b-r.dir));Object.keys(oa).forEach(function(c){var k=c.split(".")[0];a===k&&oa[c].forEach(function(a){a.call(Fa,l(O()),b,l(D(Array.prototype.slice.call(va))),h||!1)})})}function D(a){return 1===a.length?a[0]:r.dir?a.reverse():a}function H(a,b,h,c){var k=function(b){var k;if(la.hasAttribute("disabled"))k=
!1;else{var n=la,l=ca[14];n.classList?n.classList.contains(l):(new RegExp("(^| )"+l+"( |$)","gi")).test(n.className);k=b;n=c.pageOffset;k.preventDefault();var m,t,x=0===k.type.indexOf("touch"),p=0===k.type.indexOf("mouse"),l=0===k.type.indexOf("pointer");k=(b=(0===k.type.indexOf("MSPointer")&&(l=!0),x&&(m=k.changedTouches[0].pageX,t=k.changedTouches[0].pageY),n=n||q(),(p||l)&&(m=k.clientX+n.x,t=k.clientY+n.y),k.pageOffset=n,k.points=[m,t],k.cursor=p||l,k),a===S.start&&void 0!==b.buttons&&1<b.buttons?
!1:c.hover&&b.buttons?!1:(b.calcPoint=b.points[r.ort],void h(b,c)))}return k},n=[];return a.split(" ").forEach(function(a){b.addEventListener(a,k,!1);n.push([a,k])}),n}function F(a,b){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===a.buttons&&0!==b.buttonsProperty)return L(a,b);var h,c=b.handles||V,k;k=100*(a.calcPoint-b.start)/b.baseSize;a=c[0]===V[0]?0:1;var n=b.positions,l=k+n[0],n=k+n[1];if(h=1<c.length?(0>l&&(n+=Math.abs(l)),100<n&&(l-=n-100),[Math.max(Math.min(l,100),0),Math.max(Math.min(n,
100),0)]):[l,n],k=I(c[0],h[a],1===c.length),1<c.length){if(I(c[1],h[a?0:1],!1)||k)for(h=0;h<b.handles.length;h++)E("slide",h)}else k&&E("slide",a)}function L(a,b){var h=T.querySelector("."+ca[15]),c=b.handles[0]===V[0]?0:1;null!==h&&m(h,ca[15]);a.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var k=document.documentElement;k.noUiListeners.forEach(function(a){k.removeEventListener(a[0],a[1])});m(la,ca[12]);E("set",c);E("change",c);
void 0!==b.handleNumber&&E("end",b.handleNumber)}function G(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&L(a,b)}function ea(a,b){var h=document.documentElement;if(1===b.handles.length&&(p(b.handles[0].children[0],ca[15]),b.handles[0].hasAttribute("disabled")))return!1;a.preventDefault();a.stopPropagation();var c=H(S.move,h,F,{start:a.calcPoint,baseSize:B(),pageOffset:a.pageOffset,handles:b.handles,handleNumber:b.handleNumber,buttonsProperty:a.buttons,positions:[W[0],
W[V.length-1]]}),k=H(S.end,h,L,{handles:b.handles,handleNumber:b.handleNumber}),n=H("mouseout",h,G,{handles:b.handles,handleNumber:b.handleNumber});if(h.noUiListeners=c.concat(k,n),a.cursor)document.body.style.cursor=getComputedStyle(a.target).cursor,1<V.length&&p(la,ca[12]),a=function(){return!1},document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1);void 0!==b.handleNumber&&E("start",b.handleNumber)}function P(a){var b,h,n=a.calcPoint,l=0;return a.stopPropagation(),V.forEach(function(a){l+=
c(a)[r.style]}),b=l/2>n||1===V.length?0:1,n-=c(T)[r.style],h=100*n/B(),r.events.snap||k(la,ca[14],300),V[b].hasAttribute("disabled")?!1:(I(V[b],h),E("slide",b,!0),E("set",b,!0),E("change",b,!0),void(r.events.snap&&ea(a,{handles:[V[b]]})))}function u(a){a=a.calcPoint-c(T)[r.style];a=M.getStep(100*a/B());var b=M.fromStepping(a);Object.keys(oa).forEach(function(a){"hover"===a.split(".")[0]&&oa[a].forEach(function(a){a.call(Fa,b)})})}function I(a,b,h){var c=a!==V[0]?1:0,k=W[0]+r.margin,n=W[1]-r.margin,
l=W[0]+r.limit,t=W[1]-r.limit;return 1<V.length&&(b=c?Math.max(b,k):Math.min(b,n)),!1!==h&&r.limit&&1<V.length&&(b=c?Math.min(b,l):Math.max(b,t)),b=M.getStep(b),b=Math.max(Math.min(parseFloat(b.toFixed(7)),100),0),b===W[c]?!1:(window.requestAnimationFrame?window.requestAnimationFrame(function(){a.style[r.style]=b+"%"}):a.style[r.style]=b+"%",a.previousSibling||(m(a,ca[17]),50<b&&p(a,ca[17])),W[c]=b,va[c]=M.fromStepping(b),E("update",c),!0)}function N(a){var b;a=l(a);r.dir&&1<r.handles&&a.reverse();
r.animate&&-1!==W[0]&&k(la,ca[14],300);b=1<V.length?3:1;1===a.length&&(b=1);var h,c,n;r.limit&&(b+=1);for(h=0;b>h;h+=1)c=h%2,n=a[c],null!==n&&!1!==n&&("number"==typeof n&&(n=String(n)),n=r.format.from(n),(!1===n||isNaN(n)||!1===I(V[c],M.toStepping(n),h===3-r.dir))&&E("update",c));for(a=0;a<V.length;a++)E("set",a)}function O(){var a,b=[];for(a=0;a<r.handles;a+=1)b[a]=r.format.to(va[a]);return D(b)}function J(a,b){oa[a]=oa[a]||[];oa[a].push(b);"update"===a.split(".")[0]&&V.forEach(function(a,b){E("update",
b)})}var T,V,Fa,la=b,W=[-1,-1],M=r.spectrum,va=[],oa={},ca="target base origin handle horizontal vertical background connect ltr rtl draggable  state-drag  state-tap active  stacking tooltip  pips marker value".split(" ").map(n(r.cssPrefix||Q));if(la.noUiSlider)throw Error("Slider was already initialized.");return T=function(a,b,h){p(h,ca[0]);p(h,ca[8+a]);p(h,ca[4+b]);a=document.createElement("div");return p(a,ca[1]),h.appendChild(a),a}(r.dir,r.ort,la),V=function(a,b,h){var c,k=[];for(c=0;a>c;c+=
1)k.push(h.appendChild(t(b,c)));return k}(r.handles,r.dir,T),function(a,b,h){switch(a){case 1:p(b,ca[7]);p(h[0],ca[6]);break;case 3:p(h[1],ca[6]);case 2:p(h[0],ca[7]);case 0:p(b,ca[6])}}(r.connect,la,V),r.pips&&C(r.pips),r.tooltips&&w(),Fa={destroy:function(){ca.forEach(function(a){a&&m(la,a)});la.innerHTML="";delete la.noUiSlider},steps:function(){var a=W.map(function(a,b){var h=M.getApplicableStep(a),c=String(h[2]).split("."),k=100===a?null:h[2];b=Number((va[b]-h[2]).toFixed(1<c.length?c[1].length:
0));return[0===a?null:b>=h[1]?h[2]:h[0]||!1,k]});return D(a)},on:J,off:function(a){var b=a.split(".")[0],h=a.substring(b.length);Object.keys(oa).forEach(function(a){var c=a.split(".")[0],k=a.substring(c.length);b&&b!==c||h&&h!==k||delete oa[a]})},get:O,set:N,updateOptions:function(a){var b;b=O();var h=Y({start:[0,0],margin:a.margin,limit:a.limit,step:a.step,range:a.range,animate:a.animate,snap:void 0===a.snap?r.snap:a.snap});["margin","limit","step","range","animate"].forEach(function(b){void 0!==
a[b]&&(r[b]=a[b])});M=h.spectrum;W=[-1,-1];N(b);for(b=0;b<V.length;b++)E("update",b)}},function(a){var b,c;if(!a.fixed)for(b=0;b<V.length;b+=1)H(S.start,V[b].children[0],ea,{handles:[V[b]],handleNumber:b});if(a.tap&&H(S.start,T,P,{handles:V}),a.hover)for(H(S.move,T,u,{hover:!0}),b=0;b<V.length;b+=1)["mousemove MSPointerMove pointermove"].forEach(function(a){V[b].children[0].addEventListener(a,h,!1)});a.drag&&(c=[T.querySelector("."+ca[7])],p(c[0],ca[10]),a.fixed&&c.push(V[c[0]===V[0]?1:0].children[0]),
c.forEach(function(a){H(S.start,a,ea,{handles:V})}))}(r.events),Fa}var S=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},Q="noUi-";r.prototype.getMargin=function(a){return 2===this.xPct.length?t(this.xVal,a):!1};r.prototype.toStepping=function(a){var b;var h=this.xVal,c=this.xPct;b=
a;if(b>=h.slice(-1)[0])b=100;else{var k,n,l=y(b,h);k=h[l-1];n=h[l];h=c[l-1];c=c[l];k=[k,n];b=t(k,0>k[0]?b+Math.abs(k[0]):b-k[0]);b=h+b/(100/(c-h))}return a=b,this.direction&&(a=100-a),a};r.prototype.fromStepping=function(a){this.direction&&(a=100-a);var b;var h=this.xVal;b=this.xPct;if(100<=a)b=h.slice(-1)[0];else{var c,k,n=y(a,b);c=h[n-1];k=h[n];h=b[n-1];c=[c,k];b=100/(b[n]-h)*(a-h)*(c[1]-c[0])/100+c[0]}a=Math.pow(10,7);return Number((Math.round(b*a)/a).toFixed(7))};r.prototype.getStep=function(a){this.direction&&
(a=100-a);var b;b=this.xPct;var h=this.xSteps,c=this.snap,k=a;if(100===k)b=k;else{var n,l,r=y(k,b);c?b=(n=b[r-1],l=b[r],k-n>(l-n)/2?l:n):h[r-1]?(n=h[r-1],b=b[r-1]+Math.round((k-b[r-1])/n)*n):b=k}return a=b,this.direction&&(a=100-a),a};r.prototype.getApplicableStep=function(a){var b=y(a,this.xPct);a=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-a],this.xNumSteps[b-a]]};r.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var T={to:function(a){return void 0!==a&&a.toFixed(2)},
from:Number};return{create:function(a,b){if(!a.nodeName)throw Error("noUiSlider.create requires a single element.");b=Y(b,a);var h=V(a,b);return h.set(b.start),a.noUiSlider=h,h}}});
jQuery(document).ready(function(a){function c(b,c){b.each(function(){a(this).offset().top<=a(window).scrollTop()+a(window).height()*c&&a(this).find(".cd-timeline-img").hasClass("is-hidden")&&a(this).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in")})}var b=a(".cd-timeline-block");(function(b,c){b.each(function(){a(this).offset().top>a(window).scrollTop()+a(window).height()*c&&a(this).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden")})})(b,
.8);a(window).on("scroll",function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){c(b,.8)}):setTimeout(function(){c(b,.8)},100)})});
(function(){for(var a=0,c=["ms","moz","webkit","o"],b=0;b<c.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[c[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[b]+"CancelAnimationFrame"]||window[c[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var p=(new Date).getTime(),m=Math.max(0,16-(p-a));c=window.setTimeout(function(){b(p+m)},m);a=p+m;return c});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();
DKI.uri=DKI.apply({},{ComplexValueError:function(){var a=function(a){this.value=a;this.name="ComplexValueError";this.message="Could not encode complex value"};DKI.apply(a.prototype,{toString:function(){return[name,": ",message," ",value].join("")}});return a}(),encode:function(a){var c=[];DKI.iterate(a,function(a,c){if(DKI.isString(c))this.output.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(c));else if(DKI.isDate(c))this.output.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(c.toString()));
else if(DKI.isPrimitive(c))this.output.push(encodeURIComponent(a)+"\x3d"+c.toString());else throw new DKI.uri.ComplexValueError(c);},{output:c});return c.join("\x26")},decode:function(a){var c={};a=a.split("\x26");var b=a.length,k,l;for(k=0;k<b;k+=1)/=/.test(a[k])&&(l=a[k].split("\x3d"),c[l[0]]=l[1]);return c},decodeCurrentLocation:function(){return this.decode(window.location.search.replace(/^\?/,""))}});DKI.func||(DKI.func={});
DKI.func.debounce=function(a,c,b){var k,l=function(){var l=this,m=Array.prototype.slice.call(arguments);k?clearTimeout(k):b&&a.apply(l,m);k=setTimeout(function(){b||a.apply(l,m);k=null},c)};l.clear=function(){k&&clearTimeout(k)};return l};DKI.func.bind=function(a,c){return a.prototype.bind?a.bind(c):function(){a.apply(c,Array.prototype.slice.call(arguments))}};
DKI.func.Queue=function(){var a={},c={buildQueue:function(b){var c=a[b.name];c?b.id&&!~c.ids.indexOf(b.id)&&c.ids.push(b.id):a[b.name]={ids:b.id?[b.id]:[],callback:b.callback?b.callback:function(){}}},dequeue:function(b){var k=a[b.name];if(k){var l=k.ids.indexOf(b.id);~l&&k.ids.splice(l,1);c.checkQueue(b.name)}},checkQueue:function(b){var c=a[b];c&&0==c.ids.length&&(c.callback(),delete a[b])},deleteQueue:function(b){return a[b]?(delete a[b],!0):!1}};return{queue:function(a){c.buildQueue(a)},dequeue:function(a){c.dequeue(a)},
getQueue:function(){return a},deleteQueue:function(a){return c.deleteQueue(a)}}};DKI.func.imageLoader=function(a,c){a.parent().css("position","relative");var b=a.clone(),k=a.outerWidth();a.after(b);a.css({opacity:0,transition:"opacity 1s linear",position:"absolute","z-index":1,width:k});var l=new Image;l.onload=function(){$(l).remove();a.css({"background-image":"url('"+c+"')",opacity:1});setTimeout(function(){b.remove();a.css({position:"",width:""}).parent().css("position","")},1E3)};l.src=c};
DKI.courseStore=function(){var a=null,c={course:"course",module:"module",object:"object",page:"page",question:"question"},b=function(){return{complete:!1,completeCnt:0,nodeType:c.course,id:null,key:null,parentId:null,pageNote:null,transcript:null,childKeys:[],name:""}},k={},l=function(){return k[a]},p=function(a){return void 0===k[a]?null:k[a]};return{load:function(m){var q=m.testonly,h=c.course+m.courseid,n,t,y;k[h]=DKI.applyIf(DKI.apply({nodeType:c.course,key:h,parentId:h},m),new b);delete k[h].modules;
a=h;var x=function(a,b){if("placeholder"!=a.elementtype){if(""==a.title){if("htm"==a.elementtype||"table"==a.elementtype||"tab"==a.elementtype)a.title=a.meta;""==a.title&&(a.title="Untitled "+a.elementtype+" Element")}$(document).trigger(this.events.elementRegistered,[a,b]);for(var h=0;h<a.elements.length;h++)x.call(this,a.elements[h],b)}},z=function(a){for(var b=0;b<a.groups.length;b++){var h=a.groups[b];$(document).trigger(this.events.groupRegistered,[h]);for(var c=0;c<h.elements.length;c++)x.call(this,
h.elements[c],!0)}};for(n=0;n<m.modules.length;n++){var r=m.modules[n],C=c.module+r.loid;k[C]=DKI.applyIf(DKI.apply({nodeType:c.module,key:C,parentId:h,questionKeys:[]},r),new b);delete k[C].objects;k[h].childKeys.push(C);$(document).trigger(this.events.moduleRegistered,[r]);for(t=0;t<r.objects.length;t++){var A=r.objects[t],w=A.subeos,B=c.object+A.objectid;k[B]=DKI.applyIf(DKI.apply({nodeType:c.object,key:B,parentId:C},A),new b);delete k[B].pages;k[C].childKeys.push(B);$(document).trigger(this.events.loRegistered,
[A]);for(y=0;y<w.length;y++){var E=w[y],D=c.page+E.page.pageid;k[D]=DKI.applyIf(DKI.apply({nodeType:c.page,key:D,parentId:B,moduleKey:C},E),new b);k[B].childKeys.push(D);$(document).trigger(this.events.pageRegistered,[E.page]);for(D=0;D<E.page.groups.length;D++){var F=E.page.groups[D];$(document).trigger(this.events.groupRegistered,[F]);for(var H=0;H<F.elements.length;H++){var G=F.elements[H];x.call(this,G,E.subeoid?!1:!0)}}}if(0<A.subeos.length||q)for(y=0;y<A.questions.length;y++)w=A.questions[y],
D=c.question+w.id,k[D]=DKI.applyIf(DKI.apply({nodeType:c.question,key:D,parentId:B,pageId:w.pageid,transcript:""},w),new b),$(document).trigger(this.events.questionRegistered,[D]),k[C].questionKeys.push(D),k[B].childKeys.push(D);for(y=0;y<A.questions.length;y++)for(w=A.questions[y],D=c.question+w.id,D=0;D<w.page.groups.length;D++)for(F=w.page.groups[D],$(document).trigger(this.events.groupRegistered,[F]),H=0;H<F.elements.length;H++){G=F.elements[H];B=w.subeoid?!1:!0;if(""==G.title){if("htm"==G.elementtype||
"table"==G.elementtype)G.title=G.meta;""==G.title&&(G.title="Untitled "+G.elementtype+" Element")}$(document).trigger(this.events.elementRegistered,[G,B])}}}m.header_primary_page&&z.call(this,m.header_primary_page);m.footer_primary_page&&z.call(this,m.footer_primary_page);m.header_secondary_page&&z.call(this,m.header_secondary_page);m.footer_secondary_page&&z.call(this,m.footer_secondary_page);for(n=0;n<m.resourcePages.length;n++)z.call(this,m.resourcePages[n]);$(document).trigger(this.events.courseRegistered,
[m]);$(player.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(a,b){p(c.page+b).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(a,b){p(c.object+b).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(a,b){p(c.module+b).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.courseCompleted,function(a){l().complete=!0});return!0},NodeType:c,get:p,set:function(a){k[a.key]=a;return k[a.key]},course:{get:l,set:function(b){k[a]=
b;return null}},module:{all:function(){var b=[],c;for(c in k[a].childKeys)b.push(k[k[a].childKeys[c]]);return b},get:function(a){return k[a].nodeType==c.module?k[a]:null},set:function(a){k[a.key]=a;return null}},object:{all:function(){var b=[],c;for(c in k[a].childKeys)for(var h in k[k[a].childKeys[c]].childKeys)b.push(k[k[k[a].childKeys[c]].childKeys[h]]);return b},get:function(a){return(a=k[a])&&a.nodeType==c.object?a:null},getForPage:function(b){for(var c in k[a].childKeys){var h=k[k[a].childKeys[c]],
n;for(n in h.childKeys){var l=k[h.childKeys[n]],p;for(p in l.childKeys)if(l.childKeys[p]==b)return l}}return null},set:function(a){k[a.key]=a;return null}},page:{all:function(){var b=[],c;for(c in k[a].childKeys){var h=k[k[a].childKeys[c]],n;for(n in h.childKeys){var l=k[h.childKeys[n]],p;for(p in l.childKeys)b.push(k[l.childKeys[p]])}}return b},get:function(a){return k[a].nodeType==c.page?k[a]:null},set:function(a){k[a.key]=a;return null}},store:k,events:{courseRegistered:"courseRegistered",moduleRegistered:"moduleRegistered",
loRegistered:"loRegistered",pageRegistered:"pageRegistered",elementRegistered:"elementRegistered",groupRegistered:"groupRegistered",questionRegistered:"questionRegistered"}}}();DKI||(DKI={});
DKI.ContentPage=function(){var a,c=$("#contentFrame");c.css("overflow-y");var b=/http:\/\/|https:\/\//i.test(window.location.href),k=function(){var h=!1,n=!1,l=!1,m=function(a,b,h,c){var k=[];c.data("bookmarks")&&(k=JSON.parse(unescape(c.data("bookmarks"))));var n='\x3cdiv id\x3d"'+a+'_container" class\x3d"jp-video" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d"'+a+'_player" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play" tabindex\x3d\'-1\'\x3e\x3ca class\x3d"jp-video-play-icon" title\x3d"play"\x3e\x3c/a\x3e\x3c/div\x3e';
h&&(n+='\x3cdiv class\x3d"playHeadBlocker"\x3e\x3c/div\x3e');n+='\x3cdiv class\x3d"jp-gui"\x3e';b||(n+='\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-controls '+(c.data("allowfullscreen")?"allowFs":"")+'"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',
""!=c.data("transcript")&&(n+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),n+='\x3cspan class\x3d"jp-time" tabindex\x3d\'1\' \x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan class\x3d"jp-cc"\x3e\x3ca tabindex\x3d\'1\' role\x3d"button" aria-label\x3d\'closed caption\'\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e',
0<k.length&&(n+='\x3cspan class\x3d"jp-bm"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-bookmark" role\x3d"button"\x3ebookmarks\x3c/a\x3e\x3c/span\x3e'),c.data("allowFullScreen")&&(n+='\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-full-screen" role\x3d"button"\x3efull screen\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/span\x3e'),n+='\x3c/div\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
0<k.length&&(n+='\x3cdiv class\x3d"bookmark-wrapper"\x3e',n+='\x3ci class\x3d"bookmark-close fa fa-times" tabindex\x3d"1" aria-label\x3d"'+DKI.strings.runtime.buttonLabelClose+'"\x3e\x3c/i\x3e',$.each(k,function(){n+='\x3cdiv tabindex\x3d"1" class\x3d"bookmark-item" data-time\x3d"'+this.time+'"\x3e'+this.label+"\x3c/div\x3e"}),n+="\x3c/div\x3e"),n+="\x3c/div\x3e");return n+="\x3c/div\x3e"},x=function(a,b,h,c){a='\x3cdiv id\x3d"'+a+'" class\x3d"jp-'+b;h&&(a+=" hideControls");a+='" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e';
"basic"!==b&&(a+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',""!=c.data("transcript")&&(a+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),a+='\x3cspan class\x3d"jp-time jp-fs" tabindex\x3d\'1\'\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e');
return a+'\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eNo workee\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'},q=function(a){a.mediaCount===a.readyMediaCount&&a.fireReady()},r=function(b,c,n){$(c.pageContainer).css("top","0");b.each(function(){var b=$(this).data("extension").toLowerCase(),r=c.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),m={},y,A=$(this).closest(".dki-authoring-element, .dki-authoring-element-element"),
C=!$(this).data("controls"),I=$(this).data("autoplay");y=$(this).data("playerskin")?"basic":"audio";var N=A.data("renderhidden"),O=function(a){var b=$(this);if(a.jPlayer.flash.used)$(c.pageContainer).on(DKI.ContentPage.events.reset,function(a){b.on($.jPlayer.event.flashreset,function(a){b.jPlayer("pause",0);c.isMuted&&b.jPlayer("mute");b.trigger($.jPlayer.event.ready);b.unbind(a)})});b.jPlayer("setMedia",m);var h=this.parentNode;$(".jp-seek-bar, .jp-play-bar",h).on("mousedown",function(a){b.jPlayer("pause");
$(".jp-gui",h).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",h).on("mousemove",function(a){var c=$(".jp-seek-bar",h).offset().left,k=$(".jp-seek-bar",h).outerWidth();a.clientX+c<=k+2*c&&($(".jp-play-bar",h).css("width",(a.clientX-c)/(k/100)+"%"),b.jPlayer("playHead",(a.clientX-c)/(k/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",h).on("mouseup",function(a){b.jPlayer("play");$(this).off("mouseup");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",h).off("mousemove");
setTimeout(function(){$(".jp-gui",h).removeClass("forceShow")},700)})});$(".jp-transcript",h).on(c.settings.clickEvent,function(){contentApi.showPopup({html:r.asset_transcript,modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});c.isMuted&&b.jPlayer("mute");c.readyMediaCount+=1;q(c);b.unbind(a)};"mp4"==b.toLowerCase()?b="m4a":"ogg"==b.toLowerCase()&&(b="oga");m[b]=k.resolveMediaURL(c,$(this).data("src"));h||l?(y=x(this.id+"_controls",
y,C,A),$(this).after(y),$(this).jPlayer({swfPath:settings.swfPath,cssSelectorAncestor:"#"+this.id+"_controls",ready:O,supplied:b,loop:!1,solution:n,preload:"auto",autohide:{restored:"true"===$(this).data("controls")?!0:!1},muted:a.getAudioStatus()?!1:!0,volume:1,size:{width:0,height:0}}),$(this).data("renderhidden",N)):(b=$(".dki-media-link",this),b.parent().hasClass("dki-audio-basic")&&(b.parent().removeClass("dki-audio-basic"),b.addClass("dki-audio-basic")),c.readyMediaCount+=1,q(c));c.mediaPlayers[this.id]=
$(this);p.registerMediaPlayer($(this),A,c);I&&($(this).isInViewport()||1==r.narration)&&c.autoPlayMedia.push($(this));A.data("mediaPlayer",$(this));$(".dki-element-anchor",A).attr("aria-label");C||A.data("transcript")});$(c.pageContainer).css("top","")},C=function(h,r,x){var C;C=n||l&&b?function(b,h,n){b=$(this).closest(".dki-authoring-element, .dki-authoring-element-element");var l=r.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),t=$(this).data("extension").toLowerCase(),
x=$(this).closest(".dki-video-content-element"),A={},C=!$(this).data("controls"),B=l.parameters.config.hidePlayHead;h=$(this).data("autoplay");var E=b.data("renderhidden"),V=$(this).data("allowfullscreen");"mediastream"==b.data("elementtype")&&(0==$(this).data("src").indexOf("rtmp")?t="rtmpv":(t=$(this).data("src").split("."),t=t[t.length-1]));""!=$(this).data("vimeo-id")&&settings.useStreamingVideo&&$(this).data("src",$(this).data("vimeo-src"));if("mp4"==t.toLowerCase()||"mov"==t.toLowerCase())t=
"m4v";A[t]=k.resolveMediaURL(r,$(this).data("src"));$(this).data("poster")&&(A.poster=$(this).data("poster"));B=m(this.id,C,B,b);$(this).html(B);B=$("#"+this.id+"_player",this);V||$(this).addClass("no-fullscreen");var S={height:"100%"};dkiUA.ie&&(S.height=c.css("height"));$(this).data("allowupscale")||$(this).css({"max-height":$(this).data("height")+"px","max-width":$(this).data("width")+"px"});n={media:A,options:{swfPath:settings.swfPath,cssSelectorAncestor:"#"+this.id+"_container",ready:function(a){var b=
$(this);V||($(this).data().jPlayer.status.noFullScreen=!0);if(a.jPlayer.flash.used)$(r.pageContainer).on(DKI.ContentPage.events.reset,function(a){b.on($.jPlayer.event.flashreset,function(a){b.jPlayer("pause",0);r.isMuted&&b.jPlayer("mute");b.trigger($.jPlayer.event.ready);b.unbind(a)})});x.on("mouseleave",function(a){$(this).find(".bookmark-wrapper").fadeOut()});x.on(r.settings.clickEvent,".bookmark-item",function(){b.jPlayer("play",$(this).data("time")/1E3)});$(this).find("video").attr("webkit-playsinline",
"");$(this).find("video").attr("playsinline","");C&&$(this).find("video")[0].removeAttribute("controls");$(this).bind($.jPlayer.event.pause,function(a){$(".jp-video-play",this.parentNode).css("display","")});$(this).bind($.jPlayer.event.play,function(a){$(".jp-video-play",this.parentNode).css("display","none")});$(this).bind($.jPlayer.event.click,function(a){a.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});var h=this.parentNode;$(".jp-seek-bar, .jp-play-bar",h).on("mousedown",
function(a){b.jPlayer("pause");$(".jp-gui",h).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",h).on("mousemove",function(a){var c=$(".jp-seek-bar",h).offset().left,k=$(".jp-seek-bar",h).outerWidth();a.clientX+c<=k+2*c&&($(".jp-play-bar",h).css("width",(a.clientX-c)/(k/100)+"%"),b.jPlayer("playHead",(a.clientX-c)/(k/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",h).on("mouseup",function(a){b.jPlayer("play");$(this).off("mouseup");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",
h).off("mousemove");setTimeout(function(){$(".jp-gui",h).removeClass("forceShow")},700)})});$(".jp-transcript",h).on(r.settings.clickEvent,function(){contentApi.showPopup({html:l.asset_transcript,modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});$(".jp-cc",h).on(r.settings.clickEvent,function(){b.closest(".jp-video").toggleClass("showCC")});$(".jp-bm",h).on(r.settings.clickEvent,function(){var a=b.closest(".jp-video").find(".bookmark-wrapper");
a.is(":visible")?(a.fadeOut(),$(".jp-bm .jp-bookmark",h).get(0).focus()):a.fadeIn().find(".bookmark-item").get(0).focus()});$(".bookmark-close",h).on(r.settings.clickEvent,function(){b.closest(".jp-video").find(".bookmark-wrapper").fadeOut();$(".jp-bm .jp-bookmark",h).get(0).focus()});r.isMuted&&b.jPlayer("mute");r.readyMediaCount+=1;q(r);$(this).unbind(a);$(this).parent().append($(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-elements-wrapper").first().css("z-index",
2147483647).detach())},resize:function(a){a=$(this);a.closest(".jp-video").fullScreen(a.jPlayer("option","fullScreen"));a.closest(".dki-element-content").find(".subClass");a.jPlayer("option","fullScreen")?(a.closest(".dki-element-content").css("max-width","").css("max-height",""),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display","none")):(a.closest(".dki-element-content").data("allowupscale")||(a.closest(".dki-element-content").css("max-width",
a.closest(".dki-element-content").data("assetWidth")),a.closest(".dki-element-content").css("max-height",a.closest(".dki-element-content").data("assetHeight"))),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display","block"));dkiUA.isIE()&&($("html")[a.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen"),a.closest(".dki-authoring-element")[a.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen-element"));
r.scaleElementChildren(r.getClaroElementById(a.closest(".dki-authoring-element").data("id")))},supplied:t,loop:!1,solution:n,preload:"auto",backgroundColor:"transparent",wmode:"transparent",nativeVideoControls:settings.nativeVideoControls,size:{width:"100%",height:"100%"},sizeFull:S,autohide:{restored:!1,full:!1},muted:a.getAudioStatus()?!1:!0,volume:1,noFullScreen:{}}};var Q;if("undefined"!==typeof dataStorage)Q=dataStorage.store.assets[l.upload_id];else if(window.player.isSinglePage&&DKI.isArray(DKI.assets))for(A=
0;A<DKI.assets.length;A++)if(DKI.assets[A].id.toUpperCase()==l.upload_id.toUpperCase()){Q=DKI.assets[A];break}Q&&Q.closed_caption&&"vtt"===Q.closed_caption.type.toLowerCase()&&dkiUA.iOS&&(n.media.track=[{src:k.resolveSubURL(r,Q).replace(".txt",".vtt"),srclang:settings.course.courseLanguage,kind:"captions",def:l.parameters.config.closedCaptionOn}]);n=Popcorn.jplayer(B[0],n);if(Q&&Q.closed_caption&&!dkiUA.iOS){Q=k.resolveSubURL(r,Q);var A="parse"+l.closed_caption.toUpperCase(),T=B.closest(".jp-video");
if(n[A]&&(n[A](Q),dkiUA.mobile)){var R=null;T.addClass("controls");uiTimeout=function(a){a="undefined"===typeof a?2500:a;R&&window.clearTimeout(R);R=setTimeout(function(){T.removeClass("controls")},a)};T.on("click",function(){$(this).addClass("controls");uiTimeout(0)});B.bind($.jPlayer.event.pause,function(a){T.addClass("controls");window.clearTimeout(R)});B.bind($.jPlayer.event.play,function(a){uiTimeout(350)})}T.addClass("cc");l.parameters.config.closedCaptionOn&&T.addClass("showCC")}B.data("renderhidden",
E);(E=B.data("jPlayer"))&&E.status&&E.status.nativeVideoControls&&!C&&$(".jp-video-play",this).detach();r.mediaPlayers[this.id]=B;p.registerMediaPlayer(B,b,r);h&&$(this).isInViewport()&&r.autoPlayMedia.push(B);B.bind($.jPlayer.event.ended,function(a){$(".jp-restore-screen",$(this).parents(".dki-authoring-element")).click()});b.data("mediaPlayer",B);$(".dki-element-anchor",b).attr("aria-label");C||(b.data("transcript"),b.data("allowfullscreen"))}:function(){var a=$(".dki-media-link",this);a.prop("href",
$(this).data("src"));r.readyMediaCount+=1;q(r);return a};h.each(function(a,b){C.call(this,a,b,x)})},h=function(){var a=document.createElement("audio");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&4>dkiUA.androidVersion&&!b||dkiUA.webOS?!1:a.canPlayType&&""!=a.canPlayType("audio/mpeg")?!0:!1}(),n=function(){var a=document.createElement("video");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&4>dkiUA.androidVersion&&!b?!1:a.canPlayType&&""!=a.canPlayType("video/mp4")?
!0:!1}(),l=swfobject.hasFlashPlayerVersion("10.1.0");return{handleMedia:function(a){var b=$(".dki-video-content-element",a.pageContainer),h=$(".dki-audio-element .dki-element-content",a.pageContainer),c="html, flash";dkiUA.isIE()&&11>dkiUA.ieVersion&&(c="flash");a.mediaCount=b.length+h.length;a.readyMediaCount=0;C(b,a,c);r(h,a,c);0===a.mediaCount&&a.fireReady()},resolveMediaURL:function(a,b){var h=/^rtmp:\/\/|^\//;/^https?:\/\/|^\//.test(b)||h.test(b)||(b=a.rootURL+b);return b},resolveSubURL:function(a,
b){a=DKI.renderService.state.baseUrl;a+=DKI.renderService.state.renderEnvironment.export?"assets/captions/":"/content/authoringtooldb/captions/";a+=b.id;b.closed_caption.culture_code&&"default"!=b.closed_caption.culture_code&&(a+="_"+b.closed_caption.culture_code);return a+".txt"},play:function(a,b,h){var c;"string"===typeof a&&(a=b.mediaPlayers[a]);c=function(c){b.started&&("undefined"!==typeof h?a.jPlayer("play",h):a.jPlayer("play"),a.unbind(c))};a.hasClass("dki-videoplaylist")?($(a).VideoPlaylist("selectFirst"),
$(a).on("play",c)):("undefined"!==typeof h?a.jPlayer("play",h):a.jPlayer("play"),$(a).bind($.jPlayer.event.ready,c),$(a).bind($.jPlayer.event.flashreset,c))},pause:function(a,b){"string"===typeof a&&(a=b.mediaPlayers[a]);a.jPlayer("pause")},canAutoplay:function(){return dkiUA.iOS||dkiUA.android||dkiUA.chrome?!1:!0},handleVideo:C,handleAudio:r}}(),l={setAudio:function(a,b){b.isMuted=!a;var c;if(!0===a)for(c in b.mediaPlayers)b.mediaPlayers[c].jPlayer("unmute");else for(c in b.mediaPlayers)b.mediaPlayers[c].jPlayer("mute")},
pauseAll:function(a){var b;a.autoPaused=[];for(b in a.mediaPlayers){var c=b.replace("content_","");1==$("#"+c+"_wrapper").data("dontpause")||this.isPaused(a.mediaPlayers[b])||(a.mediaPlayers[b].jPlayer("pause"),a.autoPaused.push(b))}},resumeAll:function(a){var b;a.autoPaused||(a.autoPaused=[]);for(var c=0;c<a.autoPaused.length;c+=1)b=a.autoPaused[c],a.mediaPlayers[b].jPlayer("play");a.autoPaused=[]},startAutoPlay:function(a){for(var b=a.autoPlayMedia.length,c=0;c<b;c+=1)(!a.autoPlayMedia[c].data("renderhidden")&&
$(a.autoPlayMedia[c]).isInViewport()&&a.autoPlayMedia[c].closest(".dki-authoring-element").is(":visible")||1==a.autoPlayMedia[c].data("narration"))&&k.play(a.autoPlayMedia[c],a)},stopAll:function(a){var b;a=a.mediaPlayers;for(b in a)a[b].data(),a.hasOwnProperty(b)&&(a[b].jPlayer("option","fullScreen",!1),a[b].data().jPlayer.status.paused||a[b].jPlayer("pause",0))},isPaused:function(a){return a.data().jPlayer.status.paused}},p={init:function(a,b,c){b.actions=a;$(b.pageContainer).undelegate();this.clearPageTimeouts(b);
this.initElementsViewedActions(b);var k=this,l=$(".dki-authoring-element",b.pageContainer),m=dkiUA.android||dkiUA.iOS?"click":c;$(b.pageContainer).delegate(".dki-authoring-element label","click",function(a){a.stopPropagation();if($(this).closest(".dki-authoring-element").hasClass("dki-radioGroup-element"))return!1});$(b.pageContainer).delegate(".dki-element-content, .dki-element-anchor:not(.dki-btn-element\x3e.dki-element-anchor), .dki-radioGroup-element label, .dki-image-element figcaption, .svgMask",
m,function(a,h){var l=null;if("LABEL"==this.nodeName.toUpperCase()){if($(this).data("ignoreClick")){$(this).data("ignoreClick",!1);return}if(h)return;l=$(this).find(".dki-authoring-element,.dki-authoring-element-element")}else{var l=$(this).closest(".dki-authoring-element,.dki-authoring-element-element"),r=l.closest("label");r&&(r.data("ignoreClick",!0),setTimeout(function(){r.data("ignoreClick",!1)},1))}var m=$(this).closest(".dki-slider-element");if(m.length){if(m.data("ignoreClick"))return;m.data("ignoreClick",
!0);setTimeout(function(){m.data("ignoreClick",!1)},1)}k.onMouseEvent.call(k,"click",l,b);"zoomRegion"===$(this).data("type")&&11>dkiUA.ieVersion&&dkiUA.isIE()&&($(this).hide().find("*").hide(),l=$(document.elementFromPoint(a.clientX,a.clientY)).closest(".dki-authoring-element"),$(this).show().find("*").show(),l[0]&&l.trigger(c))});$(b.pageContainer).delegate(".dki-slider-element .dki-element-content","tap",function(a){$(this).trigger("click")});$(b.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link",
c,function(a){k.onTextActionLinkEvent.call(k,"click",this,b)});$(b.pageContainer).delegate(".dki-element-content, .dki-element-anchor","contextmenu",function(a){a=$(this).closest(".dki-authoring-element,.dki-authoring-element-element");if(0<k.onMouseEvent.call(k,"rightClick",a,b).length)return!1});$(b.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","contextmenu",function(a){if(0<k.onTextActionLinkEvent.call(k,"rightClick",this,b).length)return!1});$(b.pageContainer).delegate(".dki-tabset-element .tabbable li\x3ea:not(.disabled), .dki-tabset-element .tabbable .panel-heading:not(.disabled) .panel-title\x3ea",
"click",function(a){if(a.target==this)$(this).find(".dki-element-content").trigger("click");else{k.onContentChangedEvent.call(k,this,b);var h=b.getClaroElementById($(this).closest(".dki-authoring-element").data("id"));a=$(this).closest(".tabbable");var c=$(this).data("idx"),l=c+"_"+h.id,r=$("#"+("tabContent_"+c+"_"+h.id));setTimeout(function(){$(".dki-contentCarousel-element",r).each(function(){$(this).find(".flickity").flickity("resize")});b.reCalculateMediaControls()},250);h.parameters.config.sequential&&
(l="tabContent_"+(c+1)+"_"+h.id,h=a.find("a[href\x3d'#"+l+"']"),a=a.find("a[href\x3d'#collapse-"+l+"']"),h.attr("data-toggle","tab").removeClass("disabled"),a.attr("data-toggle","collapse").closest(".panel-heading").removeClass("disabled"))}});$(b.pageContainer).on(settings.clickEvent,".dki-btn-element .dki-element-content.toggleable",function(a){$(this).toggleClass("active")});$(b.pageContainer).on(settings.clickEvent,".dki-btn-element .dki-element-content.stay-toggled",function(a){$(this).addClass("active")});
$(b.pageContainer).delegate(".dki-contentCarousel-element .side-control",settings.clickEvent,function(a){a=$(this).siblings(".owl-carousel");var b=$(this).hasClass("prev")?"prev":"next",h=a.data("owl.carousel");$(this).hasClass("topBottom")?(h.settings.animateIn="prev"==b?a.data("animate-in").replace("Up","Down").replace("Right","Left"):a.data("animate-in").replace("Down","Up").replace("Left","Right"),h.settings.animateOut="prev"==b?a.data("animate-out").replace("Up","Down").replace("Right","Left"):
a.data("animate-out").replace("Down","Up").replace("Left","Right")):(h.settings.animateIn="prev"==b?a.data("animate-in").replace("Right","Left").replace("Up","Down"):a.data("animate-in").replace("Left","Right").replace("Down","Up"),h.settings.animateOut="prev"==b?a.data("animate-out").replace("Right","Left").replace("Up","Down"):a.data("animate-out").replace("Left","Right").replace("Down","Up"));a.trigger(b+".owl.carousel");return!1});var m=function(a){k.onMouseEvent.call(k,a.type,this,b)},r=function(a){var h=
$(this).closest(".dki-authoring-element,.dki-authoring-element-element");k.onMouseEvent.call(k,a.type,h,b)};$(b.pageContainer).delegate(".dki-element-content, .dki-element-anchor","dblclick",r);$(b.pageContainer).delegate(".dki-element-content","mouseenter",r);$(b.pageContainer).delegate(".dki-element-content","mouseleave",r);l.on(DKI.ContentPage.events.elementDragStarted,m);l.on(DKI.ContentPage.events.elementDragStopped,m);l.on(DKI.ContentPage.events.elementDragDropped,m);l.on(DKI.ContentPage.events.elementDragReverted,
m);l.on(DKI.ContentPage.events.elementDropDropped,m);l.on(DKI.ContentPage.events.elementDropOut,m);l.on(DKI.ContentPage.events.elementDropOver,m);l.on(DKI.ContentPage.events.shown,function(){k.onDisplayEvent.call(k,"show",this,b)});l.on(DKI.ContentPage.events.hidden,function(){k.onDisplayEvent.call(k,"hide",this,b)});l=function(a){k.onTextActionLinkEvent.call(k,a.type,this,b)};$(b.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","dblclick",l);$(b.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link",
"mouseenter",l);$(b.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","mouseleave",l);this.setupDragDrop(b);this.setupLinkedElements(a,b.pageContainer,c);this.setupRollovers(b.pageContainer);b.mediaTimeUpdates={};this.checkBreakPointThreshold("breakpoint",b);this.checkDeviceAdaptation("device",b);return this},initElementsViewedActions:function(a){var b=this;a.queue.queue({name:"elementsViewed",callback:$.proxy(function(){b.onPageEvent("contentViewed",a)},this)});var c=$(".dki-authoring-element:not(.dki-placeholder-element)",
a.pageContainer);c.each(function(){a.queue.queue({name:"elementsViewed",id:$(this).data("id")})});c.on("contentViewed",function(){$(this).is(":visible")&&a.queue.dequeue({name:"elementsViewed",id:$(this).data("id")})})},start:function(a){for(var b=this,c={},k=0;k<a.actions.length;k++)if(a.actions[k].pageId&&"time"==a.actions[k].trigger&&this.startPageTimer(a.actions[k],a),"variableSet"==a.actions[k].trigger){var l=a.actions[k].parameters.trigger.variable.name;if(l&&!c[l]){var m=contentApi.getData(l);
c[l]={name:l,oldValue:m,newValue:m}}}for(var r in c)b.onDataSetEvent.call(b,{name:c[r].name,oldValue:c[r].oldValue,newValue:c[r].newValue},a);var p=function(c,k){b.onDataSetEvent.call(b,k,a)};$(document).on(contentApi.events.dataSet,p);$(a.pageContainer).on(DKI.ContentPage.events.reset,function(){$(document).off(contentApi.events.dataSet,p)});$(".dki-inline-variable",a.pageContainer).each(function(){var a=$(this);a.text(contentApi.getData(a.data("variable-id")))});a.wayPoints=a.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",
a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(b){if(a.started){var c=a.mediaPlayers[this.element.id];"down"==b?c.jPlayer("pause"):c.closest(".dki-authoring-element").is(":visible")&&c.jPlayer("play")}},offset:function(){return $(this.element).height()>$(window).height()-$("#contentFrame").offset().top?$(window).height()-$(this.element).height()-$("#contentFrame").offset().top-10:$("#contentFrame").offset().top}})));a.wayPoints=a.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",
a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(b){if(a.started){var c=a.mediaPlayers[this.element.id];"down"==b?c.closest(".dki-authoring-element").is(":visible")&&c.jPlayer("play"):c.jPlayer("pause")}},offset:"bottom-in-view"})));a.wayPoints=a.wayPoints.concat($(".dki-sticky-group",a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(a){if("down"==a){var b=this,h=$(b.element);b.disable();h.css({position:"fixed",left:h.offset().left,
top:$("#contentFrame").offset().top,width:h.outerWidth(!0)});h.parent().waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(a){"up"==a&&(h.css({position:"",left:"",top:"",width:""}),setTimeout(function(){b.enable()},5),this.destroy())},offset:$("#contentFrame").offset().top}))}},offset:$("#contentFrame").offset().top})));a.wayPoints=a.wayPoints.concat($(".dki-authoring-section.dki-bg-attach-fixed .dki-authoring-section-background",a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(a){$(this.element).parent().toggleClass("top-in-view")},offset:"100%"})));a.wayPoints=a.wayPoints.concat($(".dki-authoring-section",a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(a){var b=$(this.element);b.toggleClass("bottom-in-view");$(".dki-sticky-group",this.element).each(function(){var h=$(this);if("down"==a){var c=h.position().left-h.parent().css("margin-left").split("px")[0]-h.parent().position().left,k=b.height()-$(window).height();
h.css({position:"absolute",top:k,left:c})}else h.css({position:"fixed",left:h.offset().left,top:$("#contentFrame").offset().top,width:h.outerWidth(!0)})});$(".dki-authoring-element",b).each(function(){(!settings.elementTypeConfig[$(this).data("elementtype")].navigateSubContent||"image"==$(this).data("elementtype")&&0==$(this).find(".dki-marker-element").length)&&$(this).trigger("contentViewed");!$(this).data("viewed")&&$(this).is(":visible")&&$(this.element).data("viewed",!0)});$(document).trigger(DKI.ContentPage.events.sectionBottomInView,
$(".dki-authoring-group",b).first().data("id"))},offset:function(){return this.context.innerHeight()-this.adapter.outerHeight()+10}})));$.each(a.actions,function(){var c=this;"listShowNext"==c.type&&($.each(c.targetElements,function(){$("#"+this+"_wrapper").addClass("isShowNextTarget").removeClass("hiddenUntilInView hiddenOnLoad hidden")}),b.actionHandlers.listReset(c,a));if("scrolled_to_top"==c.trigger||"scrolled_mid"==c.trigger||"inview"==c.trigger){var k="100%";"scrolled_to_top"==c.trigger?k=$("#contentFrame").offset().top:
"scrolled_mid"==c.trigger&&(k="50%");setTimeout(function(){if(c.pageId){var l=b.actionHandlers.getTargetSelector(c);a.wayPoints=a.wayPoints.concat($(l,a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(k){b.onScrollEvent.call(b,this,k,a,c.trigger)},offset:k})))}else a.wayPoints=c.textLinkId?a.wayPoints.concat($("#"+c.elementId+"_wrapper .dki-text-action-link[data-textlinkid\x3d'"+c.textLinkId+"']",a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(k){b.onTextLinkScrollEvent.call(b,this,k,a,c.trigger)},offset:k}))):a.wayPoints.concat($("#"+c.elementId+"_wrapper",a.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(k){b.onElementScrollEvent.call(b,this,k,a,c.trigger)},offset:k})))},250)}})},setupDragDrop:function(a){$(".dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",a.pageContainer).each(function(){var a=$(this),b=!1;a.data("draggable-constrain-x")?b="x":
a.data("draggable-constrain-y")&&(b="y");b={revert:function(a){$(this).data("draggable").originalPosition={top:$(this).data("y"),left:$(this).data("x")};if(a)$(this).trigger(DKI.ContentPage.events.elementDragDropped);else if($(this).data("draggable-revert"))return $(this).data("reverted",!0),$(this).trigger(DKI.ContentPage.events.elementDragReverted),!0},start:function(a,b){$(this).parent().css("position","static");$(this).data("reverted",!1);$(this).data("initialPageYOffset",document.documentElement.scrollTop);
$(this).trigger(DKI.ContentPage.events.elementDragStarted);$(document).trigger(DKI.Events.TestQuestion.dragStarted)},drag:function(a,b){a=$(this).data("initialPageYOffset");b.position.top+=a;DKI.utility.dragFix(b)},stop:function(a,b){$(this).data("draggable-bring-to-front")&&($(this).data("reverted")?$(this).css("z-index",$(this).data("elementno")):$(this).css("z-index",1E5));$(this).trigger(DKI.ContentPage.events.elementDragStopped);$(document).trigger(DKI.Events.TestQuestion.dragStopped)},disabled:!1,
containment:"#contentFrame",axis:b};a.data("draggable-bring-to-front")&&(b.zIndex=1E5,b.stack=".dkiContentFrame.current .dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]");a.draggable(b)});$(".dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]",a.pageContainer).droppable({accept:".dkiContentFrame.current .dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",tolerance:"pointer",drop:function(a,b){if($(this).data("droppable-snap-to-center")){var h=
$(this).position();a=h.top+$(this).height()/2-b.draggable.height()/2;h=h.left+$(this).width()/2-b.draggable.width()/2;if(settings.responsive){h=$(this).offset();h.left+=$(this).width()/2;h.top+=$(this).height()/2;var c=b.draggable.offset();c.left+=b.draggable.width()/2;c.top+=b.draggable.height()/2;a=b.position.top+(h.top-c.top);h=b.position.left+(h.left-c.left)}b.draggable.animate({top:a+"px",left:h+"px"},125);position={top:a,left:h}}$(this).trigger(DKI.ContentPage.events.elementDropDropped)},out:function(a,
b){$(this).trigger(DKI.ContentPage.events.elementDropOut)},over:function(a,b){$(this).trigger(DKI.ContentPage.events.elementDropOver)},disabled:!1})},registerMediaPlayer:function(a,b,c){var l=this;$(a).bind($.jPlayer.event.play,function(a){var b=this.id.replace("content_","").replace("_player",""),h;for(h in c.mediaPlayers){var k=h.replace("content_","");k!=b&&1!=$("#"+k+"_wrapper").data("dontpause")&&c.mediaPlayers[h].jPlayer("pause")}$("#content_"+b,c.pageContainer).find(".jp-video-play").removeClass("hidden");
$("#content_"+b,c.pageContainer).find(".playHeadBlocker").remove();$(this).parent().find(".jp-controls .jp-pause")[0]&&$(this).parent().find(".jp-controls .jp-pause")[0].focus({preventScroll:!0});l.onMediaPlay(b,c);h=$(this).data("loopingPlay");a=1E3*a.jPlayer.status.currentTime;600>a?($(document).trigger(DKI.ContentPage.events.media.started,[{pageContext:c,elementId:b,looping:h}]),l.onMediaStart(b,c),l.undoMediaActions.call(l,b,-2E3,c)):($(document).trigger(DKI.ContentPage.events.media.played,[{pageContext:c,
elementId:b,looping:h}]),l.undoMediaActions.call(l,b,a,c));$(this).data("loopingPlay",!1)});$(a).bind($.jPlayer.event.pause,function(a){var b=this.id.replace("content_","").replace("_player","");$(this).parent().find(".jp-controls .jp-play")[0]&&$(this).parent().find(".jp-controls .jp-play")[0].focus({preventScroll:!0});a.jPlayer.status.ended||$(document).trigger(DKI.ContentPage.events.media.paused,[{pageContext:c,elementId:b}]);l.onMediaPause(b,c)});$(a).bind($.jPlayer.event.ended,function(a){a=
$(this).data("replayCount")||0;var b=this.id.replace("content_","").replace("_player","");$(document).trigger(DKI.ContentPage.events.media.ended,[{pageContext:c,elementId:b,replayCount:a}]);l.onMediaEnd(b,c);$(this).data("replayCount",a+1);$($(this).closest(".dki-authoring-element")).data("loop")&&($(this).data("loopingPlay",!0),k.play($(this),c))});$(a).bind($.jPlayer.event.volumechange,function(a){var b=this.id.replace("content_","").replace("_player","");a.jPlayer.options.muted?($(this).parent().find(".jp-controls .jp-unmute")[0].focus({preventScroll:!0}),
l.onMediaVolumeChange(b,"mute",c)):($(this).parent().find(".jp-controls .jp-mute")[0]&&$(this).parent().find(".jp-controls .jp-mute")[0].focus({preventScroll:!0}),l.onMediaVolumeChange(b,"unmute",c))});$(a).bind($.jPlayer.event.timeupdate,function(a){var b=this.id.replace("content_","").replace("_player","");c.mediaTimeUpdates[b]||(c.mediaTimeUpdates[b]=0);a=1E3*a.jPlayer.status.currentTime;c.mediaTimeUpdates[b]=a;0<a&&(l.undoMediaActions(b,a,c),l.onTimeUpdate(a,b,c))});$(".dki-element-anchor",b).on("keypress",
function(c){var k=a.data().jPlayer,l=k.status,k=k.options;32==c.which||13==c.which?l.paused?a.jPlayer("play"):a.jPlayer("pause"):102==c.which&&b.data("allowfullscreen")?$(".jp-full-screen",b).click():27==c.which&&b.data("allowfullscreen")?$(".jp-restore-screen",b).click():116==c.which&&""!=b.data("transcript")?contentApi.showPopup({html:b.data("transcript"),returnFocus:a.find(".jp-transcript"),modal:!1,autoFocus:!0,title:playerStrings.transcriptLabel}):109==c.which?k.muted?a.jPlayer("unmute"):a.jPlayer("mute"):
61==c.which||43==c.which?a.jPlayer("volume",k.volume+.1):45!=c.which&&95!=c.which||a.jPlayer("volume",k.volume-.1)})},undoMediaActions:function(a,b,c){a=this.getActionsForMediaUndo(a,b,c);for(b=0;b<a.length;b++)this.actionHandlers.undoAction(a[b],c)},reset:function(a){this.clearPageTimeouts(a);for(var b=0;b<a.actions.length;b++)"setVariable"==a.actions[b].type&&a.actions[b].parameters.fireOnce||(a.actions[b].firedOnce=!1),"breakpoint"==a.actions[b].trigger&&(a.actions[b].hitBreakpoint=!1),"swapContent"==
a.actions[b].type&&this.actionHandlers.undoAction(a.actions[b],a);a.mediaTimeUpdates={};this.initElementsViewedActions(a)},startPageTimer:function(a,b){var c=this;b.pageTimeouts.push(setTimeout(function(){c.actionConditionsMet(a)&&(c.actionHandlers[a.type](a,b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a}]))},a.time))},clearPageTimeouts:function(a){if(a.pageTimeouts)for(var b=0;b<a.pageTimeouts.length;b++)clearTimeout(a.pageTimeouts[b]);a.pageTimeouts=[]},setReverseAction:function(a,
b){var c=this,k=DKI.clone(a);switch(a.type){case "show":k.type="hide";break;case "hide":k.type="show";break;case "entrance":k.type="exit";break;case "exit":k.type="entrance";break;case "applyEffect":var l=a.parameters,m="moveBy"==l.effect||"moveTo"==l.effect?"left":"width",r="moveBy"==l.effect||"moveTo"==l.effect?"top":"height";if("moveBy"==l.effect||"resizeBy"==l.effect)k.parameters.effectOptions.to[m]=l.effectOptions.to[m].replace(/(\+|\-)/g,function(a){return"+"==a?"-":"+"}),k.parameters.effectOptions.to[r]=
l.effectOptions.to[r].replace(/(\+|\-)/g,function(a){return"+"==a?"-":"+"});else if("moveTo"==l.effect||"resizeTo"==l.effect){for(var p=[],q=0;q<a.targetElements.length;q++){var w=DKI.clone(k),B="moveTo"==l.effect?"x":"width",E="moveTo"==l.effect?"y":"height";w.parameters.effectOptions.to[m]=$("#"+a.targetElements[q]+"_wrapper").data(B);w.parameters.effectOptions.to[r]=$("#"+a.targetElements[q]+"_wrapper").data(E);settings.responsive&&"resizeTo"==l.effect&&(B=$("#"+a.targetElements[q]+"_wrapper"),
E=100*(B.outerWidth(!0)/B.parent().width()),w.parameters.effectOptions.to[m]=0<B.length&&""!=B[0].style.width?E:"",w.parameters.effectOptions.to[r]="");p.push(w)}for(q=0;q<a.targetGroups.length;q++)w=DKI.clone(k),B="moveTo"==l.effect?"x":"width",E="moveTo"==l.effect?"y":"height",w.parameters.effectOptions.to[m]=$("#group_"+a.targetGroups[q]).data(B),w.parameters.effectOptions.to[r]=$("#group_"+a.targetGroups[q]).data(E),settings.responsive&&"resizeTo"==l.effect&&(w.parameters.effectOptions.to[m]=
"",w.parameters.effectOptions.to[r]=""),p.push(w);k=p}else if("fadeTo"==l.effect){p=[];for(q=0;q<a.targetElements.length;q++)w=DKI.clone(k),w.parameters.effectOptions.to.opacity=$("#"+a.targetElements[q]+"_wrapper").css("opacity"),p.push(w);k=p}else if("rotate"==l.effect){p=[];for(q=0;q<a.targetElements.length;q++)w=DKI.clone(k),w.parameters.effectOptions.to.degrees=$("#"+a.targetElements[q]+"_wrapper").css("rotate"),w.parameters.effectOptions.duration=0,p.push(w);k=p}else if("scaleTo"==l.effect){p=
[];for(q=0;q<a.targetElements.length;q++)w=DKI.clone(k),l=$("#"+a.targetElements[q]+"_wrapper").css("scale"),$.isArray(l)?(w.parameters.effectOptions.to.w=100*l[0],w.parameters.effectOptions.to.h=100*l[1]):(w.parameters.effectOptions.to.w=100*l,w.parameters.effectOptions.to.h=100*l),w.parameters.effectOptions.duration=0,p.push(w);k=p}else if("zoomTo"==l.effect){p=[];for(q=0;q<a.targetElements.length;q++)w=DKI.clone(k),l=$("#"+a.targetElements[q]+"_wrapper .dki-element-content").css("scale"),$.isArray(l)?
(w.parameters.effectOptions.to.w=100*l[0],w.parameters.effectOptions.to.h=100*l[1]):(w.parameters.effectOptions.to.w=100*l,w.parameters.effectOptions.to.h=100*l),w.parameters.effectOptions.duration=0,p.push(w);k=p}else if("panTo"==l.effect){p=[];for(q=0;q<a.targetElements.length;q++)w=DKI.clone(k),w.parameters.effectOptions.to.x=$("#"+a.targetElements[q]+"_wrapper .dki-element-content").css("x"),w.parameters.effectOptions.to.y=$("#"+a.targetElements[q]+"_wrapper .dki-element-content").css("y"),w.parameters.effectOptions.duration=
0,p.push(w);k=p}else if("panAndZoom"==l.effect){p=[];for(q=0;q<a.targetElements.length;q++)w=DKI.clone(k),w.parameters.effectOptions.to.x=$("#"+a.targetElements[q]+"_wrapper .dki-element-content").css("x"),w.parameters.effectOptions.to.y=$("#"+a.targetElements[q]+"_wrapper .dki-element-content").css("y"),l=$("#"+a.targetElements[q]+"_wrapper .dki-element-content").css("scale"),$.isArray(l)?(w.parameters.effectOptions.to.w=100*l[0],w.parameters.effectOptions.to.h=100*l[1]):(w.parameters.effectOptions.to.w=
100*l,w.parameters.effectOptions.to.h=100*l),w.parameters.effectOptions.duration=0,p.push(w);k=p}else"applyCSS"==l.effect&&(k=function(){var k=c.actionHandlers.getTargetSelector(a," .dki-element-content"," .dki-authoring-element .dki-element-content");$(k,b.pageContainer).each(function(){var b=$(this);b.attr("style",b.data("pre-action-style-"+a.id))})});break;case "swapContent":p=$("#content_"+a.targetElements[0]);if(k.target_assets)k.target_assets[0].fullAssetUrl=p.attr("src");else if(k.parameters.swapContent)k.parameters.swapContent=
p.html();else if(k.parameters.swapClass)switch(p.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype")){case "panel":p=p.find(".panel").attr("class").match(/panel\-([^\s])+/);k.parameters.swapClass=p[0];break;case "speechBubble":pos=p.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),shape=p.attr("class").match(/(triangle|thought)(\s|$)/),remCls=pos[0]?[pos[0].trim()]:[],shape[0]?remCls.push(shape[0].trim()):!1,k.parameters.swapClass=
remCls.join(" ")}break;case "api":switch(a.parameters.method){case "audioButtonOn":k.parameters.method="audioButtonOff";break;case "audioButtonOff":k.parameters.method="audioButtonOn";break;case "hideForward":k.parameters.method="showForward";break;case "hideBack":k.parameters.method="showBack";break;case "hideBoth":k.parameters.method="showBoth";break;case "showForward":k.parameters.method="hideForward";break;case "showBack":k.parameters.method="hideBack";break;case "showBoth":k.parameters.method=
"hideBoth";break;case "enableMenuButton":k.parameters.method="disableMenuButton";break;case "disableMenuButton":k.parameters.method="enableMenuButton"}break;case "listShowNext":k.type="listHideCurrent"}a.reverseAction=k},checkBreakPointThreshold:function(a,b){a=this.getActionsForPageEvent(a,b,!0);for(var c=0;c<a.length;c++)if(b.started||-1!=$.inArray(a[c].type,["show","hide","toggle","applyEffect","swapContent"])){var k=window.innerWidth;if(a[c].hitBreakpoint&&k>a[c].parameters.breakpoint){if(DKI.isArray(a[c].reverseAction))for(k=
0;k<a[c].reverseAction.length;k++)this.actionHandlers[a[c].reverseAction[k].type](a[c].reverseAction[k],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[c].reverseAction}]);else DKI.isFunction(a[c].reverseAction)?a[c].reverseAction():(this.actionHandlers[a[c].reverseAction.type](a[c].reverseAction,b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[c].reverseAction}]));a[c].hitBreakpoint=!1}else k<=a[c].parameters.breakpoint&&!a[c].hitBreakpoint&&
(a[c].reverseAction||this.setReverseAction(a[c],b),this.actionHandlers[a[c].type](a[c],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[c]}]),a[c].hitBreakpoint=!0)}b.started&&($(".dki-iframe-element:visible, .dki-videoembed-element:visible, .dki-html-element:visible",b.pageContainer).each(function(){var a=$(this).find("iframe");if("about:blank"==a.attr("src")){var b=a.data("src");a.attr("src",b)}}),$(".dki-iframe-element:not(:visible), .dki-videoembed-element:not(:visible), .dki-html-element:not(:visible)").each(function(){var a=
$(this).find("iframe");if("about:blank"!=a.attr("src")){var b=a.attr("src");a.attr("data-src")||a.attr("data-src",b);a.attr("src","about:blank")}}))},checkDeviceAdaptation:function(a,b){var c=dkiUA.getUAProperties();a=this.getActionsForPageEvent(a,b,!0);for(var k=["platform","os","browser"],l=0;l<a.length;l++){var m=!1;if(a[l].parameters.devices){for(var r=a[l].parameters.devices,p=0;p<k.length&&!(r=r[c[k[p]]],m=DKI.isObject(r)?r.enabled:r);p++);m&&(a[l].reverseAction||this.setReverseAction(a[l],
b),this.actionHandlers[a[l].type](a[l],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[l]}]))}}},onPageEvent:function(a,b){a=this.getActionsForPageEvent(a,b);for(var c=0;c<a.length;c++)a[c].reverseAction||this.setReverseAction(a[c],b),this.actionHandlers[a[c].type](a[c],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[c]}]);return a},onElementScrollEvent:function(a,b,c,k){if(c.started){a=this.getActionsForEvent(k,$(a.element).data("id"),
c);for(b=0;b<a.length;b++)a[b].firedOnce?this.actionHandlers.undoAction(a[b],c):(this.actionHandlers[a[b].type](a[b],c),a[b].firedOnce=!0);return a}},onScrollEvent:function(a,b,c,k){if(c.started){a=this.getActionsForPageEvent(k,c,!1,$(a.element).data("id"));for(b=0;b<a.length;b++)a[b].firedOnce?this.actionHandlers.undoAction(a[b],c):(this.actionHandlers[a[b].type](a[b],c),a[b].firedOnce=!0);return a}},onTextLinkScrollEvent:function(a,b,c,k){if(c.started){a=this.getTextLinkActionsForEvent(k,$(a.element),
c);for(b=0;b<a.length;b++)a[b].firedOnce?this.actionHandlers.undoAction(a[b],c):(this.actionHandlers[a[b].type](a[b],c),a[b].firedOnce=!0);return a}},onElementQuestionSubmittedEvent:function(a,b,c){a=$(a);b=this.getActionsForEvent(b,a.data("id"),c);for(a=0;a<b.length;a++)this.actionHandlers[b[a].type](b[a],c),$(document).trigger("actionFired",[{pageContext:c,action:b[a]}]),b[a].firedOnce=!0},undoElementQuestionSubmittedActions:function(a,b,c){a=$(a);b=this.getActionsForEvent(b,a.data("id"),c);for(a=
0;a<b.length;a++)b[a].firedOnce&&this.actionHandlers.undoAction(b[a],c)},onElementCaptureAssessmentSubmittedEvent:function(a,b,c){a=$(a);b=this.getActionsForEvent(b,a.data("id"),c);for(a=0;a<b.length;a++)this.actionHandlers[b[a].type](b[a],c),$(document).trigger("actionFired",[{pageContext:c,action:b[a]}]),b[a].firedOnce=!0},onContentChangedEvent:function(a,b){var c=$(a),k=c.data("id"),l=c.hasClass(".dki-authoring-element")?c:c.closest(".dki-authoring-element"),m=!1,r=!1;a=[];var p=c.data("automaticSet");
switch(l.data("type")){case "tabset":c.attr("data-viewed",!0);l.find(".accordion-toggle[data-id\x3d"+c.data("id")+"]").attr("data-viewed",!0);m=l.data("tabsVisited")?l.data("tabsVisited"):[];0<=$.inArray(k,m)?m:m.push(k);l.data("tabsVisited",m);m=l.data("currentTab")!=k;r=l.data("tabsVisited").length===l.data("tabCount");m&&l.data("currentTab",k);break;case "flipCard":c.find(".face.active").attr("data-viewed",!0);m=!0;0==c.find(".face:not([data-viewed\x3d'true'])").length&&(c.attr("data-viewed",!0),
r=!0);break;case "contentCarousel":c.attr("data-viewed",!0);m=!0;0==c.closest(".dki-element-content").find(".dki-panel-element:not([data-viewed\x3d'true'])").length&&(r=!0);break;case "timeline":c.find(".cd-timeline-block .cd-timeline-img.bounce-in").attr("data-viewed",!0);m=!0;0==c.find(".cd-timeline-block .cd-timeline-img:not([data-viewed\x3d'true'])").length&&(r=!0);break;case "radioGroup":c.find(".dki-element-content label.active").attr("data-viewed",!0);m=!0;0==c.find(".dki-element-content label:not([data-viewed\x3d'true'])").length&&
(r=!0);break;case "capture":var k=c.find("img.capture-image").length,q=c.data("slidesViewed"),m=!0;k<=q.length&&(r=!0);break;case "flashCardSet":m=!0;0==c.find(".dki-element-content .card:not([data-answered\x3d'true'])").length&&(r=!0);break;case "videoPlaylist":m=!0;c.find(".menu li.active").attr("data-viewed",!0);0==c.find(".menu li:not([data-viewed\x3d'true'])").length&&(r=!0);break;case "input":case "textbox":case "selection":case "slider":case "toggle":case "flipCardSet":m=!0;0==c.find(".face:not(.seen)").length&&
(r=!0);break;case "image":c.attr("data-viewed",!0);m=!0;0==l.find(".dki-marker-element:not([data-viewed\x3d'true'])").length&&(r=!0);break;case "video":c.attr("data-viewed",!0);m=!0;0==l.find(".dki-marker-element:not([data-viewed\x3d'true'])").length&&l.data("ended")&&(r=!0);break;case "matchCardSet":m=!0,k=b.getClaroElementById(k),c.data("flipState").success.length==k.elements.length&&(r=!0)}m&&(a=a.concat(this.getActionsForEvent("contentChanged",l.data("id"),b)),$(document).trigger(DKI.ContentPage.events.elementContentChanged,
{element:b.getClaroElementById(l.data("id")),pageInstance:b,setAutomatically:p}),p&&c.data("automaticSet",!1));r&&!l.data("allViewed")&&(l.data("allViewed",!0),a=a.concat(this.getActionsForEvent("allContentViewed",l.data("id"),b)),$(document).trigger(DKI.ContentPage.events.elementAllContentViewed,{element:b.getClaroElementById(l.data("id")),pageInstance:b,setAutomatically:p}),p&&c.data("automaticSet",!1),c.trigger("contentViewed"));for(c=0;c<a.length;c++)this.actionHandlers[a[c].type](a[c],b),$(document).trigger("actionFired",
[{pageContext:b,action:a[c]}])},onTextActionLinkEvent:function(a,b,c){a=this.getTextLinkActionsForEvent(a,b,c);for(b=0;b<a.length;b++)a[b].reverseAction||this.setReverseAction(a[b],c),this.actionHandlers[a[b].type](a[b],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:a[b]}]);return a},onMouseEvent:function(a,b,c){a=this.getActionsForEvent(a,$(b).data("id"),c);for(b=0;b<a.length;b++)a[b].reverseAction||this.setReverseAction(a[b],c),this.actionHandlers[a[b].type](a[b],
c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:a[b]}]);return a},onDisplayEvent:function(a,b,c){a=this.getActionsForEvent(a,$(b).data("id"),c);for(b=0;b<a.length;b++)a[b].reverseAction||this.setReverseAction(a[b],c),this.actionHandlers[a[b].type](a[b],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:a[b]}])},onTimeUpdate:function(a,b,c,k){a=this.getActionForMediaEvent("time",b,c,a);for(b=0;b<a.length;b++)a[b].reverseAction||this.setReverseAction(a[b],
c),this.actionHandlers[a[b].type](a[b],c),a[b].firedOnce=!0,$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:a[b]}])},onTimerTimeUpdate:function(a,b,c){a=this.getActionsForTimerTimeEvent("timer_time",b,c,a);for(b=0;b<a.length;b++){a[b].reverseAction||this.setReverseAction(a[b],c);var k=DKI.clone(a[b]);k.time=0;this.actionHandlers[a[b].type](k,c);a[b].firedOnce=!0;$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:a[b]}])}},onMediaStart:function(a,
b,c){a=this.getActionForMediaEvent(c||"start",a,b);for(c=0;c<a.length;c++)a[c].reverseAction||this.setReverseAction(a[c],b),this.actionHandlers[a[c].type](a[c],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[c]}])},onMediaEnd:function(a,b,c){c=this.getActionForMediaEvent(c||"end",a,b);for(var k=0;k<c.length;k++)c[k].reverseAction||this.setReverseAction(c[k],b),this.actionHandlers[c[k].type](c[k],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,
action:c[k]}]);b.mediaTimeUpdates[a]=0;$("#"+a+"_wrapper").attr("data-ended",!0);this.onContentChangedEvent.call(this,$("#"+a+"_wrapper"),b)},onMediaPlay:function(a,b,c){a=this.getActionForMediaEvent(c||"play",a,b);for(c=0;c<a.length;c++)a[c].reverseAction||this.setReverseAction(a[c],b),this.actionHandlers[a[c].type](a[c],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[c]}])},onMediaPause:function(a,b,c){if(b.started)for(a=this.getActionForMediaEvent(c||"pause",
a,b),c=0;c<a.length;c++)a[c].reverseAction||this.setReverseAction(a[c],b),this.actionHandlers[a[c].type](a[c],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:a[c]}])},onMediaVolumeChange:function(a,b,c){a=this.getActionForMediaEvent(b,a,c);for(b=0;b<a.length;b++)a[b].reverseAction||this.setReverseAction(a[b],c),this.actionHandlers[a[b].type](a[b],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:a[b]}])},onDataSetEvent:function(a,b){var c=
this.getActionsForPageEvent("variableSet",b,!0);setVariableText(a.name,a.newValue,b);var k=$(".dki-radialGauge-element .radial[data-variable-name\x3d'"+a.name+"'], .dki-radialGauge-element .radial[data-current\x3d'"+a.name+"']",b.pageContainer);if(k[0]){var l=k.closest(".dki-radialGauge-element");l.find(".radial").RadialGauge("setRotation",a.newValue,function(a,c){(a=b.getClaroElementById(l.data("id")))&&!isNaN(parseInt(a.parameters.config.current,10))&&(a.parameters.config.current=c.state.current)})}k=
$(".dki-selection-element .dki-element-content[data-variable-id\x3d'"+a.name+"']",b.pageContainer).find("li\x3ea[data-val\x3d'"+a.newValue+"']");k[0]&&k.trigger("click",!0);k=$(".dki-radioGroup-element .dki-element-content[data-variable-id\x3d'"+a.name+"']",b.pageContainer).find("label[data-index\x3d'"+a.newValue+"']");k[0]&&k.trigger("click",!0);k=$(".dki-toggle-element .dki-element-content[data-variable-id\x3d'"+a.name+"']",b.pageContainer).find("input");k[0]&&k.prop("checked",a.newValue);$(".dki-slider-element .noUi-target.slider[data-variable-id\x3d'"+
a.name+"']",b.pageContainer).each(function(){$(this).data("automaticSet",!0);this.noUiSlider.set(a.newValue)});$(".dki-tileCard-element .tileCard[data-variable-name\x3d'"+a.name+"']",b.pageContainer).each(function(){var b=$(this).closest(".dki-tileCard-element"),c=b.find(".tileCard").data("visitedIcon"),b=b.find(".dki-icon-element i"),k=b.data("class");a.newValue?b.addClass(c).removeClass(k):b.addClass(k).removeClass(c)});$(".dki-timer-element .dki-element-content[data-variable-id\x3d'"+a.name+"']",
b.pageContainer).each(function(){var b=$(this).closest(".dki-timer-element"),c=b.data("timer");c&&0<=a.newValue&&a.newValue!=c.getCurrentTime()&&(c.setTime(a.newValue/1E3),c.timer.count=a.newValue/1E3,c="MinuteCounter",36E5<=a.newValue&&(c="HourCounter"),b.data("timer").loadClockFace(c,null,!0))});a.name=="likedislike_"+contentApi.getData("sys.currentpage.id",!0)&&($(".dki-likedislike-element .dki-element-content i",b.pageContainer).disable(),"like"==a.newValue?$(".dki-likedislike-element .dki-element-content .fa-thumbs-up",
b.pageContainer).addClass("toggled"):"dislike"==a.newValue&&$(".dki-likedislike-element .dki-element-content .fa-thumbs-down",b.pageContainer).addClass("toggled"));$(".dki-progress-element .progress[data-variable-name\x3d'"+a.name+"']",b.pageContainer).each(function(){var c=a.newValue,k=$(this).closest(".dki-progress-element"),l=b.getClaroElementById(k.data("id"));k.find(".progress-bar").css(l.parameters.config.dim,c+"%");k.find(".progress-bar-display, .sr-only").html(Math.floor(c)+"%")});$(".dki-progress-element .progress[data-max\x3d'"+
a.name+"'], .dki-progress-element .progress[data-current\x3d'"+a.name+"'],.dki-radialGauge-element .radial[data-max\x3d'"+a.name+"'],.dki-radialGauge-element .radial[data-current\x3d'"+a.name+"']",b.pageContainer).each(function(){var a=$(this).data("max"),c=$(this).data("current"),h=$(this).closest(".dki-progress-element, .dki-radialGauge-element"),k=b.getClaroElementById(h.data("id")),a=isNaN(parseInt(a,10))?contentApi.getData(a):parseInt(a,10),c=isNaN(parseInt(c,10))?contentApi.getData(c):parseInt(c,
10),a=c/a*100;"radialGauge"==h.data("type")?$(this).RadialGauge("setRotation",a,function(a,b){isNaN(parseInt(k.parameters.config.current,10))||(k.parameters.config.current=b.state.current)}):(h.find(".progress-bar").css(k.parameters.config.dim,a+"%"),h.find(".progress-bar-display, .sr-only").html(Math.floor(a)+"%"))});$(".dki-capture-element .capture[data-variable-name\x3d'"+a.name+"']",b.pageContainer).each(function(){if(a.cfg&&a.cfg.source&&a.cfg.source.attr("id")==$(this).closest(".dki-capture-element").attr("id"))return!1;
$(this).closest(".dki-capture-element").capture("goToOverallStep",[a.newValue])});for(k=0;k<c.length;k++)if(c[k].parameters.trigger.variable.name==a.name){var m=c[k].parameters.trigger.variable.value,r=$("\x3cdiv/\x3e").html(m);r.find(".dki-inline-variable-name").each(function(){$(this).html($(this).parent().data("variable-id")).prepend("{{").append("}}")});var r=r.text(),p=r.toString().indexOf("{{"),q=r.toString().indexOf("}}"),w=0,B=/([^\\]["])+/g;-1!=p||B.test(r.toString())||(r='"'+r+'"');for("string"==
typeof m?B.test(m)||(m='"'+m+'"'):"boolean"==typeof m&&(r='"true"'==r);-1<p&&-1<q&&500>w;)m=r.substr(p+2,q-(p+2)),r=r.replace("{{"+m+"}}","contentApi.getData('"+m+"')"),p=r.indexOf("{{"),q=r.indexOf("}}"),w++;1==(new Function("data","return data.newValue "+(c[k].parameters.trigger.variable.condition||"\x3d\x3d")+" "+r+";"))(a)&&(c[k].reverseAction||this.setReverseAction(c[k],b),this.actionHandlers[c[k].type](c[k],b),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:b,action:c[k]}]))}},
getActionsForEvent:function(a,b,c){for(var k=[],l=0;l<c.actions.length;l++){var m=c.actions[l];m.trigger.toLowerCase()!=a.toLowerCase()||m.elementId!=b||m.textLinkId||this.actionConditionsMet(c.actions[l])&&k.push(c.actions[l])}return k},getTextLinkActionsForEvent:function(a,b,c){var k=[],l=$(b).data("textlinkid");b=$(b).closest(".dki-authoring-element,.dki-authoring-element-element").data("id");for(var m=0;m<c.actions.length;m++){var r=c.actions[m];r.elementId==b&&r.textLinkId==l&&r.trigger.toLowerCase()==
a.toLowerCase()&&this.actionConditionsMet(c.actions[m])&&k.push(c.actions[m])}return k},getActionForMediaEvent:function(a,b,c,k,l){l=[];for(var m=0;m<c.actions.length;m++)c.actions[m].trigger==a&&c.actions[m].elementId==b&&!c.actions[m].firedOnce&&this.actionConditionsMet(c.actions[m])&&(k?c.actions[m].time<=k+250&&l.push(c.actions[m]):l.push(c.actions[m]));return l},getActionsForTimerTimeEvent:function(a,b,c,k){for(var l=[],m=0;m<c.actions.length;m++)c.actions[m].trigger!=a||c.actions[m].elementId!=
b||c.actions[m].firedOnce||this.actionConditionsMet(c.actions[m])&&1E3*Math.round(c.actions[m].time/1E3)===k&&l.push(c.actions[m]);return l},getActionsForPageEvent:function(a,b,c,k){for(var l=[],m=0;m<b.actions.length;m++){var r=!1;k&&($.each(b.actions[m].targetElements,function(){if(this.toString()==k.toString())return r=!0,!1}),r||$.each(b.actions[m].targetGroups,function(){if(this.toString()==k.toString())return r=!0,!1}));b.actions[m].trigger.toLowerCase()!=a.toLowerCase()||!c&&b.actions[m].firedOnce&&
b.actions[m].parameters.fireOnce||k&&!r||this.actionConditionsMet(b.actions[m])&&l.push(b.actions[m])}return l},getActionsForMediaUndo:function(a,b,c){for(var k=[],l=c.actions.length-1;0<=l;l--)c.actions[l].elementId==a&&c.actions[l].firedOnce&&c.actions[l].time>b+250&&"time"==c.actions[l].trigger.toLowerCase()&&this.actionConditionsMet(c.actions[l])&&k.push(c.actions[l]);return k},actionConditionsMet:function(a){var b=!0;if("undefined"!==typeof a.parameters&&"undefined"!==typeof a.parameters.conditions&&
""!=a.parameters.conditions){a=a.parameters.conditions;a=$("\x3cdiv/\x3e").html(a);a.find(".dki-inline-variable-name").each(function(){$(this).html($(this).parent().data("variable-id")).prepend("{{").append("}}")});a=a.text();for(var c=a.indexOf("{{"),k=a.indexOf("}}"),b=0;-1<c&&-1<k&&500>b;)c=a.substr(c+2,k-(c+2)),a=a.replace("{{"+c+"}}","contentApi.getData('"+c+"')"),c=a.indexOf("{{"),k=a.indexOf("}}"),b++;b=eval(a)}return b},setupLinkedElements:function(b,c,k){for(var l=0;l<b.length;l++){b[l].elementId&&
!b[l].textLinkId&&$("#"+b[l].elementId+"_wrapper:not(.dki-hotspot-element) .dki-element-content",c).css({cursor:"pointer"});for(var m=0;m<b[l].targetElements.length;m++)$("#"+b[l].targetElements[m]+"_wrapper",c).addClass("dki-event-target")}$("[data-actiontype\x3dpagelink]",c).each(function(){$(this).css({cursor:"pointer"});$(this).on(k,function(){if(a){var b=this;setTimeout(function(){a.jumpToSubeo($(b).data("actiontargets"))},10)}})});$("[data-actiontype\x3dimagemap]",c).each(function(){var a=$(this).data("id");
if(a=document.getElementById(a+"_imagemap"))for(var b=0;b<a.childNodes.length;b++)processHrefTarget($(a.childNodes[b]).data("hreftarget"),$(a.childNodes[b]).data("hidetargetonload"))})},setupRollovers:function(a){function b(k,l){var n=$("#content_"+k+"_rollover",a),m=$("#content_"+k,a),p="position top bottom left right width height".split(" "),w=function(){$("#"+k+"_wrapper",a).css("min-height","");$("#"+k+"_wrapper",a).data("rolledover","false");settings.responsive&&$.effects.restore(m,p)},q=null,
y=$("#"+k+"_wrapper",a).data("meta"),y=y.split(";");2<=y.length&&(q=y[1]);q&&""!==q&&"true"==$("#"+k+"_wrapper",a).data("rolledover")&&($.effects.save(m,p),m.css({top:n.css("top"),left:n.css("left"),width:n.width(),height:n.height()}),"none"!==q?l?($(".dki-image-root-reflected",$("#"+k+"_wrapper")).show(q,{},800,w),$(".dki-image-rollover-reflected",$("#"+k+"_wrapper")).hide(q,{},800,w)):(m.velocity("stop"),$("#content_"+k+"_rollover",a).velocity("stop"),$("#content_"+k,a).velocity(c(q,!0),{duration:800,
complete:function(){$(this).css("position","static");w()}}),$("#content_"+k+"_rollover",a).velocity(c(q,!1),{duration:800,display:null,complete:function(){$(this).hide().css("position","static");w()}})):(m.velocity("stop"),l?($(".dki-image-root-reflected",$("#"+k+"_wrapper")).show(),$(".dki-image-rollover-reflected",$("#"+k+"_wrapper")).hide()):($("#content_"+k,a).show(),$("#content_"+k,a).css("transform","translateX(0px)"),$("#content_"+k,a).css("opacity","1"),$("#content_"+k+"_rollover",a).hide()),
w()))}var c=function(a,b){var c;b?(b="Left","flip"==a&&(b="X"),c="In"):(b="Right","flip"==a&&(b="Y"),c="Out");b={fade:"transition.fade"+c,drop:"transition.slide"+b+"Big"+c,slide:"transition.slide"+b+c,bounce:"transition.bounce"+b+c,fly:"transition.bounce"+b+c,roll:"transition.perspective"+b+c,flip:"transition.flip"+b+c,zoom:"transition.expand"+c};return a=b[a]||b.fade},k=function(a,b){var c=b.position().left;b=b.position().top;a.css({left:c+"px",top:b+"px"})};$(".dki-image-element .dki-element-content.hasRollover",
a).on("mouseenter",function(){var b=$(this).closest(".dki-image-element"),l=b.data("id");if(b.data("rolloverassetid")&&(!b.data("rolledover")||"false"==b.data("rolledover"))){var n=null,m=b.data("meta"),m=m.split(";");1<=m.length&&(n=m[0]);var m=$("#"+l+"_wrapper",a).data("rolledover"),p=$(this).hasClass("cssFX-slctr-Reflect");$(".dki-image-root-reflected",$("#"+l+"_wrapper")).attr("data-id",l);$(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).attr("data-id",l);b.css("min-height",b.height()+
"px");!n||"none"===n||m&&"false"!==m?m&&"false"!==m||($("#content_"+l,a).parent().css("position","initial"),p?($("#content_"+l+"_rollover",a).parent().show(),$("#content_"+l,a).parent().hide()):($("#content_"+l+"_rollover",a).css({width:$("#content_"+l,a).width()+"px",height:$("#content_"+l,a).height()+"px"}),k($("#content_"+l+"_rollover",a),$("#content_"+l,a)),$("#content_"+l+"_rollover",a).css({position:"static",opacity:1}).show(),$("#content_"+l,a).hide()),$("#"+l+"_wrapper",a).data("rolledover",
"true")):($("#content_"+l+"_rollover",a).css({position:"static",width:$("#content_"+l,a).width()+"px",height:$("#content_"+l,a).height()+"px"}),p?($(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).show(n,{},800,function(){settings.responsive&&$("#content_"+l+"_rollover",a).css("position","static")}),$(".dki-image-root-reflected",$("#"+l+"_wrapper")).hide(n,{},800)):(k($("#content_"+l+"_rollover",a),$("#content_"+l,a)),$("#content_"+l+"_rollover",a).velocity(c(n,!0),{duration:800,complete:function(){$(this).css("position",
"static")}}),$("#content_"+l,a).velocity(c(n,!1),{duration:800,display:null,complete:function(){$(this).hide().css("position","static")}})),$("#"+l+"_wrapper",a).data("rolledover","true"))}});$(".dki-image-rollover-reflected",a).mouseout(function(){b($(this).closest(".dki-image-element").data("id"),!0)});$(".dki-image-rollover",a).mouseout(function(){b($(this).closest(".dki-image-element").data("id"),!1)})},actionHandlers:{entrance:function(a,b){this.show.apply(this,arguments)},exit:function(a,b){this.hide.apply(this,
arguments)},show:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);c={type:"show",effect:a.parameters.effect,targetElements:a.targetElements,targetGroups:a.targetGroups,delay:c,action:a};a.parameters.effectOptions&&(c.effectOptions=a.parameters.effectOptions);this.doDisplayAction(c,b)},hide:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);c={type:"hide",effect:a.parameters.effect,targetElements:a.targetElements,targetGroups:a.targetGroups,delay:c,action:a};a.parameters.effectOptions&&(c.effectOptions=
a.parameters.effectOptions);this.doDisplayAction(c,b)},toggle:function(a,b){var c=[],k=[];if(a.targetElements)for(var l=0;l<a.targetElements.length;l++)"none"===$("#"+a.targetElements[l]+"_wrapper").css("display")||"hidden"===$("#"+a.targetElements[l]+"_wrapper").css("visibility")?(c.push(a.targetElements[l]),b.queue.dequeue({name:"elementsViewed",id:a.targetElements[l]})):k.push(a.targetElements[l]);var m=[],r=[];if(a.targetGroups)for(l=0;l<a.targetGroups.length;l++)"none"===$("#group_"+a.targetGroups[l]).css("display")||
"hidden"===$("#group_"+a.targetGroups[l]).css("visibility")?m.push(a.targetGroups[l]):r.push(a.targetGroups[l]);l=0;"time"!=a.trigger&&(l=a.time);c={type:"show",effect:a.parameters.showEffect,targetElements:c,targetGroups:m,delay:l,action:a};a.parameters.showEffectOptions&&(c.effectOptions=a.parameters.showEffectOptions);k={type:"hide",effect:a.parameters.hideEffect,targetElements:k,targetGroups:r,delay:l,action:a};a.parameters.hideEffectOptions&&(k.effectOptions=a.parameters.hideEffectOptions);this.doDisplayAction(c,
b);this.doDisplayAction(k,b)},doDisplayAction:function(a,b){var c=this.getTargetSelector(a,"[data-type!\x3d'zoomRegion']:not(.dki-list-element)"),l=$(this.getTargetSelector(a,".dki-list-element:not(.isShowNextTarget)")),m=this.getTargetSelector(a,"[data-type\x3d'zoomRegion']"," .dki-zoomRegion-element");this.getTargetSelector({targetGroups:a.targetGroups});var p=this.getTargetSelector(this.getTargetsToHide(a.action,b)),r=$(c,b.pageContainer);a.action.undo||(a.action.undo={});"toggle"==a.action.type&&
"show"==a.type?a.action.undo.showTargetSelector=c:"toggle"==a.action.type&&"hide"==a.type&&(a.action.undo.hideTargetSelector=c);a.action.undo.targetsToHideSelector=p;var q=function(){var c=$(this),l="show"===a.type?DKI.ContentPage.events.shown:DKI.ContentPage.events.hidden;"show"===a.type&&c.each(function(){$(this).hasClass("dki-authoring-element")&&(b.queue.dequeue({name:"elementsViewed",id:$(this).data("id")}),$(this).data("viewed")||($(this).data("viewed",!0),"placeholder"!=$(this).data("elementtype")&&
$(document).trigger(DKI.ContentPage.events.elementContentViewed,{element:b.getClaroElementById($(this).data("id")),pageInstance:b})))});if(c.hasClass("dki-authoring-group")){var m=$(".dki-authoring-element",this);"show"==a.type&&(m=m.filter(":visible"));m.each(q)}else{var r="content_"+c.data("id"),p=$("#"+r),m=b.getClaroElementById(c.data("id"));c.trigger(l,this);if("show"===a.type)settings.responsive&&(b.setMinHeight(),b.reCalculateMediaControls()),c.each(function(){var a=$(this),c="content_"+a.data("id"),
h=$("#"+c),l=b.getClaroElementById(a.data("id"));h.data("autoplay")&&"flash"!=a.data("type")&&k.play(c,b);"marker"==a.data("type")?"custom"==l.parameters.config.trigger&&""!=l.meta&&h.tooltipster("show"):"textbox"==a.data("type")||"freeFormOption"==a.data("type")?""!=l.parameters.config.variable_name&&h.val(contentApi.getData(l.parameters.config.variable_name)):"scenario"==a.data("type")&&(a.find(".dki-element-content").Scenario("sceneWindowResize"),a.find(".dki-element-content").Scenario("start"));
if(l.elements){for(c=0;c<l.elements.length;c++)h=l.elements[c],"marker"==h.elementtype&&"custom"==h.parameters.config.trigger&&""!=h.meta&&$("#content_"+h.id).tooltipster("show");!settings.responsive||"video"!=l.elementtype&&"image"!=l.elementtype||(b.setLabelWrapperPosition(a),b.scaleElementChildren(l),a.find(".dki-authoring-element-element").css("visibility",""))}});else if("hide"==a.type&&(settings.responsive&&setTimeout(player.resetContentHeight,10),$(this).css({opacity:""}),$("iframe",this).each(function(){$(this).attr("data-src")||
$(this).attr("data-src",this.src);this.src="about:blank"}),c.data("multimedia")&&"flash"!=c.data("type")&&k.pause(r,b),"marker"==c.data("type")&&"custom"==m.parameters.config.trigger&&""!=m.meta&&p.tooltipster("hide"),c.each(function(){"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("stop")}),m.elements))for(c=0;c<m.elements.length;c++)l=m.elements[c],"marker"==l.elementtype&&"custom"==l.parameters.config.trigger&&""!=l.meta&&$("#content_"+l.id).tooltipster("hide")}};
""!==c?b.pageTimeouts.push(setTimeout(function(){DKI.applyIf(a,{effectOptions:{duration:1E3,direction:""}},!0);var k=a.effectOptions.duration,w=a.type;a.type="hide";$(p).addClass("hidden").each(function(){q.call(this)});a.type=w;"show"==a.type&&b.started&&$("iframe",c).each(function(){this.src=$(this).attr("data-src")});"hide"==a.type&&settings.responsive&&b.setMinHeight();"show"!=a.type||settings.responsive||r.each(function(){var a=$(this).find("#content_"+$(this).data("id")),c=function(a,b,c){c=
$(a).find("#content_"+$(a).data("id"));$(a).css({visibility:"hidden",display:"block"});b-=c.find(".panel \x3e.panel-heading").first().outerHeight()+c.find(".panel \x3e.panel-footer").first().outerHeight()+2;c.find(".panel-body").first().css({height:b});$(a).css({visibility:"",display:""})};if("panel"==$(this).data("type"))c(this,$(this).data("height"),a);else if("contentCarousel"==$(this).data("type")){var h=$(this).css({visibility:"hidden",display:"block"}).height()-a.find("\x3e .flickity \x3e .flickity-page.dots").height();
$(this).css({visibility:"",display:""});a.find("\x3e .flickity \x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element").each(function(){c(this,h)})}else"flipCard"==$(this).data("type")?(h=$(this).data("height"),$(this).css({visibility:"",display:""}),a.find("\x3e .contentContainer").each(function(){c(this,h)})):"tabset"==$(this).data("type")&&"horizontal"==b.getClaroElementById($(this).data("id")).parameters.config.orientatil&&(h=$(this).data("height")-a.find("\x3e .tabbable \x3e .nav").height(),
a.find("\x3e.tabbable \x3e .tab-content").css("height",h+"px"))});if(""==a.effect||"none"==a.effect)"show"==a.type?(r.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").each(q),b.resizeCarousels(r.find(".flip, .flickity")),b.resizeSection(r.closest(".dki-authoring-section")),r.find("img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?!1:"none"})):r.addClass("hidden").each(q);else if(a.effect.match("text_","i"))a.effectOptions&&(r.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),
r.find(".dki-element-content").textillate(a.effectOptions));else{if("blind"==a.effect||"clip"==a.effect||"fold"==a.effect)a.effect="fade";var w=a.effectOptions.direction?DKI.capitalizeString(a.effectOptions.direction):"",B="In";"show"==a.type?"Left"==w?w="Right":"Right"==w&&(w="Left"):B="Out";var w={fade:"transition.fade"+B,drop:"transition.slide"+w+"Big"+B,slide:"transition.slide"+w+B,bounce:"transition.bounce"+w+B,fly:"transition.bounce"+w+B,roll:"transition.perspective"+w+B,flip:"transition.flip"+
w+B,zoom:"transition.expand"+B},E=$([]);l.each(function(){jQuery.merge(E,$(this).find("ul.dki-element-content li"))});"show"==a.type?(settings.responsive&&r.each(function(){"image"!=$(this).data("type")&&"video"!=$(this).data("type")||$(this).find(".dki-authoring-element-element").css("visibility","hidden")}),w[a.effect]?(r.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").velocity(w[a.effect],{duration:k,display:null,
complete:q}),r.find("img.dki-element-content").maskImage(),r.filter(".dki-image-element").add(r.find(".dki-image-element")).each(function(){$(this).data("resizeMap")&&$(this).data("resizeMap")()}),l.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),E.velocity(w[a.effect],{duration:k,stagger:.5*k,display:null,complete:function(){q.call($(this).closest(".dki-authoring-element")[0])}})):(r.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").effect(a.effect,
q),l.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").effect(a.effect,q)),b.resizeCarousels(r.find(".flip, .flickity")),b.resizeSection(r.closest(".dki-authoring-section")),settings.responsive&&$(c).closest(".dki-authoring-row.synchronize-heights").each(function(){synchonizeRowHeight($(this))})):w[a.effect]?(r.velocity(w[a.effect],{duration:k,display:null,complete:function(){$(this).addClass("hidden");q.call(this)}}),E.velocity(w[a.effect],{duration:k,stagger:.5*
k,display:null,complete:function(){$(this).addClass("hidden");q.call($(this).closest(".dki-authoring-element")[0])}})):(r.effect(a.effect,function(){$(this).addClass("hidden");q.call(this)}),l.effect(a.effect,function(){$(this).addclass("hidden");q.call(this)}))}""!=m&&("show"==a.type?$(m,b.pageContainer).show().each(function(){var a=this;contentApi.zoomToElement($(this).data("id"),b,k,function(){q.call(a)})}):contentApi.zoomOut(b,k,function(){$(m,b.pageContainer).hide().each(function(){q.call(this)})}));
r.trigger("shown")},a.delay)):""!==p&&($(p).hide(),a.action.undo.targetsToHideSelector=p)},applyEffect:function(b,c){var k=this,l=0,m;"time"!=b.trigger&&(l=b.time);m=this.getTargetSelector(b,""," .dki-authoring-element");if(""!==m){if("moveTo"==b.parameters.effect||"moveBy"==b.parameters.effect){b.undo={targets:{}};for(var p=0;p<b.targetElements.length;p++)b.undo.targets[b.targetElements[p]]={left:$("#"+b.targetElements[p]+"_wrapper",c.pageContainer).css("left").split("px")[0],top:$("#"+b.targetElements[p]+
"_wrapper",c.pageContainer).css("top").split("px")[0]}}else if("resizeTo"==b.parameters.effect||"resizeBy"==b.parameters.effect)for(b.undo={targets:{}},p=0;p<b.targetElements.length;p++)b.undo.targets[b.targetElements[p]]={width:0<$("#"+b.targetElements[p]+"_wrapper",c.pageContainer).css("width").length?$("#"+b.targetElements[p]+"_wrapper",c.pageContainer).css("width").split("px")[0]:0,height:0<$("#"+b.targetElements[p]+"_wrapper",c.pageContainer).css("width").length?$("#"+b.targetElements[p]+"_wrapper",
c.pageContainer).css("height").split("px")[0]:0};c.pageTimeouts.push(setTimeout(function(){var l=void 0!=b.parameters.effectOptions.duration?b.parameters.effectOptions.duration:1E3,p=function(b){try{return $(b).is("span")?a.getData($(b).data("variable-id"),!0):b}catch(c){return b}};b.parameters&&b.parameters.effect&&"pulsate"==b.parameters.effect&&(b.parameters.effect="pulse");if(b.parameters&&b.parameters.effectOptions)if("moveTo"==b.parameters.effect||"moveBy"==b.parameters.effect){var l=k.getTargetSelector({targetElements:b.targetElements}),
q=DKI.clone(b.parameters.effectOptions);q.to.left=p(q.to.left);q.to.top=p(q.to.top);$(l).effect(b.parameters.effect,q,function(){"zoomRegion"==$(this).data("type")&&contentApi.zoomToElement($(this).data("id"))});for(l=0;l<b.targetGroups.length;l++){for(var q=$("#group_"+b.targetGroups[l]).children(".dki-authoring-element"),w=parseInt(q[0].style.top),y=parseInt(q[0].style.left),z=1;z<q.length;z++)var D=$(q[z]).position(),w=Math.min(w,D.top),y=Math.min(y,D.left);w={top:"+\x3d"+(p(b.parameters.effectOptions.to.top)-
w),left:"+\x3d"+(p(b.parameters.effectOptions.to.left)-y)};$(q).effect("moveBy",{to:w})}}else if("resizeTo"==b.parameters.effect)$(m).effect(b.parameters.effect,b.parameters.effectOptions);else if("fadeTo"==b.parameters.effect)l=DKI.clone(b.parameters.effectOptions),l.to.opacity=p(b.parameters.effectOptions.to.opacity)/100,$(m).find(".dki-authoring-content-wrapper").effect(b.parameters.effect,l);else if("rotate"==b.parameters.effect){var F={rotateZ:p(b.parameters.effectOptions.to.degrees)};$(m).velocity(F,
{duration:l})}else"scaleTo"==b.parameters.effect?(F={scaleX:p(b.parameters.effectOptions.to.w)/100,scaleY:p(b.parameters.effectOptions.to.h)/100},$(m).velocity(F,{duration:l})):"panTo"==b.parameters.effect?(F={translateX:p(b.parameters.effectOptions.to.x),translateY:p(b.parameters.effectOptions.to.y)},$(m).css("overflow","hidden"),$(".dki-element-content",m).velocity(F,{duration:l})):"zoomTo"==b.parameters.effect?(F={scaleX:p(b.parameters.effectOptions.to.w)/100,scaleY:p(b.parameters.effectOptions.to.h)/
100},$(m).css("overflow","hidden"),$(".dki-element-content",m).velocity(F,{duration:l})):"panAndZoom"==b.parameters.effect?(F={translateX:p(b.parameters.effectOptions.to.x),translateY:p(b.parameters.effectOptions.to.y),scaleX:p(b.parameters.effectOptions.to.w)/100,scaleY:p(b.parameters.effectOptions.to.h)/100},$(m).css("overflow","hidden"),$(".dki-element-content",m).velocity(F,{duration:l})):"flip"==b.parameters.effect?(F={rotateX:"360deg"},$(m).velocity(F,{duration:l})):"applyCSS"==b.parameters.effect?
(F={},p=b.parameters.effectOptions.to.css.split(";"),$.each(p,function(){var a=this.split(":");a[0]&&a[1]&&(F[$.trim(a[0])]=$.trim(a[1]))}),m=k.getTargetSelector(b," .dki-element-content"," .dki-authoring-element .dki-element-content"),$(m,c.pageContainer).each(function(){var a=$(this);a.data("pre-action-style-"+b.id,a.attr("style"))}),p=$(m,c.pageContainer),p.animate(F,{duration:l})):(p=$(m,c.pageContainer),p.velocity("callout."+b.parameters.effect,{duration:l}));else p=$(m,c.pageContainer),p.velocity("callout."+
b.parameters.effect,{duration:l})},l))}},http:function(b,c){if(-1<b.parameters.url.indexOf("mailto:"))window.open(b.parameters.url);else if(b.parameters.target&&"modal"===b.parameters.target)a.openModal(b.parameters.url);else{if(playerBehaviour.removeWebLinks)return!1;window.open(b.parameters.url,"_blank").focus()}},asset:function(b,c){b.parameters&&b.parameters.target&&"modal"===b.parameters.target?a.openModal(settings.assetURL+b.target_assets[0].filename):window.open(settings.assetURL+b.target_assets[0].filename,
"assetWindow")},showPopup:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);var k=window.pageYOffset,l=function(){contentApi.showPopup({title:a.parameters.popup.title,html:a.parameters.popup.content,effect:a.parameters.effect,style:a.parameters.popup.style,autoFocus:!0,popupType:a.parameters.popup.type,zIndex:b.getZIndex(),returnFocus:function(){var a=null;$("body").hasClass("show-focus-outlines")&&(a=document.activeElement);return a}(),id:a.id,domStyles:dkiUA.iOS&&dkiUA.safari?"position:absolute; top:"+
k+"px":""})};"undefined"!=typeof scormInterface&&dkiUA.iOS&&dkiUA.safari?scormInterface.process("getPageYOffset",[],function(a){0==k&&(k=a);b.pageTimeouts.push(setTimeout(l,c))}):b.pageTimeouts.push(setTimeout(l,c))},lightBox:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);a.target_assets&&0<a.target_assets.length&&b.pageTimeouts.push(setTimeout(function(){var b=[];$.each(a.target_assets,function(){b.push($("\x3cimg/\x3e",{attr:{src:settings.assetURL+this.filename}}))});if(b[0]){b[0].on("load",
function(){var a=!0;$.fancybox.open(b,{animationEffect:!1,padding:0,smallBtn:!1,buttons:["close"],margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},baseTpl:'\x3cdiv class\x3d"fancybox-container" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cbutton tabindex\x3d"1" aria-label\x3d"{{CLOSE}}" data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}" style\x3d"opacity:1 !important;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{PREV}}" data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',
arrowRight:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{NEXT}}" data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e'},afterLoad:function(a,b){DKI.enforceFocus(this.$slide.closest(".fancybox-inner"));this.$slide.closest(".fancybox-inner").find(".fancybox-infobar").attr("aria-hidden",
!0);this.$slide.closest(".fancybox-container").attr("aria-label","Popup")},afterShow:function(b){if(a){var c=b.current.$slide.closest(".fancybox-inner");c.find("*[tabindex\x3d'1']").first()[0].focus();a=!1}c=b.current.$slide.closest(".fancybox-inner");c.find(".fancybox-button").attr("tabindex",1).filter(".disabled").attr("tabindex",-1)},beforeShow:function(a,c,h){for(a=0;a<b.length;a++)b[a].width(b[a].outerWidth(!0)||"")}})});var c=$("\x3cdiv/\x3e",{style:{position:"absolute",top:"-10000px",left:"-10000px",
visibility:"hidden"}}).append(b[0]);$("body").append(c)}},c))},lightBoxOld:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);var l=this.getTargetSelector(a);""!==l&&b.pageTimeouts.push(setTimeout(function(){var a=[];$(l).each(function(c,h){c=$(h);h=c.clone();for(var k=h.find("*"),l=0;l<k.length;l++){var m=$(k[l]);m.prop("id",m.prop("id")+"_lightbox")}h.prop("id",h.prop("id")+"_lightbox");k={"min-width":"150px","max-width":$(b.pageContainer).outerWidth(!0)-30+"px",position:"static",display:"inline-block",
visibility:"visible",height:"",width:"",cursor:"",opacity:""};h.css(k);h.find("map, .dki-image-rollover").detach();$.each(h.find("img"),function(a){$(this).css({position:"static",opacity:"",display:"inline-block"});$(this).attr("usemap")&&$(this).attr("usemap","")});$.each(h.find("iframe"),function(a){"about:blank"==$(this).attr("src")&&$(this).data("src")&&$(this).attr("src",$(this).data("src"))});h.attr("id","");c.data("isrichtext")&&(k["overflow-y"]="auto");a.push(h)});$.fancybox.open(a,{openEffect:"none",
closeEffect:"none",nextEffect:"none",prevEffect:"none",padding:0,margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",afterLoad:function(a,b){b.$content.is("iframe")&&b.$content.attr("src",b.$content.data("src"));b=a.slides[a.prevIndex];a.currIndex!=a.prevIndex&&b&&b.$content.is("iframe")&&b.$content.attr("src","about:blank")},afterShow:function(a,c){c.$content.hasClass("dki-video-element")?k.handleVideo(c.$content.find(".dki-video-content-element"),b):c.$content.hasClass("dki-audio-element")&&
(a=c.$content.find("div[data-elementType\x3d'audio']"),c.$content.css("height","100%"),a.siblings(".jp-audio, .jp-basic").detach(),k.handleAudio(a,b))},beforeShow:function(){for(var b=0;b<a.length;b++)settings.responsive&&a[b].data("isrichtext")?a[b].css("width","100%"):a[b].width(a[b].outerWidth(!0)||"")}})},c))},api:function(b,c){var k=0;"time"!=b.trigger&&(k=b.time);c.pageTimeouts.push(setTimeout(function(){var c=b.parameters.methodConfig?b.parameters.methodConfig:{};"jumpToElement"==b.parameters.method&&
b.targetElements[0]?c.elementId=b.targetElements[0]:"jumpToPage"==b.parameters.method&&b.targetPages[0]&&(c.pageID=b.targetPages[0]);a[b.parameters.method](c)},k))},sendXAPIStatement:function(b,c){var k=0,l={response:{process:function(b){if(dataStorage){var c=dataStorage.getContentVariableMeta(b);return(c?c.text:a.getData(b,!0))+""}return null}},success:{process:function(b){return a.getData(b,!0)}},score:{process:function(b){return a.getData(b,!0)}}};"time"!=b.trigger&&(k=b.time);var m=DKI.clone(b.parameters.statement);
b=function(){m.result&&($.each(m.result,function(a,b){var c=m.result;$(b).is("span")?(b=$(b).data("variable-id"),b=l[a].process(b)):b=isNaN(b)?b.match(/^(true|false)$/i)?"true"===b:b:parseFloat(b,10);c[a]=b}),"undefined"==typeof m.result.score||DKI.utility.isObject(m.result.score)||(m.result.score={scaled:m.result.score/100}));a.sendXAPIStatement(m)};0==k?b():c.pageTimeouts.push(setTimeout(b,k))},setVariable:function(b,c){if(b.parameters.fireOnce&&b.firedOnce)return null;var k=0;"time"!=b.trigger&&
(k=b.time);b.firedOnce=!0;for(var l=0;l<c.actions.length;l++)c.actions[l].id==b.id&&(c.actions[l].firedOnce=!0);if("undefined"!=typeof dataStorage&&dataStorage.currentPage)for(l=0;l<dataStorage.currentPage.page.actions.length;l++)dataStorage.currentPage.page.actions[l].id==b.id&&(dataStorage.currentPage.page.actions[l].firedOnce=!0);c.pageTimeouts.push(setTimeout(function(){var c=b.parameters.variable,k=c.name,l=c.value,l=$("\x3cdiv/\x3e").html(l.toString());l.find(".dki-inline-variable-name").each(function(){var a=
"contentApi.getData('"+$(this).parent().data("variable-id")+"')";$(this).html(a).prepend("{{").append("}}")});l.find(".dki-inline-function-name").each(function(){$(this).prepend("{{").append("}}")});var l=l.text(),n=l.toString().indexOf("{{"),m=l.toString().indexOf("}}"),p=0,t=/([^\\]["])+/g;for(-1!=n||"string"!=c.type||t.test(l.toString())||(l='"'+l+'"');-1<n&&-1<m&&500>p;)n=l.substr(n+2,m-(n+2)),l=l.replace("{{"+n+"}}",n),n=l.indexOf("{{"),m=l.indexOf("}}"),p++;l="number"==c.type?(new Function("contentAPI",
" var oldValue \x3d contentAPI.getData('"+c.name+"'); if(!oldValue){ oldValue \x3d 0; } return oldValue "+c.operator+" "+l+";"))(a):eval(l);a.setData(k,l)},k))},playMedia:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);b.pageTimeouts.push(setTimeout(function(){for(var c=0;c<a.targetElements.length;c++){var k=b.mediaPlayers["content_"+a.targetElements[c]],l=a.parameters;k?(l&&"undefined"!==typeof l.startTime?k.jPlayer("play",l.startTime/1E3):k.jPlayer("play"),a.parameters&&"undefined"!==typeof l.endTime&&
(a.firedOnce=!0,$(k).bind($.jPlayer.event.timeupdate,function(b){a.firedOnce&&1E3*b.jPlayer.status.currentTime>a.parameters.endTime&&(k.jPlayer("pause"),a.firedOnce=!1)}))):(l=b.getClaroElementById(a.targetElements[c]),"timer"==l.elementtype&&(l=$("#"+l.elementid+"_wrapper",b.pageContainer),l[0]&&l.data("timer")&&(l.data("timer").running||l.data("timer").start())))}},c))},replayMedia:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);b.pageTimeouts.push(setTimeout(function(){for(var c=0;c<a.targetElements.length;c++){var l=
b.mediaPlayers["content_"+a.targetElements[c]];l?k.play(l,b,0):(l=b.getClaroElementById(a.targetElements[c]),"timer"==l.elementtype&&(l=$("#"+l.elementid+"_wrapper",b.pageContainer),l[0]&&l.data("timer")&&l.data("timer").restart()))}},c))},pauseMedia:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);b.pageTimeouts.push(setTimeout(function(){for(var c=0;c<a.targetElements.length;c++){var k=b.mediaPlayers["content_"+a.targetElements[c]];k?(k.jPlayer("pause"),a.parameters&&a.parameters.hidePlayHead&&
$("#content_"+a.targetElements[c],b.pageContainer).find(".jp-video-play").addClass("hidden").after($('\x3cdiv class\x3d"playHeadBlocker proxy"\x3e\x3c/div\x3e'))):(k=b.getClaroElementById(a.targetElements[c]),"timer"==k.elementtype&&(k=$("#"+k.elementid+"_wrapper",b.pageContainer),k[0]&&k.data("timer")&&k.data("timer").running&&k.data("timer").stop()))}},c))},toggleMedia:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);b.pageTimeouts.push(setTimeout(function(){for(var c=0;c<a.targetElements.length;c++){var k=
b.mediaPlayers["content_"+a.targetElements[c]];k?k.data().jPlayer.status.paused?k.jPlayer("play"):k.jPlayer("pause"):(k=b.getClaroElementById(a.targetElements[c]),"timer"==k.elementtype&&(k=$("#"+k.elementid+"_wrapper",b.pageContainer),k[0]&&k.data("timer")&&k.data("timer").toggle()))}},c))},showCC:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);b.pageTimeouts.push(setTimeout(function(){for(var c=0;c<a.targetElements.length;c++)b.mediaPlayers["content_"+a.targetElements[c]].closest(".jp-video").addClass("showCC")},
c))},hideCC:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);b.pageTimeouts.push(setTimeout(function(){for(var c=0;c<a.targetElements.length;c++)b.mediaPlayers["content_"+a.targetElements[c]].closest(".jp-video").removeClass("showCC")},c))},toggleCC:function(a,b){var c=0;"time"!=a.trigger&&(c=a.time);b.pageTimeouts.push(setTimeout(function(){for(var c=0;c<a.targetElements.length;c++)b.mediaPlayers["content_"+a.targetElements[c]].closest(".jp-video").toggleClass("showCC")},c))},lightboxPage:function(a,
b){var c=document.activeElement,k=0;"time"!=a.trigger&&(k=a.time);b.pageTimeouts.push(setTimeout(function(){player.showPage(a.targetPages[0],c)},k))},undoAction:function(a,b){var c=this;if("show"==a.type||"hide"==a.type||"entrance"==a.type||"exit"==a.type){var k=this.getTargetSelector(a);"show"==a.type||"entrance"==a.type?$(k,b.pageContainer).addClass("hidden"):$(k,b.pageContainer).removeClass("hidden");$(a.undo.targetsToHideSelector,b.pageContainer).removeClass("hidden")}else if("toggle"==a.type)$(a.undo.showTargetSelector,
b.pageContainer).addClass("hidden"),$(a.undo.hideTargetSelector,b.pageContainer).removeClass("hidden"),$(a.undo.targetsToHideSelector,b.pageContainer).removeClass("hidden");else if("applyEffect"==a.type)if("moveTo"==a.parameters.effect||"moveBy"==a.parameters.effect)$.each(a.undo.targets,function(c){$("#"+c+"_wrapper",b.pageContainer).effect(a.parameters.effect,{duration:0,to:{left:this.left,top:this.top}})});else if("resizeTo"==a.parameters.effect||"resizeBy"==a.parameters.effect)$.each(a.undo.targets,
function(c){$("#"+c+"_wrapper",b.pageContainer).effect(a.parameters.effect,{duration:0,to:{width:this.width,height:this.height}})});else if(a.reverseAction)if($.isArray(a.reverseAction))$.each(a.reverseAction,function(a){c[this.type](this,b)});else c[a.reverseAction.type](a.reverseAction,b);"swapContent"==a.type&&a.originalContent&&(k=$("#content_"+a.targetElements[0],b.pageContainer),a.target_assets?(k.attr("src",a.originalContent),k.attr("data-src",a.originalContent),k.maskImage({preserveAspectRatio:settings.responsive?
!1:"none"})):a.parameters.swapClass?(k=element.find(".panel"),cls=k.attr("class").match(/panel\-([^\s])+/),k.removeClass(cls[0]).addClass(a.originalContent)):k.html(a.originalContent));a.firedOnce=!1},listEffect:function(a,b,c){},listShowNext:function(a,b){var c=$("#content_"+a.targetElements[0]);b.getClaroElementById(a.targetElements[0]);var c=c.find("li:not(.shown)").first(),k=a.parameters;if(""==k.effect||"none"==k.effect)c.addClass("shown"),k.effectOptions.duration=600;else{var l=k.effectOptions.direction?
DKI.capitalizeString(k.effectOptions.direction):"";directions={Right:["Right","Left"],Left:["Left","Right"],Up:["Up","Down"],Down:["Down","Up"]};k.alternate&&l&&(l=directions[l][c.index()%2]);var l="transition."+k.effect+l+"In",m={duration:k.effectOptions.duration,display:null};c.addClass("shown").velocity(l,m)}k.animateAll&&c[0]&&setTimeout(function(){p.actionHandlers.listShowNext(a,b)},.75*k.effectOptions.duration)},listReset:function(a,b){$("#"+a.targetElements[0]+"_wrapper").find("ul li.shown").removeClass("shown").velocity("stop")},
capture:function(a,b){$.each(a.targetElements,function(c,k){if("switch"==a.parameters.method){if(c=b.getClaroElementById(k)){c.parameters.config.type=a.parameters.switch;var l=DKI.renderService.renderContent(c,{page:b.page});""!=l&&(k=$("#"+k+"_wrapper",b.pageContainer),k.capture("destroy"),k.data("cap",""),k.find(".dki-element-content").replaceWith(l),b.processElement(c),k.capture("setWaypoints"),b.resize())}}else $("#"+k+"_wrapper").capture(a.parameters.method)})},getTargetSelector:function(a,b,
c){void 0==b&&(b="");void 0==c&&(c="");var k="";if(a.targetElements)for(var l=0;l<a.targetElements.length;l++)k+="#"+a.targetElements[l]+"_wrapper"+b+",";if(a.targetGroups)for(l=0;l<a.targetGroups.length;l++)k="applyEffect"==a.type?k+("#group_"+a.targetGroups[l]+c+b+","):k+("#group_"+a.targetGroups[l]+c+",");""!==k&&(k=k.substring(0,k.length-1));return k},getTargetsToHide:function(a,b){var c={targetElements:[],targetGroups:[]};if(a.parameters&&a.parameters.hideOthers){for(var k=0;k<b.actions.length;k++)if(("show"===
b.actions[k].type||"toggle"===b.actions[k].type)&&b.actions[k].id!==a.id&&!b.actions[k].pageId){for(var l=0;l<b.actions[k].targetElements.length;l++)if(1!=$("#"+b.actions[k].targetElements[l]+"_wrapper").data("donthide")){for(var m=!1,r=0;r<a.targetElements.length;r++)a.targetElements[r]==b.actions[k].targetElements[l]&&(m=!0);!m&&$("#"+b.actions[k].targetElements[l]+"_wrapper",b.pageContainer).is(":visible")&&c.targetElements.push(b.actions[k].targetElements[l])}for(l=0;l<b.actions[k].targetGroups.length;l++){m=
!1;for(r=0;r<a.targetGroups.length;r++)a.targetGroups[r]==b.actions[k].targetGroups[l]&&(m=!0);!m&&$("#group_"+b.actions[k].targetGroups[l],b.pageContainer).is(":visible")&&c.targetGroups.push(b.actions[k].targetGroups[l])}}$(".dki-imagemap-target",b.pageContainer).each(function(){if(1!=$(this).data("donthide")){for(var b=!1,k=0;k<a.targetElements.length;k++)a.targetElements[k]==$(this).data("id")&&(b=!0);!b&&$(this).is(":visible")&&c.targetElements.push($(this).data("id"))}})}return c},swapContent:function(a,
b){var c=this,k=0;"time"!=a.trigger&&(k=a.time);var l=function(){c.performSwap(a,b)};0==k?l():b.pageTimeouts.push(setTimeout(l,k))},performSwap:function(a,b){var c=$("#content_"+a.targetElements[0]),k=function(){var b=0;a.target_assets&&!a.parameters.swapContent?b=1:a.parameters.swapClass&&(b=2);switch(b){case 0:b=a.parameters.swapContent;b=$("\x3cdiv\x3e").html(b);b.find(".dki-inline-variable").each(function(){var a=$(this);a.text(contentApi.getData(a.data("variable-id")))});b=b.html();a.originalContent||
(a.originalContent=c.html());c.html(b);c.attr("data-meta",b);break;case 1:b=a.target_assets[0].fullAssetUrl?a.target_assets[0].fullAssetUrl:settings.assetURL+a.target_assets[0].filename;a.originalContent||(a.originalContent=c.attr("src"));c.attr("src",b);c.attr("data-src",b);c.maskImage({preserveAspectRatio:settings.responsive?!1:"none"});break;case 2:var k=c.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype"),b=a.parameters.swapClass;switch(k){case "panel":panel=
c.find(".panel");cls=panel.attr("class").match(/panel\-([^\s])+/);panel.removeClass(cls[0]).addClass(b);break;case "speechBubble":var l=c.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),k=c.attr("class").match(/(triangle|thought)(\s|$)/),l=l[0]?[l[0].trim()]:[];k[0]?l.push(k[0].trim()):!1;c.removeClass(l.join(" ")).addClass(b)}}};a.parameters.effect&&""!=a.parameters.effect?("drop"==a.parameters.effect&&(a.parameters.effectOptions.direction="down"),
c.hide(a.parameters.effect,a.parameters.effectOptions,function(){k();c.show(a.parameters.effect,a.parameters.effectOptions)})):k()}}},m={init:function(a){},loadShapes:function(a){var b=this;$(".dki-shape-element",a.pageContainer).each(function(){var c=this.style.display;$(this).css({opacity:0,display:"block"});b.renderShapes(this,a);$(this).css({opacity:$(this).data("opacity"),display:c})})},loadHtmlShapes:function(a){$(".dki-shape-element",a.pageContainer).each(this.renderShapeHtml)},renderShapeHtml:function(){var a=
$(this),b=a.data("shapetype");if("rect"==b||"hline"==b||"vline"==b||"circle"==b||"ellipse"==b){var c=a.data("id"),k="";""!=a.data("title")&&(k="title\x3d'"+a.data("title")+"'");var l="solid";"."==a.data("bordertype")?l="dotted":"-"==a.data("bordertype")&&(l="dashed");var m="";if("rect"==b){var b=a.data("width")-2*parseInt(a.data("linethickness")),r=a.data("height")-2*parseInt(a.data("linethickness")),m=m+("width:"+b+"px;")+("height:"+r+"px;")+("border:"+a.data("linethickness")+"px "+l+" "+a.data("linecolour")+
";"),m=m+("background-color:"+a.data("fillcolour")+";");1==a.data("roundedcorners")&&(m+="-moz-border-radius: 15px; -webkit-border-radius: 15px;\tborder-radius: 15px;")}else if("hline"==b)m+="height:"+a.data("linethickness")+"px;",m+="width:"+a.data("width")+"px;",m+="border-top:"+a.data("linethickness")+"px "+l+" "+a.data("linecolour")+";";else if("vline"==b)m+="width:"+a.data("linethickness")+"px;",m+="height:"+a.data("height")+"px;",m+="border-left:"+a.data("linethickness")+"px "+l+" "+a.data("linecolour")+
";";else if("circle"==b||"ellipse"==b)b=a.data("width")-2*parseInt(a.data("linethickness")),r=a.data("height")-2*parseInt(a.data("linethickness")),m=m+("width:"+b+"px;")+("height:"+r+"px;")+("background-color:"+a.data("fillcolour")+";"),m+="border:"+a.data("linethickness")+"px "+l+" "+a.data("linecolour")+";",l=a.data("width")>a.data("height")?parseInt(a.data("width"))/2+"px":parseInt(a.data("height"))/2+"px",m+="-moz-border-radius: "+l+"; -webkit-border-radius:"+l+";border-radius: "+l+";";b=l="";
1==a.data("rollover")&&(l=l+" onmouseover\x3d'"+('this.style.backgroundColor \x3d "'+a.data("rollovercolour")+'";'),l+='this.style.borderColor \x3d "'+a.data("strokerollover")+'";',l+="' ",b=b+" onmouseout\x3d'"+('this.style.backgroundColor \x3d "'+a.data("fillcolour")+'";'),b+='this.style.borderColor \x3d "'+a.data("linecolour")+'";',b+="' ");$("#"+c+"_content_wrapper").append("\x3cdiv class\x3d'dki-element-overlay'\x3e\x3c/div\x3e\x3cdiv "+k+" id\x3d'content_"+c+"' class\x3d'"+a.data("cssclass")+
"' style\x3d'"+m+"' "+l+b+"\x3e\x3c/div\x3e")}},renderShapes:function(a,b){$(a).data("sourceHtml")?$(a).html($(a).data("sourceHtml")):$(a).data("sourceHtml",$(a).html());var c="null"===a.getAttribute("data-fillcolour")?null:a.getAttribute("data-fillcolour"),k="null"===a.getAttribute("data-fillgradient")?null:a.getAttribute("data-fillgradient"),l,m,r=1,p=1,q=a.getAttribute("data-lineColour");m=null==a.getAttribute("data-rollovercolour")||"none"==a.getAttribute("data-rollovercolour")?a.getAttribute("data-fillcolour"):
a.getAttribute("data-rollovercolour");var w=null==a.getAttribute("data-rollovergradient")||"null"==a.getAttribute("data-rollovergradient")?a.getAttribute("data-fillgradient"):a.getAttribute("data-rollovergradient"),B=null==a.getAttribute("data-strokerollover")||"none"==a.getAttribute("data-strokerollover")?a.getAttribute("data-linecolour"):a.getAttribute("data-strokerollover"),E={},D=a.getAttribute("data-linethickness"),F=parseInt(a.getAttribute("data-width"))-D,H=parseInt(a.getAttribute("data-height"))-
D,G=a.getAttribute("data-shapeType").split(":");b=$("#content_"+a.getAttribute("data-id"),b.pageContainer)[0];b=Raphael(b,0,0,"100%","100%");b.canvas.style.height=a.getAttribute("data-height")+"px";b.canvas.style.width=a.getAttribute("data-width")+"px";b.canvas.style.filter="inherit";b.canvas.style.display="block";b.width=a.getAttribute("data-height");b.height=a.getAttribute("data-width");b.canvas.id="content_"+a.getAttribute("data-id");if("transparent"===k||null===c)k=c,r=0;"1"==a.getAttribute("data-filltype")?
c=a.getAttribute("data-colourAngle")+"-"+a.getAttribute("data-fillcolour")+"-"+k+":"+a.getAttribute("data-stopPoint"):"2"==a.getAttribute("data-filltype")&&(c="r("+a.getAttribute("data-radialx")+","+a.getAttribute("data-radialy")+")"+a.getAttribute("data-fillcolour")+":"+a.getAttribute("data-stopPoint")+"-"+k);c="transparent"==c?"":c;if("transparent"===w||null===m)w=m,p=0;"0"==a.getAttribute("data-filltype")?l=m:"1"==a.getAttribute("data-filltype")?l=a.getAttribute("data-colourAngle")+"-"+m+":"+a.getAttribute("data-stopPoint")+
"-"+w:"2"==a.getAttribute("data-filltype")&&(l="r("+a.getAttribute("data-radialx")+","+a.getAttribute("data-radialy")+")"+m+":"+a.getAttribute("data-stopPoint")+"-"+w);l="transparent"==l?"":l;q="transparent"==a.getAttribute("data-lineColour")?"":a.getAttribute("data-lineColour");k={fill:c,stroke:q,"stroke-width":D,"stroke-dasharray":a.getAttribute("data-borderType"),"fill-opacity":r};dkiUA.ie&&8>=dkiUA.ieVersion&&(k.opacity=a.getAttribute("data-opacity")/100);switch(G[0]){case "rect":k.r="true"==
a.getAttribute("data-roundedCorners")?15:0;E=b.rect(D/2,D/2,F,H);break;case "circle":E=b.circle(H/2+D/2,H/2+D/2,H/2);break;case "ellipse":E=b.ellipse(F/2+D/2,H/2+D/2,F/2,H/2);break;case "vline":F=parseInt(D);E=b.path("M"+F/2+",0 L"+F/2+","+(H+F));break;case "hline":H=parseInt(D),E=b.path("M0,"+H/2+" L"+(F+H)+","+H/2)}E.attr(k);E.node.style.filter="inherit";"true"==a.getAttribute("data-rollover")&&($(a).mouseover(function(a){E.attr({fill:l,stroke:B,"fill-opacity":p})}),$(a).mouseout(function(a){E.attr({fill:c,
stroke:q,"fill-opacity":r})}))},canRenderShapes:function(){return dkiUA.android?2.3<dkiUA.androidVersion:dkiUA.blackberry?6<dkiUA.blackberryVersion:dkiUA.webOS?!1:!0}},q=function(b){var c=this;this.mediaPlayers={};this.autoPlayMedia=[];this.wayPoints=[];this.actions=b.actions;this.page=b.page;this.rootURL=b.player.rootURL;this.settings=b.player.settings;this.readyMediaCount=this.mediaCount=0;this.readyFired=!1;this.objectTags=[];this.started=!1;this.startTime=0;this.isMuted=!b.player.audio;this.queue=
new DKI.func.Queue;this.elements={};this.getClaroElementById=function(a){for(var b=function(a,c){if(a.elements)for(var h=0;h<a.elements.length;h++){if(a.elements[h].id==c)return a.elements[h];if(a.elements[h].elements&&(ret=b(a.elements[h],c)))return ret}return null},h=0;h<c.page.groups.length;h++)if(ret=b(c.page.groups[h],a))return ret};this.getGroupById=function(a){for(var b=0;b<c.page.groups.length;b++)if(c.page.groups[b].id==a)return c.page.groups[b]};this.pageContainer="string"==typeof b.containerEl?
document.getElementById(b.containerEl):b.containerEl;this.renderPage();a||(a=b.contentAPI);k.handleMedia(this);m.init(this);this.actionAPI=p.init(DKI.clone(b.actions),this,this.settings.clickEvent);this.processElement=function(b,c){var h=this,k=$("#"+b.id+"_wrapper",h.pageContainer),l=k[0],n=k.find(".dki-authoring-content-wrapper").first(),m=$("#content_"+k.data("id"),l),p=k.find(".dki-element-anchor:first"),t=p.data("tabindex"),q=k.find("i.dki-element-content");c=c||function(){};var x=function(a,
b,h){a.data("start_class",a.attr("class"));a.data("start_style",a.attr("style"));a.data("elementLoaded",!0);a.trigger("elementLoaded");b.data("start_class",b.attr("class"));b.data("start_style",b.attr("style"));h.data("start_class",h.attr("class"));h.data("start_style",h.attr("style"));"inlineQuestion"==a.data("type")&&h.find(".dki-element-content").each(function(){$(this).data("start_class",$(this).attr("class"))});c(a)};k.data("elementLoaded",!1);$("iframe",l).each(function(){$(l).attr("data-src")||
$(l).attr("data-src",l.src);l.src="about:blank"});var y=function(a){var b=$(a).closest(".dki-authoring-row.synchronize-heights"),c=$(a).closest(".dki-contentCarousel-element"),h=$(a).find(".dki-tabset-element .dki-element-content \x3e .tabbable");if(0!=b.length||0!=c.length||0!=h.length)var k=0,l=setInterval(function(){k++;try{synchonizeRowHeight(b),c.each(function(){var a=$(this).find(".flickity");a&&a.flickity("resize")}),h.each(function(){$(this).data("dki.responsiveTabs").checkResize()})}catch(a){}24<=
k&&clearInterval(l)},15)};k.data("accessibility-tabable")&&($("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content",l).each(function(){this.tabIndex=-1}),k.hasClass("dki-table-element")||k.hasClass("dki-htm-element"))&&(m.attr("tabindex",-1),$("table, a, .dki-glossary-link, .dki-citation-link sup.refSup",m).attr("tabindex",-1));if("html"==k.data("type")&&m.hasClass("adaptive")){var z=
function(){try{var a=m[0].contentDocument,b=$(a.getElementsByTagName("html")),c=$(a.getElementsByTagName("body")),h=c.height()/c.width()*100,k=b.height()/b.width()*100;n.css("padding-bottom",(h>k?h:k)+"%")}catch(l){}};m.on("load",function(){"about:blank"==this.src?k.data("resizeInterval")&&(clearInterval(k.data("resizeInterval")),k.data("resizeInterval",null)):k.data("resizeInterval",setInterval(z,100))})}"table"==k.data("type")&&b.parameters.config.sort.enabled&&requirejs(["tablesort"],function(){k.find("table").tablesorter()});
if("inlineQuestion"==k.data("type")){k.data("score",0);k.data("attempts",0);var O=b.parameters;k.on(settings.clickEvent,".btn.retake",k,function(){$(this).hide();$(this).siblings(".submit").show();k.find(".dki-inlineQuestionOption-element .dki-element-content").removeClass("multiChoiceCorrectResponse correct incorrect").find("input").prop("checked",!1).prop("disabled",!1);k.find(".dki-inlineQuestionOption-element input").first()[0].focus();k.trigger("inlineQuestion_tryAgain");return!1});k.on("change",
"input",function(){k.find(".input-group").removeClass("checked");$(".input-group input:checked",k).each(function(){$(this).closest(".input-group").addClass("checked")})});k.on(settings.clickEvent,".btn.submit",k,function(){if(k.data("attempts")<O.config.attempts&&!$(this).hasClass("disabled")){var a=k.find("input"),c=[],h=[],l=[],n=[],m=0,p=k.data("attempts")<O.config.attempts-1;$.each(a,function(a,k){k=b.elements[$(this).data("idx")].parameters.config.correct;m+=k?1:0;k&&$(this).checked()?c.push(this):
!1;!k&&$(this).checked()?h.push(this):!1;var p=$(this).closest(".dki-element-content");k&&l.push({short:p.find("span.numbering").html().replace(")","")?p.find("span.numbering").html().replace(")",""):(a+1).toString(),long:p.find("label .dki-element-text").html()});$(this).checked()&&n.push({short:p.find("span.numbering").html().replace(")","")?p.find("span.numbering").html().replace(")",""):(a+1).toString(),long:p.find("label .dki-element-text").html()})});if(k.find("input:checked").length>O.config.maxSelections)return alert(playerStrings.tstchoicesLabel1+
" "+O.config.maxSelections+" "+playerStrings.tstchoicesLabel2),!1;k.data("attempts",k.data("attempts")+1);var t=h.length>c.length?0:(c.length-h.length)/m*100,q=$(this);setClasses=function(){k.find("input").prop("disabled",!0);0<p&&100!=t?(q.hide(),q.siblings("retake").show()):(q.addClass("disabled").show(),q.siblings(".retake").hide())};O.config.enableFeedback&&(setClasses=function(){k.find("input").prop("disabled",!0);var a=0==p?$(c):$(c).filter(":checked"),l=0==p?$(h):$(h).filter(":checked");0<
p&&100!=t?(q.hide(),q.siblings(".retake").show()[0].focus()):(q.addClass("disabled").show(),q.siblings(".retake").hide());a.each(function(){$(this).closest(".dki-element-content").addClass("correct multiChoiceCorrectResponse")});l.each(function(){var a="incorrect";b.elements[$(this).data("idx")].parameters.config.correct&&!$(this).checked()&&(a="multiChoiceCorrectResponse");$(this).closest(".dki-element-content").addClass(a)})});a={correct:l,score:t,selected:n};k.trigger("inlineQuestion_submitted",
["ATTEMPT",a]);p&&100!=t||k.trigger("inlineQuestion_submitted",["SUBMITTED",a]);100==t?k.trigger("inlineQuestion_submitted",["CORRECT",a]):0!=t?p?k.trigger("inlineQuestion_submitted",["ATTEMPT_PARTIALLY_CORRECT",a]):k.trigger("inlineQuestion_submitted",["PARTIALLY_CORRECT",a]):p?k.trigger("inlineQuestion_submitted",["ATTEMPT_INCORRECT",a]):k.trigger("inlineQuestion_submitted",["INCORRECT",a]);setClasses();O.config.variable_name&&contentApi.setData(O.config.variable_name,t)}return!1});k.on("inlineQuestion_submitted",
function(a,b,c){$(document).trigger(DKI.ContentPage.events.inlineQuestionSubmitted,{element:h.getClaroElementById($(this).data("id")),status:b,result:c});h.actionAPI.onElementQuestionSubmittedEvent.call(h.actionAPI,this,"INLINE_QUESTION_"+b,h)});k.on("inlineQuestion_tryAgain",function(){var a=this;["ATTEMPT","ATTEMPT_PARTIALLY_CORRECT","ATTEMPT_INCORRECT"].forEach(function(b){h.actionAPI.undoElementQuestionSubmittedActions.call(h.actionAPI,a,"INLINE_QUESTION_"+b,h)})});k.on(settings.clickEvent,".dki-inlineQuestionOption-element .input-group-addon",
function(a){if(a.target==this)return $(this).find("input").trigger(settings.clickEvent),a.stopPropagation(),!1});$("input",k).on("focus",function(a){$(this).closest(".input-group-addon").addClass("focus-within")});$("input",k).on("blur",function(a){$(".input-group-addon.focus-within").removeClass("focus-within")})}if("tabset"==k.data("type")){var J=b.elements.length;"accordion"===b.parameters.config.orientation&&(b.parameters.config.collapseDisplayed=["lg","md","sm","xs"]);k.find("#content_"+k.data("id")+
".dki-element-content \x3e .tabbable").ResponsiveTabs(b.parameters.config).on("shown.bs.tab",function(a){if(a.target){var b=$($(a.target).attr("href")).find(".dki-authoring-element-element:not(.dki-placeholder-element)").first();(a=b[0]?b.find("*[tabindex\x3d'1']").first()[0]:$(a.target).find("*[tabindex\x3d'1']").first()[0])&&$("body").hasClass("show-focus-outlines")&&a.focus()}});k.on("click","ul.nav \x3e li.active \x3e a",function(){$(this).trigger("shown.bs.tab")});k.find("#content_"+k.data("id")+
".dki-element-content \x3e .tabbable").on("shown.bs.tab",function(){$(this).find("\x3e .tab-content \x3e .tab-pane img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$.each(h.getClaroElementById($(this).find("\x3e ul \x3e li.active").data("id")).elements,function(){h.setLabelWrapperPosition($("#"+this.id+"_wrapper"));h.scaleElementChildren(this)})});k.data("tabCount",J);k.data("tabsVisited",[]);0<J&&(J=k.find(".tabbable li\x3ea[data-id\x3d'"+b.elements[0].id+
"']").data("automaticSet",!0),k.data("currentTab",b.elements[0].id),h.actionAPI.onContentChangedEvent.call(h.actionAPI,J,h));var Y=k.find(".nav").height();settings.responsive?$(".tab-pane[data-for\x3d"+k.data("id")+"]",k).each(function(){var a=$(this).css("width","100%");a.height()>Y&&(Y=a.height());$(this).css("width","")}):"horizontal"!=b.parameters.config.orientation&&"horizontal-bottom"!=b.parameters.config.orientation||k.find("#content_"+k.data("id")+" \x3e.tabbable \x3e .tab-content").css("height",
b.height-Y+"px");k.find(".tab-content[data-for\x3d"+k.data("id")+"]").css("min-height",Y);b.parameters.config.sequential&&(J="[data-idx\x3d'0']",b.parameters.config.startUnopened||(J+=",[data-idx\x3d'1']"),k.find("a[data-for\x3d"+k.data("id")+"]:not("+J+")").each(function(){$(this).attr("data-toggle","");$(this).hasClass("accordion-toggle")?$(this).closest(".panel-heading").addClass("disabled"):$(this).addClass("disabled")}));k.on("shown.bs.tab",function(a){$(this).find($(a.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).attr("src",
$(this).data("src"))})});k.on("hide.bs.tab",function(a){$(this).find($(a.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).data("src",$(this).attr("src"));$(this).attr("src","")})});k.delegate(".panel-collapse","hide.bs.collapse",function(a){$(this).closest(".panel").removeClass("expanded");$(this).find("iframe").each(function(){$(this).data("src",$(this).attr("src"));$(this).attr("src","")});y(this);a.stopPropagation()});k.delegate(".panel-collapse","show.bs.collapse",function(a){$(this).closest(".panel").addClass("expanded");
$(this).find("iframe").each(function(){$(this).attr("src",$(this).data("src"))});y(this);setTimeout(function(){h.reCalculateMediaControls()},360);a.stopPropagation()})}else if("image"==k.data("type")){m.data("assetwidth");k.data("original_src",m.data("src"));""!=b.parameters.config.caption.text&&(J={mode:b.parameters.config.caption.mode},settings.responsive&&(J.is_responsive=!0),m.data("caption",b.parameters.config.caption.text),m.captionjs(J),k.find("figure").css("width","100%").css("height","100%"));
var V=function(){var a=b.parameters.config.filters,c=m.data("assetwidth"),k=m.data("src"),l="",n={};if(0!=a.brightness||0!=a.contrast){var p={};0!=a.brightness&&(p.brightness=a.brightness);0!=a.contrast&&(p.contrast=a.contrast);l="brightness";n=p}0!=a.grayscale&&(l="desaturate",n={average:!0});0!=a.invert&&(l="invert");if(0!=a.saturation||0!=a.hueRotate||0!=a.lightness)p={},0!=a.saturation&&(p.saturation=a.saturation),0!=a.hueRotate&&(p.hue=a.hueRotate),0!=a.lightness&&(p.lightness=a.lightness),l=
"hsl",n=p;0!=a.sepia&&(l="sepia");0!=a.blur&&(l="sepia",n={amount:a.blur});a.flipH&&(l="fliph");a.flipV&&(l="flipv");0!=a.sharpness&&(l="sharpen",n={amount:a.sharpness});0!=a.mosaic&&(l="mosaic",n={blockSize:a.mosaic});a.solarize&&(l="solarize");0!=a.posterize&&(l="posterize",n={levels:a.posterize});if(0!=a.glow.amount||0!=a.glow.radius)l="glow",n=a.glow;if(0!=a.noise.amount||0!=a.noise.strength||a.noise.mono)l="noise",n=a.noise;m.data("mask",b.parameters.config.svg_mask);m.data("assetWidth",c);m.data("src",
k);l&&requirejs(["pixastic"],function(){m=$(Pixastic.process(m[0],l,n))});m.is("img")||h.queue.dequeue({name:"loadFinished",id:m.attr("id")})};m.on("load",function(){V();h.scaleElementChildren(b)});m[0].complete&&V();J=k.find("map");J.length&&J.find("area").each(function(){$(this).data("coords",this.coords)});""!=b.parameters.config.svg_mask.type&&(m.addClass("masked"),m.data("mask",b.parameters.config.svg_mask))}else if("panel"==k.data("type"))k.on("show.bs.collapse",function(a){m.find("\x3e.panel").addClass("expanded");
y(this);setTimeout(function(){h.reCalculateMediaControls()},360);a.stopPropagation()}),k.on("hide.bs.collapse",function(a){m.find("\x3e.panel").removeClass("expanded");y(this);a.stopPropagation()}),settings.responsive||n.find(".panel-body").css({height:n.height()-(n.find(".panel \x3e.panel-heading").first().outerHeight()+n.find(".panel \x3e.panel-footer").first().outerHeight()+2)});else{if("contentCarousel"==k.data("type"))return requireFns.getFlickity(function(){var a=DKI.clone(b.parameters.config),
c=a.responsive.cfg;c&&($.each(c,function(a){c[settings.flowBreakpoints[a].from]=this;delete c[a]}),a.responsive=c);a=DKI.apply(a,b.parameters.config.navigation.cfg);flickConfig={prevNextButtons:a.navigation&&"none"!=a.navigation.type,cellAlign:a.center?"center":"left",adaptiveHeight:!1,pageDots:a.dots,wrapAround:a.loop,autoPlay:a.autoplay,setGallerySize:settings.responsive||b.parent_element_id};$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0);flickConfig.autoPlay&&(k.find(".flickity").addClass("flickity_autoPlay"),
flickConfig.autoPlay=!1);k.find(".flickity").flickity(flickConfig).attr("tabindex","-1");$(k.find(".flickity").data("flickity").selectedCell.element).attr("data-viewed",!0);k.find(".flickity").on("select.flickity",function(a){$(this).find(" \x3e ol .dot.is-selected").attr("data-visited",!0);k.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",!1);h.actionAPI.onContentChangedEvent.call(h.actionAPI,$(this).data("flickity").selectedCell.element,
h);$($(this).data("flickity").selectedCell.element).find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",!0)});k.find(".flickity-slider \x3e .dki-panel-element").each(function(a){$(this).data("flickity-index",a)});k.find(".flickity-slider \x3e .dki-panel-element").on("keydown",function(b){if(9==b.keyCode){var c=$(this).data("flickity-index");b.shiftKey?c--:c++;k.find(".flickity").flickity("select",c,a.loop,!0)}});k.find(".flickity").on("dragStart.flickity",function(a){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});
k.find(".flickity").on("dragEnd.flickity",function(a){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});k.find(".flickity *[tabindex]").attr("tabindex","-1").data("tabindex","-1");k.find(".flickity .dki-authoring-element, .flickity .dki-authoring-element-element").data("accessibility-tabable",!1);k.find(".flickity .dki-panel-element .dki-authoring-element .dki-element-content, .flickity .dki-panel-element .dki-authoring-element-element .dki-element-content, .flickity .dki-authoring-element-element .dki-element-anchor").data("tabindex",
"-1").attr({tabindex:"-1",focusable:!1});k.find(".flickity-prev-next-button").attr("tabindex","-1").removeAttr("aria-label");k.find(".flickity-prev-next-button svg").attr({tabindex:"-1",focusable:!1});k.find(".flickity-viewport").attr({role:"table"});k.find(".flickity-slider").attr({role:"row"});k.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr({tabindex:"1","accessibility-tabable":!0,"aria-role":"cell"});k.find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-busy",
!1);x(k,n,m)}),!1;if("flipCard"==k.data("type")){var S=b.parameters.config,J=!1;k.hasClass("hiddenOnLoad")&&(J=!0,k.removeClass("hiddenOnLoad"));k.find(".flip").flip({trigger:k.data("fliptrigger")||"click"});J&&k.addClass("hiddenOnLoad");k.find(".front.face").attr("data-viewed",!0);k.find(".flip").on("flip:done",function(a){a=$(this).find(".face:not(.active)");$(this).find(".face.active").find(".dki-video-element, .dki-audio-element").each(function(){var a=h.mediaPlayers["content_"+$(this).data("id")];
a&&a.jPlayer("pause")});$(this).find(".face").removeClass("active");a.addClass("active");h.actionAPI.onContentChangedEvent.call(h.actionAPI,k,h)})}else if("flipCardSet"==k.data("type"))k.find(".flip").flip({trigger:b.parameters.config.trigger}),k.find(".flip").on("flip:done",function(a){a=$(this).find(".face:not(.seen)");a.addClass("seen");a=$(this).find(".face:not(.active)");$(this).find(".face").removeClass("active");a.addClass("active");h.actionAPI.onContentChangedEvent.call(h.actionAPI,k,h)});
else{if("flashCardSet"==k.data("type"))return requireFns.getFlickity(function(){var a={cellAlign:"center",adaptiveHeight:!1,imagesLoaded:!0,pageDots:b.parameters.config.showDots,prevNextButtons:b.parameters.config.prevNextButtons},c=m.find(".flickity-carousel");c.flickity(a).attr("tabindex",-1);c.find(".flickity-prev-next-button").attr("tabindex",-1).attr("aria-hidden",!0);var l=c.data("flickity");c.data("resize",function(){l.slides.forEach(function(a){$(a.cells[0].element).find(".card").css("height",
"auto")});var a=Math.max.apply(Math,l.slides.map(function(a){return $(a.cells[0].element).height()}));l.slides.forEach(function(b){$(b.cells[0].element).find(".card").css("height",a)});c.flickity("resize")});c.on("select.flickity",function(a){a=l.selectedCell.element;$(this).find(".flashCardCont[tabindex\x3d'1']").attr("tabindex",-1).find("*[tabindex]").attr("tabindex",-1);$(a).attr("tabindex","1").find("*[tabindex]").attr("tabindex","1")});c.on("settle.flickity",function(){var a=l.selectedCell.element;
a&&a.focus()});c.on("dragStart.flickity",function(a){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});c.on("dragEnd.flickity",function(a){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});c.on("keydown",function(a){if(37==a.which||39==a.which)return $(this).flickity(37==a.which?"previous":"next"),!1});k.data("reset",$.proxy(function(){this.find(".flashCardCont").attr("data-visited",!1).attr("data-viewed",!1);this.find(".dki-element-content").removeClass("finalScore").find(".flickity-carousel").flickity("select",
0,!1,!0);this.find(".flickity-carousel").off("select.flickity.one");this.find(".flickity-page-dots .dot").attr("data-visited","false");this.find(".card").each(function(){$(this).removeClass("correct incorrect").attr("data-answered",!1).find(".imgOverlay .fa").removeClass("fa-times fa-check");$(this).find(".resultText").html("");$(this).find(".btn").removeClass("disabled next").html("Submit");$(this).find("input").val("").attr("readonly",!1);$(this).data("score",null)})},k));c.find(".card").each(function(a,
n){var p=function(a){return(b.parameters.config.caseSensitive?a:a.toLowerCase()).split("/,")},t=function(a,c){a=b.parameters.config.caseSensitive?a:a.toLowerCase();return{correct:-1<$.inArray(a,c),answers:c}},q=b.elements[a],x=this;$(this).on(settings.clickEvent,".btn",function(){var a=this,n=function(){$(a).addClass("disabled").removeClass("next").html(DKI.strings.runtime.buttonLabelSubmit)};if(!$(a).hasClass("disabled")){if($(a).hasClass("next"))c.flickity("next");else{var y=$(a).siblings("input").first().val().trim(),
z=t(y,p(q.txt));$(x).attr("data-answered",!0);c.find(".flickity-page-dots .is-selected").attr("data-visited","true");h.actionAPI.onContentChangedEvent.call(h.actionAPI,k,h);b.parameters.config.showCardFeedback&&($(x).find(".resultText").html(z.answers.join(", ")),$(x).removeClass("correct incorrect").addClass(z.correct?"correct":"incorrect").find(".imgOverlay .fa").removeClass("fa-times fa-check").addClass("fa-"+(z.correct?"check":"times")));$(x).data("score",z);$(x).attr("data-givenAnswer",y);$(x).find(".resultText").html(z.answers.join(", "));
$(a).addClass("next").html(DKI.strings.index.nextButtonLabel);$(a).siblings("input").attr("readonly",!0);c.one("select.flickity.one",n);$(document).trigger(DKI.ContentPage.events.flashCardSubmitted,{outline:q,score:z.correct?1:0,response:b.parameters.config.caseSensitive?y:y.toLowerCase(),correctResponse:p(q.txt)})}l.cells.length-1==l.selectedIndex&&(c.off("select.flickity.one"),n());y=m.find(".card");if(0==y.filter(":not([data-answered\x3d'true'])").length&&b.parameters.config.showFinalFeedback){var z=
y.length,C=0,B="",E=Handlebars.compile("\x3cdiv class\x3d'cardScore {{#if correct}}correct{{else}}incorrect{{/if}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{el.title}}'class\x3d'cardInfo flex'\x3e\x3cdiv tabindex\x3d'1'class\x3d'fa fa-{{#if correct}}check{{else}}times{{/if}}' aria-label\x3d'{{#if correct}}{{pass}}{{else}}{{fail}}{{/if}}'\x3e\x3c/div\x3e\x3cdiv class\x3d'scoreItemImg' style\x3d\"background-image: url('{{getAssetUrl id\x3del.upload_id folderId\x3del.asset_uploadfolderid extension\x3del.asset_extension}}')\"\x3e\x3c/div\x3e\x3cdiv class\x3d'flex flexCol inline'\x3e\x3cdiv tabindex\x3d'1'\x3e{{{el.meta}}}\x3c/div\x3e{{#if givenAnswer}}\x3cdiv tabindex\x3d'1' class\x3d'answered'\x3e{{givenAnswer}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e{{#unless correct}}\x3cdiv tabindex\x3d'1'style\x3d'padding-left:38px'\x3e{{correctString}} {{correctAnswers}}\x3c/div\x3e{{/unless}}\x3c/div\x3e"),
n=Handlebars.compile("\x3cdiv class\x3d'flashCard_feedback'\x3e\x3cdiv class\x3d'feedback_container flex flexCol'\x3e\x3cdiv tabindex\x3d'1' class\x3d'feedback_header'\x3e\x3cdiv class\x3d'flex totalScore'\x3e\x3cdiv class\x3d'flashcard_score'\x3e{{score}}%\x3c/div\x3e\x3cdiv class\x3d'flaschard_description flexAuto'\x3e{{description}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'feedback_cards flexAuto'\x3e{{{cards}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");y.each(function(a,c){a=b.elements[a];
$(this).data("score").correct&&(C+=1);B+=E({correctAnswers:a.txt.split("/,").join(", "),el:a,correct:$(this).data("score").correct,givenAnswer:$(this).data("givenAnswer"),correctString:DKI.strings.doc["Correct choice label"],fail:DKI.strings.runtime.failText,pass:DKI.strings.runtime.passText})});C=Math.round(C/z*100);y="Feedback all correct";0==C?y="Feedback all incorrect":100!==C&&(y="Feedback partial");DKI.PopupPanel.show({modal:!0,style:"flash_card_feedback",title:q.title,html:n({outline:q,score:C,
cards:B,description:DKI.strings.doc[y]}),popupType:{type:"pop",mod:""},onHide:function(){var a=k.find(".flashCardCont.is-selected");a[0]&&a[0].focus()}});$(".popup.flash_card_feedback").addClass("finalScore")}}});$(this).find("input").on("keydown",function(a){13==a.which&&$(this).siblings(".btn").first().trigger("click");a.stopPropagation()})});c.data("resize")();x(k,n,m)}),!1;if("matchCardSet"==k.data("type")){k.on("match.reset",function(){k.data("flipState",{elFlipped:!1,flipTries:0,score:0,success:[]});
k.find(".flipSet").removeClass("locked").find(".flip.flipped").flip(!1).removeClass("flipped matched")});var Q=function(a,b,c){tpl=Handlebars.compile("{{#unless content}}\x3cdiv class\x3d'matchCard'\x3e\x3c/div\x3e{{else}}\x3cdiv tabindex\x3d'1'\x3e{{{content}}}\x3c/div\x3e{{/unless}}\x3cdiv class\x3d'match_description'\x3e{{{description}}}\x3c/div\x3e");m=b.find(".back\x3e *");isImage=m.hasClass("setImage");DKI.PopupPanel.show({modal:!0,style:"match_feedback",title:a.txt||"placeholder",html:tpl({description:a.meta||
"Placeholder",content:isImage?"":m.html()}),popupType:{type:"pop",mod:""},onHide:function(){var a=b.siblings(void 0==c.score?":not(.matched)":"").first();a[0]&&a.find(".face[tabindex\x3d1]")[0].focus()}});a=$(".popup.match_feedback");a.find(".matchCard").append(m.clone());a.find("h1")[0].focus()};k.on("match.resizeImmediate",function(){var a=$(this).find(".cardsContainer"),b=a.find(".flip"),c=a.parent().width(),h=b[0]?$(b[0]).outerWidth(!0):0;if(h){var k=b.toArray().reduce(function(a,k,l){return 0==
b.length%(l+1)&&h*(l+1)<c?l+1:a},1),l=1,n=1,m=[],r=[];b.each(function(a,b){l>k&&(m.push(r),r=[],l=1,n+=1);dkiUA.isIE()&&$(this).css({"-ms-grid-column":l.toString(),"-ms-grid-row":n.toString()});$(this).uniqueId();r.push($(this));l+=1});m.push(r);for(var p="",t=0;t<k;t++)p+="auto ";a.css({"grid-template-columns":p.trim(),"-ms-grid-columns":p.trim()});$(this).data("flipState").layout=m}});k.on("match.resize",DKI.func.debounce(function(){k.trigger("match.resizeImmediate")},50,!1));k.trigger("match.reset");
k.on("keyup",function(a){if(37==a.which||38==a.which||39==a.which||40==a.which){var b=k.find(".face:focus")[0]?k.find(".face:focus"):k.find(".flip.active, .flip.flipped").first().find(".face[tabindex\x3d'1']");if(b[0]){var c=k.data("flipState").layout;switch(a.which){case 37:var h="col",l=-1;break;case 39:h="col";l=1;break;case 38:h="row";l=-1;break;case 40:h="row",l=1}var n=function(a){T=[];if("col"==a)for(var b in c)T=T.concat(c[b]);else for(var h in c[0])for(var k=0;k<c.length;k++)T.push(c[k][h]);
k=0;return $(T).map(function(){this.data("index",k);k+=1;return this.toArray()})};a=function(a,b,c){var h;b=n(b);var k=c=c.data("index");do h=k+a,k=0>h?b.length-1:h==b.length?0:h,h=$(b[k]).hasClass("matched")||$(b[k]).hasClass("flipped")?!1:$(b[k]);while(k!=c&&!h);return h}(l,h,b.parent());a[0]&&a.find(".face[tabindex\x3d'1']")[0].focus()}else b[0].focus();return!1}});var T=k.find(".flip");T.on("click",function(a){var c=k.data("flipState");if($(this).hasClass("flipped")||$(this).parent().hasClass("locked"))return a.stopImmediatePropagation(),
!1;a=h.getClaroElementById($(this).data("id"));$(this).find(".face.back span")[a.elements[0].upload_id?"addClass":"removeClass"]("hidden");$(this).addClass("flipped");if(c.elFlipped){$(this).parent().addClass("locked");var l=k.find(".flipped[data-id\x3d'"+c.elFlipped+"']").add(this);c.flipTries+=1;if($(this).data("id")!=c.elFlipped)$(this).one("flip:done",function(){setTimeout($.proxy(function(){l.flip(!1).removeClass("flipped");$(this).parent().removeClass("locked");$(this).one("flip:done",function(){$(this).find(".front")[0].focus()})},
this),500)});else{c.success.push(c.elFlipped);$(this).one("flip:done",function(){l.addClass("matched");h.actionAPI.onContentChangedEvent.call(h.actionAPI,k,h)});$(this).parent().removeClass("locked");var n=null;$.each(b.elements,function(){if(this.id===c.elFlipped)return n=this,!1});n&&n.txt&&b.parameters.config.showFeedback&&Q(n,$(this),c)}c.success.length==b.elements.length&&(c.score=b.elements.length/c.flipTries*100);c.elFlipped=!1}else c.elFlipped=$(this).data("id")});T.flip({trigger:"click"}).on("flip:done",
function(){if(!k.data("fromFirstVisibleFlip")){var a=h.getClaroElementById($(this).data("id")),b=a.elements[0].upload_id?a.elements[0].asset_title:a.elements[0].meta,c=this,l=$(this).find(".face").attr({tabindex:"-1","aria-hidden":"true"}).filter($(this).hasClass("flipped")?".back":".front");l.attr({tabindex:"1","aria-hidden":"false"});l.hasClass("back")&&setTimeout(function(){$(c).find(".face.back span").html(b);l[0].focus()},10)}})}else if("tileCard"==k.data("type"))k.on(settings.clickEvent,function(){""!=
b.parameters.config.variable_name&&contentApi.setData(b.parameters.config.variable_name,!0)});else if("slider"==k.data("type")){S=DKI.clone(b.parameters.config.noUISlider);S.behaviour=b.parameters.config.snap?"tap":"none";""!=b.parameters.config.pipsJSON?S.pips=JSON.parse(b.parameters.config.pipsJSON):!1;var R=k.find(".slider")[0],K=k.find(".sliderLabel");S.pips&&(S.pips.filter=function(a,b){return 1!=b&&a%S.step?0:1});if(playerBehaviour.enableSwiping)k.on("pointerup pointerdown",function(a){a.stopPropagation()});
!player.isSinglePage&&dataStorage.getContentVariable(b.parameters.config.variable_name)&&(S.start=dataStorage.getContentVariable(b.parameters.config.variable_name));noUiSlider.create(R,S);S.disabled&&k.find(".slider")[0].setAttribute("disabled",!0);$(R).on("keyup",function(a){var c=parseFloat(this.noUiSlider.get()),h=b.parameters.config.noUISlider.step;switch(a.keyCode){case 39:c="ltr"==b.parameters.config.noUISlider.direction?c+h:c-h;break;case 37:c="ltr"==b.parameters.config.noUISlider.direction?
c-h:c+h;break;case 38:c+=h;break;case 40:c-=h;break;case 33:c+=10*h;break;case 34:c-=10*h}this.noUiSlider.set(c)});var Z=!0;R.noUiSlider.on("update",function(){var a=parseFloat(this.get());K.text(a);$(R).attr("aria-valuenow",a);Z?Z=!1:(contentApi.setData(b.parameters.config.variable_name,parseFloat(this.get())),h.actionAPI.onContentChangedEvent.call(h.actionAPI,k.find(".slider")[0],h))})}else if("toggle"==k.data("type")){var X=DKI.func.debounce(function(a,b){contentApi.setData(a,b)},500),aa=k.find('input[type\x3d"checkbox"]');
null==contentApi.getData(b.parameters.config.variable_name)?X(b.parameters.config.variable_name,aa.checked()):X(b.parameters.config.variable_name,contentApi.getData(b.parameters.config.variable_name));aa.on("change",function(){var a=$(this).checked();k.find("label").attr("aria-checked",a);X(b.parameters.config.variable_name,a);h.actionAPI.onContentChangedEvent.call(h.actionAPI,this,h)})}else if("selection"==k.data("type")){var X=DKI.func.debounce(function(a,b,c,h){h||contentApi.setData(a,c,!1,!1,
{text:b});setVariableText(a,b,player.contentPage.current);setVariableText(a+"_text",b,player.contentPage.current)},500),da=function(){var a=b.parameters.config.variable_name,c=a.split(",");if(1<c.length)for(var h=0;h<c.length;h++)if(-1==c[h].indexOf("_text")){a=c[h];break}return a},aa=k.find("select"),U=aa[0]?aa.checked():1,ha=aa[0]?aa.find("option:selected").text():k.find("ul.dropdown-menu li:first").text();null==contentApi.getData(da())&&X(da(),ha,U);$(document).on(DKI.ContentPage.events.started,
function(a,c){b.pageid==c.page.id&&(U=aa[0]?aa.checked():k.find(".dki-element-content").data("val"),ha=aa[0]?aa.find("option:selected").text():k.find("button .selectedCont").text(),X(da(),ha,U))});if(aa[0])aa.on("change",function(){var a=$(this).val(),b=$(this).find("option:selected").text();X(da(),b,a);h.actionAPI.onContentChangedEvent.call(h.actionAPI,this,h)});else{var J=k.find("button"),ia=null;if(1<J.length){var ga=k.data("id")+"_selectionBtn";J.filter(":not(.dropdown-toggle)").attr("id",ga);
ia=J.filter(".dropdown-toggle").attr("tabindex",t).attr("aria-labelledby",ga)}else ia=J.attr("tabindex",t);k.find(".dropdown-menu li\x3ea").attr("tabindex",t);k.find(".dropdown-menu li\x3ea").on("keyup",function(a){if(32==a.which||13==a.which)$(this).trigger("click"),a.preventDefault(),a.stopPropagation()});k.find(".dropdown-menu li\x3ea").on("click",function(a,b){a=$(this).data("val");var c=$(this).text();k.find("button .selectedCont").html($(this).html());k.find(".dki-element-content").data("val",
a);X(da(),c,a,b);h.actionAPI.onContentChangedEvent.call(h.actionAPI,this,h);ia.focus()});J=k.find(".dropdown-menu");ga=$(".pageElementsWrapper");k.offset().top+k.outerHeight()+J.outerHeight()>ga.innerHeight()&&J.parent().addClass("dropup");k.find(".dropdown-menu li\x3ea").each(function(){$(this).attr("aria-label",$(this).text()).attr("role","listItem")});J.attr("role","menu")}}else if("radioGroup"==k.data("type")){X=DKI.func.debounce(function(a,b,c,h){h||contentApi.setData(a,c,!1,!1,{text:b});setVariableText(a,
b,player.contentPage.current);setVariableText(a+"_text",b,player.contentPage.current)},500);da=function(){var a=b.parameters.config.variable_name,c=a.split(",");if(1<c.length)for(var h=0;h<c.length;h++)if(-1==c[h].indexOf("_text")){a=c[h];break}return a};if(b.parameters.config.sequential){var J=k.find("input:checked"),ka=J.nextAll("input").first();"bs"==b.parameters.config.type&&(ka=J.parent().next().find("input"));ga=k.find("input:not(:checked)").prop("disabled",!0);k.find("label:not([for\x3d'"+
J.attr("id")+"'])").addClass("disabled");ka.prop("disabled",!1);k.find("label[for\x3d'"+ka.attr("id")+"']").addClass("disabled");J[0]||(J=ga.first(),J.prop("disabled",!1),k.find("label[for\x3d'"+J.attr("id")+"']").removeClass("disabled"));k.find("input").on("change",function(){ka="bs"==b.parameters.config.type?$(this).parent().next().find("input"):$(this).nextAll("input").first();ka[0]&&(ka.prop("disabled",!1),k.find("label[for\x3d'"+ka.attr("id")+"']").removeClass("disabled"))})}k.find("input:checked").length&&
(U=k.find("input:checked").val(),J=k.find("input:checked").attr("id"),ha=k.find(".dki-element-content label[for\x3d"+J+"]").text(),J=da(),X(J,ha,U));k.find(".dki-element-content label").on("click",function(a,b){if(!$(this).hasClass("disabled")){a=$(this).text();var c=$(this).parent().find("\x3elabel").index(this)+1;$(this).closest(".dki-element-content").find("label").removeClass("active");$(this).addClass("active");var l=da();X(l,a,c,b);h.actionAPI.onContentChangedEvent.call(h.actionAPI,k,h)}});
k.find(".dki-element-content input").change(function(){var a=$(this).parent().find("label[for\x3d'"+$(this).attr("id")+"']");a.hasClass("active")||a.trigger("click")})}else if("progress"!=k.data("type")&&"callout"!=k.data("type"))if("radialGauge"==k.data("type"))k.data("outline",b),m=k.find(".radial"),m.RadialGauge({parentSelector:".dki-authoring-content-wrapper",startingPosition:b.parameters.config.startingPos,showText:""==b.meta&&"hidden"!==b.parameters.config.textClass?!1:b.meta,current:function(){return b.parameters.config.current}}),
m.RadialGauge("resize"),m.on("shown",function(){m.RadialGauge("shown")});else if("jumbotron"!=k.data("type"))if("speechBubble"==k.data("type")&&!k.hasClass("dki-authoring-element-element")&&settings.responsive)m.find(".dki-element-text").fontFlex(b.parameters.config.font.min,b.parameters.config.font.max,50);else if("likedislike"==k.data("type"))m.find("i").on(settings.clickEvent,function(){if(!$(this).isDisabled()){m.find("i").removeClass("toggled").disable();$(this).addClass("toggled");var a={id:"http://activitystrea.ms/schema/1.0/like",
display:{"en-US":"liked"}};$(this).hasClass("fa-thumbs-down")&&(a={id:"http://activitystrea.ms/schema/1.0/dislike",display:{"en-US":"disliked"}});contentApi.sendAnalyticsStatement({verb:a,object:{id:settings.activityRootURL+"page/"+contentApi.getData("sys.currentpage.id",!0),definition:{name:{"en-US":contentApi.getData("sys.currentpage.title",!0)},description:{"en-US":contentApi.getData("sys.currentpage.description",!0)}},objectType:"Activity"}});contentApi.setData("likedislike_"+contentApi.getData("sys.currentpage.id",
!0),$(this).hasClass("fa-thumbs-up")?"like":"dislike",!0)}});else"svg"!=k.data("type")&&"shape"!=k.data("type")||m.find("svg").attr("focusable","false")}}if("textbox"==b.elementtype||"freeFormOption"==b.elementtype||"input"==b.elementtype)if(J="input"==b.elementtype?"input":"textarea",$(J,k).attr("tabIndex",t),""!=b.parameters.config.variable_name&&(X=DKI.func.debounce(function(a,b){contentApi.setData(a,b)},500),k.on("change keyup input",J,function(){X(b.parameters.config.variable_name,this.value)}),
k.on("blur",J,function(){contentApi.setData(b.parameters.config.variable_name,this.value)})),k.on("keypress",function(a){a.stopPropagation()}),"input"==b.elementtype||"textbox"==b.elementtype)k.on("change keyup input",J,DKI.func.debounce(function(a,b){h.actionAPI.onContentChangedEvent.call(h.actionAPI,this,h)},2500,!1));if("marker"==b.elementtype){var t="fade",ma="top",J="hover",pa="dark";b.parameters.config&&(b.parameters.config.position&&(ma=b.parameters.config.position),b.parameters.config.animation&&
(t=b.parameters.config.animation),b.parameters.config.trigger&&(J=b.parameters.config.trigger),b.parameters.config.theme&&(pa=b.parameters.config.theme));p.on("focus",function(){q.trigger("mouseover")});p.on("blur",function(){q.trigger("mouseout")});if("click"==J)p.on("click",function(){q.trigger("click")});p.attr("role","application");q.attr("data-position",ma);k.on("click",function(){k.addClass("clickedOnce")});""!=b.meta?m.tooltipster({content:b.meta,contentAsHTML:!0,functionBefore:function(a,
b){var c=$(a).data("position"),h=$("#contentFrame").width(),l=$(a).closest(".dki-marker-element").offset().left;400>h-l&&(0<c.indexOf("left")?c=c.replace("left","right"):-1<c.indexOf("top")?c="top-right":-1<c.indexOf("bottom")?c="bottom-right":0==c.indexOf("right")&&(c="left"),$(a).tooltipster("option","position",c));400>l&&(0==c.indexOf("left")&&(c="right"),$(a).tooltipster("option","position",c));c=k.data("x")*(1-settings.percentZoom);h=-(k.data("y")*(1-settings.percentZoom));$(a).tooltipster("option",
"offsetX",c);$(a).tooltipster("option","offsetY",h);b()},functionReady:function(a,c){var l=$(c),n=l.parent();l.remove();l.attr("role","alert");l.attr("aria-live","polite");$(document).trigger(DKI.ContentPage.events.markerTriggered,{element:b});setTimeout(function(){l.appendTo(n);l.attr("aria-hidden","true")},100);-1<pa.indexOf("branded")&&l.append($("\x3cdiv/\x3e",{"class":"tooltip-branding pos-"+ma,css:{"background-color":m.css("background-color")}}));h.actionAPI.onContentChangedEvent.call(h.actionAPI,
k,h)},maxWidth:400,position:ma,animation:t,trigger:J,theme:pa,positionTracker:!1,restoration:"none"}):h.actionAPI.onContentChangedEvent.call(h.actionAPI,k,h)}else if("capture"==b.elementtype){switch(b.parameters.config.type){case "showMe":var qa="showMe";break;case "tryMe":qa="tryMe";break;default:qa=""}k.data("cap")&&k.capture("destroy");k.data("slidesViewed",k.data("slidesViewed")?k.data("slidesViewed"):[]);if(qa){var ta,na;b.asset_parameters.config.overallAudioFileName&&(ta=b.asset_parameters.config.overallAudioFileName,
na=DKI.renderService.getAssetUrl({id:b.upload_id,folderId:b.asset_uploadfolderid,extension:""})+"/"+ta);requirejs(["captureUtils"],function(){requirejs([qa],function(){k.data("cap",new window[qa]({container:k.find(".capture-project-container"),imgPath:DKI.renderService.state.renderEnvironment.export?"./css":"../player/css/capture",sections:b.asset_parameters.config.sections,stepDuration:b.asset_parameters.config.stepDuration,fileName:ta,m4aTag:na,audioSprite:b.asset_parameters.config.audioSprite,
performAudioFetch:!1,panAndZoom:b.asset_parameters.config.panAndZoom}));var c=k.find(".capture-project-container");c.on("tryMe.stepChanged showMe.stepChanged",function(a,c){a=$(this).closest(".dki-capture-element");var k=a.data("slidesViewed");~$.inArray(c.getOverallStep(),k)||(k.push(c.getOverallStep()),h.actionAPI.onContentChangedEvent.call(h.actionAPI,a,h));b.parameters.config.variable_name&&contentApi.setData(b.parameters.config.variable_name,c.getOverallStep(),!1,!1,!1,{source:a});"showMe"==
b.parameters.config.type&&a.find(".carousel-inner .item").attr("tab-index","-1").filter(".active").attr("tab-index","1")});c.on("tryMe.play",function(a,c){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"start",el:b})});c.on("tryMe.pause",function(a,c){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"pause",el:b})});c.on("tryMe.restart",function(a,c){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"restart",el:b})});
c.on("tryMe.stepChanged",function(a,c){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"stepChanged",el:b})});c.on("showMe.ended tryMe.ended",function(a,c){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"ended",el:b})});c.on("showMe.play",function(a,c){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"play",el:b})});c.on("showMe.pause",function(a,c){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,
{event:"pause",el:b})});if("tryMe"==b.parameters.config.type)c.on("tryMe.ended",function(b,c){b=c.getAssessment();b=b=100*Math.min(b.steps.length/b.total.clicks,1);c=a.getCoursePassMark();null!==c&&(b>=c?k.trigger("capture_submitted",["CORRECT"]):k.trigger("capture_submitted",["INCORRECT"]),h.actionAPI.onElementCaptureAssessmentSubmittedEvent.call(h.actionAPI,this.closest(".dki-capture-element"),"CAPTURE_"+(b>=c?"CORRECT":"INCORRECT"),h))});x(k,n,m)})});return!1}k.data("cap",function(){var a=[];return{setWaypoints:$.proxy(function(){var c=
"captureGuide_"+$(this).data("id"),l=this;h.queue.deleteQueue(c);var n=function(){var c=$(".step",k).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(a){if("down"==a){a=$(this.element).closest(".stepsContainer").find("div:not(.row) .step").index(this.element)+1;var c=l.data("slidesViewed");~$.inArray(a,c)||(c.push(a),h.actionAPI.onContentChangedEvent.call(h.actionAPI,l,h));b.parameters.config.variable_name&&contentApi.setData(b.parameters.config.variable_name,a,!1,!0)}},offset:"70%"}));
a=c;this.wayPoints=this.wayPoints.concat(c)};h.queue.queue({name:c,callback:$.proxy(n,h)});var m=!1;$("img",k).each(function(){if(!$(this).attr("src")&&!$(this).data("src"))return!0;$(this).prop("complete")||(m=!0,$(this).uniqueId(),h.queue.queue({name:c,id:$(this).attr("id")}),$(this).on("load error",function(){h.queue.dequeue({name:c,id:$(this).attr("id")})}))});m||n.call(h)},k),destroy:$.proxy(function(){$.each(a,function(){this.destroy()})},k)}}())}else{if("timer"==k.data("type"))return requirejs(["flipclock"],
function(){var a=!0,c=DKI.applyIf({callbacks:{start:function(){var a=p();c.countdown&&a+1E3==this.timeLimit||1E3>=a?h.actionAPI.onMediaStart.call(h.actionAPI,k.data("id"),h,"timer_start"):h.actionAPI.onMediaPlay.call(h.actionAPI,k.data("id"),h,"timer_play")},stop:function(){if(!a){var b=p();c.countdown&&0==b||!c.countdown&&b>=this.timeLimit?h.actionAPI.onMediaEnd.call(h.actionAPI,k.data("id"),h,"timer_end"):h.actionAPI.onMediaPause.call(h.actionAPI,k.data("id"),h,"timer_pause")}},interval:function(a,
l,n){a=p();!c.countdown&&this.timeLimit<=a&&this.stop();h.actionAPI.onTimerTimeUpdate.call(h.actionAPI,a,k.data("id"),h);b.parameters.config.variable_name&&contentApi.setData(b.parameters.config.variable_name,a)}}},b.parameters.config.clockCfg),l=k.find(".dki-element-content").FlipClock(0,c),p=$.proxy(function(){return c.countdown?this.timeLimit-this.getElapsed():this.getElapsed()},l.timer);l.getCurrentTime=p;k.data("timer",l);pI=h;l.restart=function(){var a=this,c=this.running;this.stop(function(){a.running=
c;a.reset();b.parameters.config.variable_name&&contentApi.setData(b.parameters.config.variable_name,a.getCurrentTime())},!0)};l.toggle=function(){this.running?this.stop():this.start()};a=!1;x(k,n,m)}),!1;if("videoPlaylist"==b.elementtype)return requirejs(["videoPlaylist"],function(){m.VideoPlaylist({completion:"undefined"!==typeof dataStorage?dataStorage.completion.elements:{},outline:b,type:b.parameters.config.type,responsive:settings.course.responsive,autoPlay:b.parameters.config.autoPlay,listeners:{play:function(){this.videoInterface.getUrl($.proxy(function(a){"undefined"!==
typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.played,{elementId:this.videoInterface.outline.id,url:a})},this))},pause:function(){this.videoInterface.getUrl($.proxy(function(a){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.paused,{elementId:this.videoInterface.outline.id,url:a})},this))},end:function(){this.videoInterface.getUrl($.proxy(function(a){"undefined"!==
typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.ended,{elementId:this.videoInterface.outline.id,url:a})},this))},start:function(){this.videoInterface.getUrl($.proxy(function(a){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.started,{elementId:this.videoInterface.outline.id,url:a})},this))},videoLoaded:function(){h.actionAPI.onContentChangedEvent.call(h.actionAPI,
k,h)}}});b.parameters.config.autoPlay&&m.isInViewport()&&h.autoPlayMedia.push(m);x(k,n,m)}),!1;if("scenario"==b.elementtype)return requirejs(["scenario"],function(){m.Scenario({accessible:!(dkiUA.android||dkiUA.iOS),outline:b,responsive:settings.responsive,characterBaseUrl:DKI.renderService.state.renderEnvironment.export?"assets":settings.baseUrl+"content/authoringtooldb/assetCollections",backgroundAsset:DKI.renderService.getAssetUrl({id:b.background_asset_id,folderId:b.background_asset_uploadfolderid,
extension:b.background_asset_extension}),strings:{audioPlay:DKI.strings.runtime.media_play,audioStop:DKI.strings.runtime.media_pause,scenarioStart:DKI.strings.runtime.media_play,continue:DKI.strings.endTest.learningLinkLabel},listeners:{onScore:function(a){var c=b.parameters.config.variable_name;c&&contentApi.setData(c,a)}}}).on("scenario.optionSelected",function(a,b){$(document).trigger(DKI.ContentPage.events.scenarioOptionSelected,b)}).on("scenario.continue",function(a,b){}).on("scenario.end",function(a,
b){$(document).trigger(DKI.ContentPage.events.scenarioEnded,b)});x(k,n,m)}),!1}settings.enablePlugins&&""!=b.parameters.plugin.fn&&(S={element:b,wrapper:k,content:m},b.parameters.plugin.extraContent&&$.each(b.parameters.plugin.extraContent,function(a,b){eval(b.processFn);processFn(S)}),m[b.parameters.plugin.fn]($.parseJSON(b.parameters.plugin.config)));"imageGallery"==k.data("type")&&$(".dki-element-content",l).owlCarousel($.parseJSON(b.parameters.config.options));if(0<k.find(".owl-carousel").length)k.find(".owl-carousel").on("initialized.owl.carousel resized.owl.carousel",
this.resizeCarousels);x(k,n,m)};var l=function(){$(".dki-authoring-element",$(c.pageContainer).find(".pageElementsWrapper:not(.design-layout)")).each(function(){var a=function(b){c.processElement(b,function(){if(DKI.renderService.state.typeConfig[b.elementtype].fullDomSubElements)for(var c=0;c<b.elements.length;c++)a(b.elements[c])})},b=c.getClaroElementById($(this).data("id"));a(b);$(this).find(".dki-citation-link sup.refSup").on(settings.clickEvent,function(a){DKI.reference.showReference(a.target.parentNode);
return!1});$(this).find(".dki-glossary-link").on(settings.clickEvent,function(a){DKI.glossary.showPopup.call(this,[a]);return!1})})};if(this.readyFired)l();else $(document).one(DKI.ContentPage.events.ready,function(){setTimeout(l,1)});$(this.pageContainer).on("mouseenter",".dki-glossary-link",function(a){DKI.glossary.showDefinition(a,this)});$(this.pageContainer).on("focus",".dki-glossary-link",function(a){DKI.glossary.showDefinition(a,this)});$(this.pageContainer).on("mouseleave",".dki-glossary-link",
function(a){"glossaryHoverDefinition"!=a.relatedTarget.id&&DKI.glossary.hideDefinition(a,this)});$(this.pageContainer).on("blur",".dki-glossary-link",function(a){DKI.glossary.hideDefinition(a,this)});$(this.pageContainer).on("mouseenter",".dki-citation-link sup.refSup",function(a){DKI.reference.hoverReference(a.target.parentNode,!0)});$(this.pageContainer).on("mouseleave",".dki-citation-link sup.refSup",function(a){0==$(a.relatedTarget).parents("#referencePopup").length&&DKI.reference.hoverReference(a.target.parentNode,
!1)});$(this.pageContainer).on("focus",".tableFocusCatcher",function(a){var b=$("[tabindex\x3d1]",this.pageContainer),c=b.index(this);b.index(a.relatedTarget)<c?b.eq(c+1).focus():b.eq(c-1).focus()});$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",this.pageContainer).each(function(){if(dkiUA.ie)a={parentNode:this.parentNode,objTag:$(this.parentNode).html()},$(this).detach();else var a={parentNode:this.parentNode,objTag:$(this).detach()};c.objectTags.push(a)});
$(".dki-authoring-element[data-rotation!\x3d'0'], .dki-authoring-element-element[data-rotation!\x3d'0']",this.pageContainer).each(function(){$(this).find(".dki-authoring-content-wrapper:first").velocity({rotateZ:$(this).data("rotation")+"deg"},0)});b.player.behaviour&&b.player.behaviour.suppressAltTags&&$(".dki-authoring-element *[alt!\x3d''], .dki-authoring-element *[title!\x3d'']",this.pageContainer).each(function(){var a=$(this);a.hasClass("dki-element-anchor")||a.removeAttr("alt").removeAttr("title")});
for(var q in DKI.ContentPage.events)$(this.pageContainer).off(DKI.ContentPage.events[q]);this.settings.scrolling&&($(this.pageContainer).on(DKI.ContentPage.events.shown,function(){c.resize()}),$(this.pageContainer).on(DKI.ContentPage.events.hidden,function(){c.resize()}));$(".dki-authoring-group",this.pageContainer).each(function(){var a=$(this),b=c.getGroupById(a.data("id"));a.data("start_class",a.attr("class"));a.data("start_style",a.attr("style"));if(settings.enablePlugins&&""!=b.parameters.plugin.fn)a[b.parameters.plugin.fn]($.parseJSON(b.parameters.plugin.config))});
$(".dki-text-tooltip",this.pageContainer).each(function(){var a=$(this);a.tooltipster({content:$("\x3cdiv/\x3e").html(a.data("tooltip-text")).text(),contentAsHTML:!0,positionTracker:!0,theme:"tooltipster-light",trigger:"hover",onlyOne:!0})});var x=0,z=$(this.pageContainer).find("img").on("load error",function(){x++;x==z&&(c.resizeSections(),c.resizeTabs(),c.resizeCarousels())}).length;setTimeout(function(){x!=z&&(c.resizeSections(),c.resizeTabs())},1E3);dkiUA.mobile||this.fireReady();c.resizeSections();
c.resizeSvgs();c.resizeTabs()};q.prototype.renderPage=function(){$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course))};q.prototype.setMinHeight=function(a,b){a=a?a:this.pageContainer;b=b?b:$(a).height();$(a).css("min-height","").css("min-height",b)};q.prototype.setAudio=function(a){l.setAudio(a,this)};q.prototype.pauseAll=function(){l.pauseAll(this)};q.prototype.resumeAll=function(){l.resumeAll(this)};q.prototype.resize=function(){$(document).trigger(DKI.ContentPage.events.resize,
this.getScrollHeight())};q.prototype.getScrollHeight=function(){var a=this.settings.courseHeight;$(".dki-authoring-element",this.pageContainer).each(function(){var b=$(this);b.is(":visible")&&(b=b.offset().top+b.height(),b>a&&(a=b))});return a};q.prototype.start=function(a,b){var c=function(){var a=this,c=!1;if($(a.pageContainer).find(".pageElementsWrapper").data("pageid")==this.page.id){a.started=!0;a.startTime=(new Date).getTime();a.resize();this.queue.queue({name:"loadFinished",callback:$.proxy(function(){$(document).trigger(DKI.ContentPage.events.loadFinished,
a)},this)},a.page.id);var h=750,q=0;dkiUA.iOS&&(h=2500,q=1E3);var t=window.setTimeout(function(){a.showLoader()},200);$(document).on(DKI.ContentPage.events.loadFinished,function(){clearTimeout(t);a.hideLoader()});var x=!1;$.each(a.autoPlayMedia,function(){if(("video"!=$(this).closest(".dki-authoring-element").data("elementtype")||"videoPlaylist"!=$(this).closest(".dki-authoring-element").data("elementtype"))&&$(this).closest(".dki-authoring-element").is(":visible")&&!k.canAutoplay())return x=!0,!1});
if(x){var a=this,y=new DKI.disabler({text:'\x3cdiv class\x3d"disabler-play"\x3e\x3c/div\x3e',onClick:function(b){b.hide();l.startAutoPlay(a)}}),D=setTimeout(function(){y.show()},h);$.each(a.autoPlayMedia,function(a,b){if(b.hasClass("dki-videoplaylist"))b.on("play",function(){clearTimeout(D);y.hide()});else b.bind($.jPlayer.event.play,function(){clearTimeout(D);y.hide()})})}setTimeout(function(){l.startAutoPlay(a);a.setAudio(player.audio)},q);p.start(a);var F=function(b,c){var h=$("#content_"+b.data("id"),
b);b.first(".dki-authoring-content-wrapper");var k=b.find(".dki-element-anchor:first"),l=a.getClaroElementById(b.data("id")),n=!b.hasClass("dki-contentCarousel-element")&&0<b.closest(".dki-contentCarousel-element").length,m=n?-1:k.data("tabindex")||-1;$("iframe",b).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);b.is(":visible")?this.src=$(this).attr("data-src"):this.src="about:blank"});b.data("accessibility-tabable")&&$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content#content_"+
b.data("id")+", .btn.dki-element-content",b).each(function(){this.tabIndex=m});if(b.hasClass("dki-table-element")||b.hasClass("dki-htm-element")||b.hasClass("dki-plainText-element")||b.hasClass("dki-tab-element")&&dkiUA.ie||b.hasClass("dki-panelHeader-element")||b.hasClass("dki-panelFooter-element")||b.hasClass("dki-questionBody-element")||b.hasClass("dki-questionOpening-element")||b.hasClass("dki-tileCardTitle-element")||b.hasClass("dki-tileCardSubtitle-element"))(b.hasClass("dki-table-element")||
b.hasClass("dki-htm-element")||b.hasClass("dki-plainText-element")||b.hasClass("dki-tab-element")&&dkiUA.ie||b.hasClass("dki-panelHeader-element")||b.hasClass("dki-panelFooter-element")||b.hasClass("dki-questionBody-element")||b.hasClass("dki-questionOpening-element")||b.hasClass("dki-tileCardTitle-element")||b.hasClass("dki-tileCardSubtitle-element"))&&h.attr("tabindex",m),$("a, .dki-glossary-link, .dki-citation-link sup.refSup, img",h).attr("tabindex",m),(""==l.parameters.accessibility.text||b.hasClass("dki-tab-element")&&
dkiUA.ie||b.hasClass("dki-panelHeader-element")||b.hasClass("dki-panelFooter-element"))&&k.attr("tabindex","-1");"speechBubble"==l.elementtype&&l.parameters.accessibility.tabable&&h.attr("tabindex","1");"image"==l.elementtype&&(l.parameters.accessibility.tabable&&!n&&(l.parameters.accessibility.text||l.txt)?(l.parameters.accessibility.text&&l.txt?k.attr({tabindex:"1","aria-hidden":"false"}):k.attr({tabindex:"-1","aria-hidden":"true"}),h.attr("tabindex","1")):(k.attr("tabindex","-1"),h.attr("tabindex",
"-1")));"svg"==l.elementtype&&(l.parameters.accessibility.tabable||n||(h.attr("tabindex","-1"),k.attr("tabindex","-1")),h.find("svg, svg *").attr("tabindex","-1"));l.parameters.accessibility.tabable&&!n&&""==l.parameters.accessibility.text.toString().trim()&&"marker"!=l.elementtype&&"tab"!=l.elementtype&&("btn"==l.elementtype?(k.attr("tabindex","-1"),h.attr("tabindex","1")):(k.attr("tabindex","-1"),k.attr("aria-hidden","true")));"zoomRegion"==b.data("type")&&b.is(":visible")&&contentApi.zoomToElement(b.data("id"),
a,0);"textbox"!=l.elementtype&&"freeFormOption"!=l.elementtype||""==l.parameters.config.variable_name||(h.val(contentApi.getData(l.parameters.config.variable_name)),h.attr("data-variable-id",l.parameters.config.variable_name));"likedislike"==l.elementtype&&(h.find("i").removeClass("toggled").enable(),n=contentApi.getData("likedislike_"+contentApi.getData("sys.currentpage.id",!0),!0),"like"==n?(h.find(".fa-thumbs-up").addClass("toggled"),h.find("i").disable()):"dislike"==n&&(h.find(".fa-thumbs-down").addClass("toggled"),
h.find("i").disable()));if("input"==l.elementtype&&""!=l.parameters.config.variable_name){var p=h.find("input");p.val(contentApi.getData(l.parameters.config.variable_name));p.attr("data-variable-id",l.parameters.config.variable_name)}if("radioGroup"==l.elementtype){$("input",h).attr("tabindex",m);for(var n="",p=l.parameters.config.variable_name,p=p.split(","),r=0;r<p.length;r++)if(-1==p[r].indexOf("_text")){n=p[r];break}""!=n&&(p=h.find("input[value\x3d'"+contentApi.getData(n)+"']"),r=h.find("label[for\x3d'"+
p.attr("id")+"']"),p.prop("checked",!0),r.addClass("active"),h.attr("data-variable-id",n))}"toggle"==l.elementtype&&(""==l.meta&&k.attr("tabindex",-1),$("label",h).attr("tabindex",m).attr("role","checkbox").attr("aria-checked",!1),""!=l.parameters.config.variable_name&&(h.find("input").prop("checked",contentApi.getData(l.parameters.config.variable_name)),h.attr("data-variable-id",l.parameters.config.variable_name),$("label",h).attr("aria-checked",contentApi.getData(l.parameters.config.variable_name))));
if("selection"==l.elementtype){n="";p=l.parameters.config.variable_name;p=p.split(",");for(r=0;r<p.length;r++)if(-1==p[r].indexOf("_text")){n=p[r];break}""!=n&&(k=contentApi.getData(n),h.find("button .selectedCont").html(h.find("li a[data-val\x3d'"+k+"']").html()),h.data("val",k),h.attr("data-variable-id",n))}"marker"==b.data("type")&&(k="hover",l.parameters.config&&l.parameters.config.trigger&&(k=l.parameters.config.trigger),""==l.meta||"custom"!=k||!b.is(":visible")||b.hasClass("hiddenOnLoad")||
b.hasClass("hiddenUntilInView")||h.tooltipster("show"));if("progress"==b.data("type")||"radialGauge"==b.data("type")){var k=l.parameters.config.max,n=l.parameters.config.current,k="string"==typeof k?contentApi.getData(k):parseInt(k,10),n="string"==typeof n?contentApi.getData(n):parseInt(n,10),q=n/k*100,q=parseFloat(q.toFixed(2),10);"radialGauge"==b.data("type")?b.find(".radial").data("dki.RadialGauge")?b.find(".radial").RadialGauge("setRotation",q,function(a,b){isNaN(parseInt(l.parameters.config.current,
10))||(l.parameters.config.current=b.state.current);contentApi.setData(l.parameters.config.variable_name,q)}):a.processElement(b):(h.attr("tabindex",m),b.find(".progress-bar").css(l.parameters.config.dim,q+"%"),b.find(".progress-bar-display, .sr-only").html(Math.floor(q)+"%"))}"contentCarousel"==b.data("type")&&(h.attr("tabindex","-1"),b.find(".flickity-slider\x3e.dki-panel-element\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").attr("tabindex",m),b.find(".flickity").attr("tabindex",-1),
b.find(".flickity.flickity_autoPlay").flickity("playPlayer"));"timeline"==b.data("type")&&(l.parameters.config.enableEntrance?a.wayPoints=a.wayPoints.concat($(".cd-timeline-block",b).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){"down"==c?($(this.element).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in"),a.actionAPI.onContentChangedEvent.call(a.actionAPI,b,a)):$(this.element).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden").removeClass("bounce-in")},
offset:"90%"}))):a.actionAPI.onContentChangedEvent.call(a.actionAPI,b,a));"capture"==b.data("type")&&(b.data("slidesViewed",[]),b.capture("setWaypoints"));"timer"==b.data("type")&&(k=l.parameters.config.timeLimit,k="string"===typeof k?contentApi.getData(k):parseInt(k,10),b.data("timer").timer.timeLimit=k,b.data("timer").setTime(l.parameters.config.clockCfg.countdown?k/1E3:0),n="MinuteCounter",36E5<=k&&(n="HourCounter"),b.data("timer").loadClockFace(n,null,!0,!0),l.parameters.config.clockCfg.countdown&&
(b.data("timer").timer.factory.original=k/1E3),l.parameters.config.autoStart&&b.data("timer").start());"matchCardSet"==b.data("type")&&(b.find(".match_hidden").removeClass("match_hidden"),b.trigger("match.resizeImmediate"),l.parameters.config.startShown&&(b.data("fromFirstVisibleFlip",!0),b.find(".match_manual_start").addClass("show center nobg").attr("aria-hidden",!1).find(".match_manual_start_container").html("\x3cdiv role\x3d'button' tabindex\x3d'1' class\x3d'btn btn-primary start' style\x3d'font-size:1.3em; padding: 20px; border-radius: 3px;'\x3eStart\x3c/div\x3e"),
b.find(".match_manual_start_container").StayInView({scrollParent:b.find(".match_manual_start")}),b.find(".cardsContainer").attr("aria-hidden",!0).find(".front").attr("tabindex","-1"),b.find(".flipSet").addClass("locked delayStart").one("click",".start",$.proxy(function(){var a=$(this).find(".flip");b.find(".match_manual_start").attr("aria-hidden",!0).removeClass("show center nobg").find(".match_manual_start_container").html("").StayInView("destroy");a.flip(!0);setTimeout(function(){a.one("flip:done",
function(c,h){b.data("fromFirstVisibleFlip")&&($(this).find(".front").attr("tabindex","1"),$(this).is(a.last())&&(b.find(".cardsContainer").attr("aria-hidden",!1),setTimeout(function(){a.first().find(".front")[0].focus()},0),b.data("fromFirstVisibleFlip",!1)))}).flip(!1);b.find(".flipSet").removeClass("locked")},3E3)},b))));"flashCardSet"==b.data("type")&&b.find(".flickity-carousel").data("resize")();"videoPlaylist"==b.data("type")&&b.find(".dki-element-content").VideoPlaylist("sizeVideo");"scenario"==
b.data("type")&&b.is(":visible")&&(b.find(".dki-element-content").Scenario("sceneWindowResize"),b.find(".dki-element-content").Scenario("start"));"list"==b.data("type")&&(h.attr({tabindex:m,role:"list"}),$("li",h).attr("role","listitem"));"slider"==b.data("type")&&($(".sliderLabel",h).attr("id",b.attr("id")+"_sliderLabel"),$(".slider",h).attr({role:"slider",tabindex:m,"aria-valuemin":l.parameters.config.noUISlider.range.min,"aria-valuemax":l.parameters.config.noUISlider.range.max,"aria-valuenow":l.parameters.config.noUISlider.start,
"aria-labelledby":b.attr("id")+"_sliderLabel"}));"tileCard"==l.elementtype&&(h=contentApi.getData(l.parameters.config.variable_name),k=b.find(".tileCard").data("visitedIcon"),n=b.find(".dki-icon-element i"),p=n.data("class"),h?n.addClass(k).removeClass(p):n.addClass(p).removeClass(k));a.scaleElementChildren(l);c&&a.queue.dequeue({name:"loadFinished",id:b.attr("id")+"_element"})};$(".pageElementsWrapper:not(.design-layout) .dki-authoring-element, .pageElementsWrapper:not(.design-layout) .dki-authoring-element-element",
a.pageContainer).each(function(){var b=$(this);b.data("elementLoaded")?F(b):(c=!0,a.queue.queue({name:"loadFinished",id:$(this).attr("id")+"_element"}),b.off("elementLoaded").on("elementLoaded",function(){F(b,!0)}))});$(this.pageContainer).find(".dki-flipCard-element .dki-element-content *[tabindex]:not(.flipCardPanel)").attr("tabindex","-1").data("tabindex","-1");$(this.pageContainer).find(".dki-flipCard-element .dki-element-content a").attr("tabindex","-1");$(this.pageContainer).find("a.accordion-toggle div.dki-element-anchor").attr("tabindex",
"-1");$(this.pageContainer).find("a.accordion-toggle .dki-tab-element .dki-element-content").attr("tabindex","-1");$(this.pageContainer).find(".panel-collapse").attr("aria-label"," ");for(h=0;h<a.objectTags.length;h+=1)dkiUA.ie?$(a.objectTags[h].parentNode).html(a.objectTags[h].objTag):a.objectTags[h].objTag.appendTo(a.objectTags[h].parentNode);$(".dki-image-element[data-extension\x3d'gif'] img",this.pageContainer).each(function(){this.src=$(this).attr("data-src")+"?rand\x3d"+Math.floor(500*Math.random())});
dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").attr("autoplay","");dkiUA.ie&&8>=dkiUA.ieVersion&&m.init(a);$("img",a.pageContainer).each(function(){if(!$(this).attr("src")&&!$(this).data("src"))return!0;$(this).prop("complete")||(c=!0,$(this).uniqueId(),a.queue.queue({name:"loadFinished",id:$(this).attr("id")}),$(this).on("load error",function(){a.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});dkiUA.iOS||$("video",a.pageContainer).each(function(){$(this).uniqueId();
3>this.readyState&&(c=!0,a.queue.queue({name:"loadFinished",id:$(this).attr("id")}),$(this).on("canplay",function(){a.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});c||$(document).trigger(DKI.ContentPage.events.loadFinished,a);p.checkBreakPointThreshold("breakpoint",a);p.checkDeviceAdaptation("device",a);a.resizeSections();a.reCalculateMediaControls();a.resizeSvgs();a.resizeCarousels();a.resizeTabs();a.resizeDropTargets();a.resizeSelectionDropdowns();b||$(document).trigger(DKI.ContentPage.events.started,
a)}};this.isStandalonePage||contentApi.hideAllPopups(!0);var q=this,x=0;a?x=a:$("html").hasClass("csstransitions")&&(x=this.getPageTransitionTime());$(q.pageContainer).css("transition-duration",x+"ms").removeClass($(q.pageContainer).data("current_player_background")).addClass(q.page.parameters.player_background).data("current_player_background",q.page.parameters.player_background);0==x||0!=q.autoPlayMedia.length&&!k.canAutoplay()?c.call(q):setTimeout(function(){c.call(q)},x);settings.responsive&&
($(".pageElementsWrapper .dki-image-element img",q.pageContainer).on("load error",function(){var a=$(this).closest(".dki-image-element");q.setLabelWrapperPosition(a);var b=a.data("resizeMap",$.proxy(function(){var b=this.find("map");if(b.length){var c=b.data("asset-width"),h=a.find("img").width(),k=1-(c-h)/c;b.find("area").each(function(){for(var a=$(this).data("coords").split(","),b=0;b<a.length;b++)a[b]=parseInt(a[b],10)*k;this.coords=a.join(",")})}},a)).data("resizeMap");"function"===typeof b&&
b()}).each(function(){this.complete&&$(this).load()}),$(".pageElementsWrapper .dki-video-element",q.pageContainer).each(function(){q.setLabelWrapperPosition($(this))}))};q.prototype.reset=function(a){a=DKI.applyIf(a?a:{},{timeout:0});var b=this;$(".dki-marker-element",b.pageContainer).each(function(){var a=$(this);if("marker"==a.data("type")&&""!=a.data("meta")){var b=a.find(".dki-element-content"),c=b.tooltipster("option","animation");b.tooltipster("option","animation",!1).tooltipster("hide",function(){b.tooltipster("option",
"animation",c)})}});var c=function(){if($(b.pageContainer).find(".pageElementsWrapper").data("pageid")==b.page.id){b.started=!1;b.startTime=0;l.stopAll(b);this.contentPage&&this.contentPage.randomizeOptions&&this.contentPage.randomizeOptions();var a=$(".dki-authoring-element,.dki-authoring-element-element",b.pageContainer);$(b.pageContainer).trigger(DKI.ContentPage.events.reset);p.reset(b);$(".dki-authoring-group",b.pageContainer).each(function(){var a=$(this);b.getGroupById(a.data("id"));a.attr("class",
a.data("start_class"));a.attr("style",a.data("start_style"))});a.each(function(){var a=$(this),c=a.first(".dki-authoring-content-wrapper"),h=$("#content_"+a.data("id"),this),k=b.getClaroElementById(a.data("id"));a.stop(!0,!0);a.removeAttr("data-viewed");b.settings.responsive||(a.css("left",a.data("x")+"px"),a.css("top",a.data("y")+"px"));$("iframe",this).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);this.src="about:blank"});$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content, .btn.dki-element-content",
this).each(function(){this.tabIndex=-1});"html"==$(this).data("type")&&h.hasClass("adaptive")&&$(this).data("resizeInterval")&&(clearInterval($(this).data("resizeInterval")),$(this).data("resizeInterval",null));"inlineQuestion"==$(this).data("type")&&(a.data("attempts",0),a.data("score",0),k.parameters.config.variable_name&&contentApi.setData(k.parameters.config.variable_name,0),$("input[type\x3d'checkbox'],input[type\x3d'radio']",this).removeAttr("disabled").checked(!1),a.find(".btn.submit").show().removeClass("disabled"),
a.find(".btn.retake").hide(),h.find(".dki-element-content").each(function(){$(this).attr("class",$(this).data("start_class"))}));if("slider"==$(this).data("type")){var l=$(".slider",this);l[0]&&(!player.isSinglePage&&dataStorage.getContentVariable(l.data("variable-id"))?(l.data("automaticSet",!0),l[0].noUiSlider.set(dataStorage.getContentVariable(l.data("variable-id")))):(l.data("automaticSet",!0),l[0].noUiSlider.set(k.parameters.config.noUISlider.start)))}"contentCarousel"==a.data("type")&&(a.find(".flickity.flickity_autoPlay").flickity("stopPlayer"),
a.find(".flickity").flickity("selectCell",0));"timer"==a.data("type")&&a.data("timer").stop(function(){a.data("timer").reset()});"matchCardSet"==a.data("type")&&a.trigger("match.reset");"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("reset");a.attr("class",a.data("start_class"));a.attr("style",a.data("start_style"));a.data("allViewed",!1);a.data("slidesViewed")&&a.data("slidesViewed",[]);"capture"==$(this).data("type")&&$(this).capture("reset",[!0]);"flashCardSet"==
$(this).data("type")&&$(this).data("reset")&&$(this).data("reset")();c.attr("class",c.data("start_class"));c.attr("style",c.data("start_style"));h.attr("class",h.data("start_class"));h.attr("style",h.data("start_style"))});p.checkBreakPointThreshold("breakpoint",b);p.checkDeviceAdaptation("device",b);$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",b.pageContainer).each(function(){$(this).detach()});dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").removeAttr("autoplay");
contentApi.zoomOut(b,0);settings.responsive&&(a=$(".headerPage:not(.hidden)").outerHeight()+$("#contentFrame").offset().top+$(".footerPage:not(.hidden)").outerHeight(),$(".dkiContentFrame, .bgRepeater, .dkiContentFrame\x3e.pageElementsWrapper").css({"min-height":""}).css({"min-height":$(window).height()-a}));b.readyFired=!1;b.fireReady()}};0<a.timeout?setTimeout(c,a.timeout):c()};q.prototype.scaleElementChildren=function(a){if(!settings.responsive)return!1;var b=this;if(settings.responsive&&("video"==
a.elementtype||"image"==a.elementtype)){var c=function(c,k){k=c.find("#content_"+c.data("id"));var l=k.width()/k.data("assetwidth"),m=k.height()/k.data("assetheight");k=k.parent(".dki-authoring-content-wrapper");parseInt(c.data("y"),10);parseInt(c.data("x"),10);var p=parseInt(k.css("padding"),10);c.find(".dki-authoring-element-elements-wrapper").css({transform:"scale("+l+")","transform-origin":"top left",display:"block"});c.find(".dki-authoring-element-element").each(function(){var c="video"==a.elementtype?
-p:0;$(this).css({top:$(this).data("y")+1*c/l+1/l*(1-l)*p,left:$(this).data("x")+1*c/m+1/m*(1-m)*p});c=b.getClaroElementById($(this).data("id"));if("speechBubble"==c.elementtype){var k=$(this).data("sb_fontSize")?$(this).data("sb_fontSize"):parseInt($(this).css("font-size").split("px")[0],10),q=k*l;q&&(q=q<c.parameters.config.font.min?c.parameters.config.font.min:q>c.parameters.config.font.max?c.parameters.config.font.max:0,$(this).data("sb_fontSize",k),q?$(this).css("font-size",1/l*q):$(this).css("font-size",
""))}"label"==c.elementtype&&(k=parseFloat($(this).find(".dki-element-text").css("font-size"),10),q=k*l,10>q?(k=10/q,$(this).css("transform","scale("+k+")"),$(this).css("transform-origin","top left")):$(this).css("transform",""),$(this).hasClass("labelResponded")?c.parameters.config.icon.onLeft||($(this).data("oldLeft",parseInt($(this).css("left"))),k=$(this).data("oldLeft")+(c.width-$(this).outerWidth()),$(this).css("left",k)):c.parameters.config.icon.onLeft||$(this).css("left",$(this).data("oldLeft")));
"marker"==c.elementtype&&(k=1/l,$(this).css("transform","scale("+k+")"),$(this).css("transform-origin","top left"))})},k=function(a){var h=$(".dki-authoring-element[data-id\x3d"+a.id+"]",b.pageContainer);0==h.length&&(h=$(".dki-authoring-element-element[data-id\x3d"+a.id+"]",b.pageContainer));"video"==a.elementtype&&(300>h.width()?h.find(".jp-video").removeClass("vid-md vid-lg").addClass("vid-sm"):600>h.width()?h.find(".jp-video").removeClass("vid-sm vid-lg").addClass("vid-md"):h.find(".jp-video").removeClass("vid-sm vid-md").addClass("vid-lg"));
for(var l=0;l<a.elements.length;l++){var m=$("#"+a.elements[l].id+"_wrapper");if(("marker"==a.elements[l].elementtype||"label"==a.elements[l].elementtype||"speechBubble"==a.elements[l].elementtype||"image"==a.elements[l].elementtype||"hotspot"==a.elements[l].elementtype)&&"label"==a.elements[l].elementtype&&"none"!=a.elements[l].parameters.config.response){m.hasClass("tooltipstered")||m.tooltipster({content:a.elements[l].meta,contentAsHTML:!0,trigger:"click",maxWidth:400,theme:"tooltipster-light"});
var p=settings.flowBreakpoints[a.elements[l].parameters.config.response].to;$(window).width()<=p?m.tooltipster("enable").addClass("labelResponded"):m.tooltipster("disable").removeClass("labelResponded")}c(h,a.elements[l]);a.elements[l].elements&&k(a.elements[l])}};k(a)}};q.prototype.isPaused=l.isPaused;q.prototype.fireReady=function(){this.readyFired||(this.readyFired=!0,settings.responsive&&$(".dki-authoring-element",this.pageContainer).each(function(){var a=$(this).position();$(this).data("x",a.left).data("y",
a.top)}),$(document).trigger(DKI.ContentPage.events.ready,this.page,this.pageContainer))};q.prototype.resizeCarousels=function(a){a=a?a:$(".flickity, .flip",this.pageContainer);a.each(function(){var a=$(this),b=a.data("vertical-alignment");a.find(".panel-collapse.collapse:not(.in)").css({height:"auto",display:"block",visibility:"hidden"});var c=a.find("\x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel,\x3e .face \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel");
c.css({"padding-top":"","padding-bottom":""});c.find(".panel-body").css({"padding-top":"","padding-bottom":""});a.hasClass("flickity")&&a.data("flickity")&&a.flickity("resize");var h=c.map(function(){return $(this).outerHeight()}),k=Math.max.apply(null,h);c.each(function(){var a=$(this).find(".panel-body:first"),c=a.css("height"),h=k-a.css("height","").outerHeight();$("body").hasClass("responsive")||a.css("height",c);0<h&&("top"==b?a.css({"padding-top":"","padding-bottom":parseInt(a.css("padding-bottom").split("px")[0],
10)+h}):"bottom"==b?a.css({"padding-bottom":"","padding-top":parseInt(a.css("padding-bottom").split("px")[0],10)+h}):a.css({"padding-top":parseInt(a.css("padding-top").split("px")[0],10)+h/2,"padding-bottom":parseInt(a.css("padding-bottom").split("px")[0],10)+h/2}))});a.find(".panel-collapse.collapse:not(.in)").css({height:"0px",display:"",visibility:""})})};q.prototype.resizeSvgs=function(){dkiUA.isIE()&&settings.responsive&&$(".dki-svg-element svg",this.pageContainer).each(function(){var a=this.attributes.viewBox.value.split(" "),
a=a[3]/a[2],b=$(this).width();$(this).height(b*a)})};q.prototype.resizeTabs=function(){settings.responsive&&$($(".dki-tabset-element",this.pageContainer).get().reverse()).each(function(){var a=$(this),b=a.find(".nav").outerHeight();$(".tab-pane",a).each(function(){var a=$(this).css("width","100%");a.outerHeight()>b&&(b=a.outerHeight());a.css("width","")});a.find(".tab-content").css("min-height",b)})};q.prototype.resizeDropTargets=function(){$("div.dropTarget[data-height]",this.pageContainer).each(function(){var a=
$(this);a.style("min-height",a.width()*a.data("height")/100+"px");if("undefined"!=typeof a.data("align")){a.css({"padding-top":""});var b=parseInt(a.css("padding-top").split("px")[0],10),c=a.find(".dropTargetTextWrapper").height(),k=parseInt(a.data("align"),10)/100,b=(a.height()-c)*k+b+"px";a.css("padding-top",b)}})};q.prototype.resizeSelectionDropdowns=function(){var a=this;$(".dki-selection-element",this.pageContainer).each(function(){var b=$(this);b.find(".dropdown-menu").style("max-width",$(a.pageContainer).width()-
b.offset().left-15+"px")})};q.prototype.resizeSection=function(a){a=$(a);if(a.hasClass("dki-section-height")){a.css({"padding-top":""});var b=parseInt(a.css("padding-top").split("px")[0],10);if(!a.hasClass("super-section")){var c=a.height(),k=0;a.find(".dki-authoring-row").each(function(){k+=$(this).height()});var l=parseInt(a.data("vertical-align"),10)/100;a.css("padding-top",(c-k)*l+b+"px")}}else a.css({"padding-top":""})};q.prototype.resizeSections=function(){var a=this;$(".dki-iframe-element",
this.pageContainer).each(function(){var a=$(this),b=a.data("height")/a.data("width")*100;a.find(".dki-authoring-content-wrapper").css("padding-bottom",b+"%")});var b=dkiUA.isIE()?"*":"[data-vertical-align\x3d'25'],.dki-authoring-section[data-vertical-align\x3d'75']";$(".dki-authoring-row.synchronize-heights",this.pageContainer).each(function(){var a=$(this);synchonizeRowHeight(a)});$(".dki-authoring-section",this.pageContainer).each(function(){var c=$(this);c.is(b)&&a.resizeSection(this);c.hasClass("has-top-decoration")&&
c.prev().addClass("before-decoration");c.hasClass("has-bottom-decoration")&&c.next().addClass("after-decoration");c.is(".super-section")&&(c.width(),c.find(".dki-authoring-group").each(function(){var a=$(this),b=a.find(".dki-authoring-group-elements-wrapper"),h=[{elements:[],tallest_height:0}],k=a.width(),l=0;b.css({"padding-top":"","padding-bottom":""});a.find(".dki-authoring-element").each(function(){var a=$(this);l+=a.width();l>k&&(h.push({elements:[],tallest_height:0}),l=a.width());a.height()>
h[h.length-1].tallest_height&&(h[h.length-1].tallest_height=a.height());h[h.length-1].elements.push(a)});var n=0;$.each(h,function(){n+=this.tallest_height});var a=parseInt(c.data("vertical-align"),10)/100,a=(c.height()-n)*a,m=c.height()-n-a;b.css({"padding-top":a+"px","padding-bottom":m+"px"})}))});$(".dki-image-element img.dki-element-content, .dki-image-element canvas.dki-element-content",this.pageContainer).maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$(".dki-contentCarousel-element",
this.pageContainer).each(function(){$(this).flickity&&$(this).find(".flickity").flickity("resize")})};q.prototype.onWindowScroll=function(a){var b=a?a.scrollTop:window.pageYOffset;$(".bg-parallax",this.pageContainer).each(function(){var a=.25*(b-$(this).offset().top);$(this).css("background-position-y",a)});$(".bg-parallaxer",this.pageContainer).each(function(){var a=.5*(b-$(this).offset().top);$(this).css("background-position-y",a)});$(".bg-parallaxest",this.pageContainer).each(function(){var a=
.814*(b-$(this).offset().top);$(this).css("background-position-y",a)})};q.prototype.setLabelWrapperPosition=function(a){if("image"==a.data("type")||"video"==a.data("type")){var b=$("#"+a.data("id")+"_content_wrapper"),c="0%",k="0px",l=parseInt(a.find(".dki-authoring-content-wrapper").css("padding-left"),10)+parseInt(a.find(".dki-authoring-content-wrapper").css("padding-right"),10);b.hasClass("align-center")?(c="50%",k=-1*((a.find("#content_"+a.data("id")).width()+l)/2)):b.hasClass("align-right")&&
(c="100%",k=-1*(a.find("#content_"+a.data("id")).width()+l));a.find(".dki-authoring-element-elements-wrapper").css({left:c,"margin-left":k,top:"0"})}};q.prototype.onWindowResize=function(){var a=this;p.checkBreakPointThreshold("breakpoint",this);$(".dki-authoring-element",this.pageContainer).each(function(){var b=function(b){var c,k;b=$(b);var l=a.getClaroElementById(b.data("id"));"marker"==$(this).data("type")&&""!=$(this).data("meta")&&(c=$(this).find(".dki-element-content").data("position"),k=
$(b).offset().left,400>$("#contentFrame").width()-k&&(0<c.indexOf("left")?c=c.replace("left","right"):-1<c.indexOf("top")?c="top-right":-1<c.indexOf("bottom")?c="bottom-right":0==c.indexOf("right")&&(c="left"),$(this).find(".dki-element-content").tooltipster("option","position",c)),400>k&&(0==c.indexOf("left")&&(c="right"),$(this).find(".dki-element-content").tooltipster("option","position",c)),c=c&&"left"==c?b.data("x")*(1-settings.percentZoom)+$("#contentFrame").offset().left:b.data("x")*(1-settings.percentZoom)+
(0-$("#contentFrame").offset().left),k=-(b.data("y")*(1-settings.percentZoom)),$(this).find(".dki-element-content").tooltipster("option","offsetX",c),$(this).find(".dki-element-content").tooltipster("option","offsetY",k));"radialGauge"==b.data("type")&&b.find(".radial").RadialGauge("resize");if("image"==b.data("type")||"video"==b.data("type"))a.setLabelWrapperPosition(b),"image"==b.data("type")&&b.data("resizeMap")&&b.data("resizeMap")();"selection"==b.data("type")&&(c=b.find(".dropdown-menu"),b.offset().top+
b.outerHeight()+c.outerHeight()>$(a.pageContainer).innerHeight()?c.parent().addClass("dropup"):c.parent().removeClass("dropup"));"matchCardSet"==b.data("type")&&b.trigger("match.resize");a.scaleElementChildren(l)};b(this);$.each($(this).find(".dki-authoring-element-element"),function(){b(this)})});$(".pageBackground:visible",this.pageContainer).each(function(){var a=$(this).data("forPage"),a=$("#"+a,this.pageContainer).width();$(this).width(a)});this.resizeSvgs();this.resizeSections();this.resizeCarousels();
this.resizeDropTargets();this.reCalculateMediaControls();this.resizeSelectionDropdowns();this.resizeTabs();setTimeout(function(){a.resizeCarousels()},250)};q.prototype.reCalculateMediaControls=function(){settings.responsive&&($(".dki-audio-element",this.pageContainer).each(function(){var a=$(this).width();143>a?($(this).find(".jp-time").css("display","none"),$(this).find(".jp-mute").css("display","none")):230>a?($(this).find(".jp-duration").css("display","none"),$(this).find(".jp-time-slash").css("display",
"none"),$(this).find(".jp-mute").css("display","none")):($(this).find(".jp-time").css("display",""),$(this).find(".jp-duration").css("display",""),$(this).find(".jp-time-slash").css("display",""),$(this).find(".jp-mute").css("display",""))}),$(".dki-video-element",this.pageContainer).each(function(){var a=$(this).width();200>a?($(this).find(".jp-time").css("display","none"),$(this).find(".jp-transcript").css("display","none"),$(this).find(".jp-cc").css("display","none"),$(this).find(".subClass").css("display",
"none")):(300>a?$(this).find(".jp-time").css("display","none"):$(this).find(".jp-time").css("display",""),$(this).find(".jp-transcript").css("display",""),$(this).find(".jp-cc").css("display",""),$(this).find(".subClass").css("display",""))}))};q.prototype.getPageTransitionTime=function(){var a=$(".dkiContentFrame.current").css("transition-duration").toLowerCase();return-1<a.indexOf("ms")?parseFloat(a):1E3*parseFloat(a)};q.prototype.destroy=function(){$.each(this.wayPoints,function(){this.destroy()});
$(".dki-capture-element",this.pageContainer).each(function(){$(this).capture("destroy")});$(".dki-matchCardSet-element .match_feedback_container.dki-stayInView",this.pageContainer).each(function(){$(this).StayInView("destroy")});$(".dki-scenario-element .dki-element-content",this.pageContainer).each(function(){$(this).Scenario("destroy")})};q.prototype.showLoader=function(){var a=$(this.pageContainer).find(".pageLoader"),b=window.outerHeight/2-$("#navbar_header").outerHeight()-15;a[0]||(a=$("\x3cdiv class\x3d'pageLoader disabler disablerWrapper' style\x3d'cursor:default;'\x3e\x3cdiv class\x3d'disabler spinner' style\x3d'display:block;top:"+
b+"px'\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(this.pageContainer));a.show()};q.prototype.hideLoader=function(){var a=$(this.pageContainer).find(".pageLoader");a[0]&&a.hide()};q.prototype.getZIndex=function(){return 0};q.prototype.jumpToGroup=function(a,b){var c=$(".dki-authoring-group[data-id\x3d'"+a+"']",this.pageContainer);c[0]&&("undefined"==typeof b?c.velocity("scroll"):setTimeout(function(){c.velocity("scroll")},b))};return q}();
DKI.ContentPage.events={resize:"PAGE_RESIZE",shown:"ELEMENT_SHOWN",hidden:"ELEMENT_HIDDEN",reset:"PAGE_RESET",ready:"PAGE_READY",loadFinished:"PAGE_LOADED",started:"PAGE_STARTED",elementDragStarted:"ELEMENT_DRAG_STARTED",elementDragStopped:"ELEMENT_DRAG_STOPPED",elementDragReverted:"ELEMENT_DRAG_REVERTED",elementDragDropped:"ELEMENT_DRAG_DROPPED",elementDropOut:"ELEMENT_DROP_OUT",elementDropOver:"ELEMENT_DROP_OVER",elementDropDropped:"ELEMENT_DROP_DROPPED",elementContentChanged:"ELEMENT_CONTENT_CHANGED",
elementContentViewed:"ELEMENT_CONTENT_VIEWED",elementAllContentViewed:"ELEMENT_ALL_CONTENT_VIEWED",inlineQuestionSubmitted:"ELEMENT_INLINE_QUESTION_SUBMITTED",markerTriggered:"ELEMENT_MARKER_TRIGGERED",actionFired:"actionFired",media:{started:"PAGE_MEDIA_STARTED",ended:"PAGE_MEDIA_ENDED",paused:"PAGE_MEDIA_PAUSED",played:"PAGE_MEDIA_PLAYED"},elementSwipeStart:"ELEMENTSWIPESTART",elementSwipeEnd:"ELEMENTSWIPEEND",captureElementInteracted:"CAPTUREELEMENTINTERACTED",flashCardSubmitted:"FLASHCARDSUBMITTED",
flashCardSetSubmitted:"FLASHCARDSETSUBMITTED",sectionBottomInView:"SECTIONBOTTOMINVIEW",scenarioOptionSelected:"SCENARIOOPTIONSELECTED",scenarioEnded:"SCENARIOENDED"};DKI.applyIf(DKI.ContentPage,{waypointDefaults:{}});DKI.StandalonePage=function(a){var c=this;this.isStandalonePage=!0;this.groups=a.page.groups;this.parameters=a.page.parameters;this.superClass=DKI.ContentPage;this.superClass.apply(this,[a]);$(this.pageContainer).find(".pageElementsWrapper").on("scroll",function(){c.onWindowScroll($(this))})};
DKI.StandalonePage.prototype=Object.create(DKI.ContentPage.prototype);DKI.StandalonePage.prototype.resize=function(){};DKI.StandalonePage.prototype.getPageTransitionTime=function(){return 0};DKI.StandalonePage.prototype.renderPage=function(){$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course,!0))};
DKI.StandalonePage.prototype.setMinHeight=function(){var a=$(this.pageContainer).find(".pageElementsWrapper")[0];this.superClass.prototype.setMinHeight.apply(this,[a,a.scrollHeight])};DKI.StandalonePage.prototype.getZIndex=function(){return parseInt($(this.pageContainer).closest(".fancybox-container").css("z-index"),10)};
function showElement(a,c){null!=a&&void 0!=a&&""!=a&&(a=a.split(","),player.contentPage.current.actionAPI.actionHandlers.show({id:null,targetElements:a,trigger:"click",parameters:{effect:c,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function setVariableText(a,c,b){$(".dki-inline-variable[data-variable-id\x3d'"+a+"']",b.pageContainer).text(c);$("textarea.dki-element-content[data-variable-id\x3d'"+a+"']",b.pageContainer).val(c);$(".dki-input-element input[data-variable-id\x3d'"+a+"']",b.pageContainer).val(c)}
function hideElement(a,c){null!=a&&void 0!=a&&""!=a&&(a=a.split(","),player.contentPage.current.actionAPI.actionHandlers.hide({id:null,targetElements:a,trigger:"click",parameters:{effect:c,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function showHideElement(a,c,b){null!=a&&void 0!=a&&""!=a&&(a=a.split(","),player.contentPage.current.actionAPI.actionHandlers.toggle({id:null,targetElements:a,trigger:"click",parameters:{showEffect:c,hideEffect:b,showEffectOptions:{direction:"",duration:1E3},hideEffectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function processHrefTarget(a,c){try{a=a.toString();var b=a.split(",");for(c=0;c<b.length;c++){var k=b[c];$("#"+k+"_wrapper").addClass("dki-event-target");$("#"+k+"_wrapper").addClass("dki-imagemap-target");$("#"+k+"_wrapper").data("eventtargets",a)}}catch(l){k=a,$("#"+k+"_wrapper").addClass("dki-event-target"),$("#"+k+"_wrapper").addClass("dki-imagemap-target"),$("#"+k+"_wrapper").data("eventtargets",a)}}
function hideAllEventElements(){$(".dki-imagemap-target").addClass("hidden");$(document).trigger("imageMapFired",{message:"All image map targets hidden."})}function processHttpEvent(a){a=$(a).data("href");window.open(a,"hrefWindow","");$(document).trigger("imageMapFired",{message:"'"+a+"' was opened in a new window"})}
function synchonizeRowHeight(a){var c=a.width(),b=[{groups:[],tallest_height:0}],k=0;a.find("\x3e .dki-authoring-group").each(function(){var a=$(this);a.find(".dki-authoring-group-elements-wrapper").css({"padding-top":"","padding-bottom":""});k+=a.width();k>c&&(b.push({groups:[],tallest_height:0}),k=a.width());a.height()>b[b.length-1].tallest_height&&(b[b.length-1].tallest_height=a.height());b[b.length-1].groups.push(a)});$.each(b,function(){var b=this;$.each(b.groups,function(){var c=parseInt(a.data("vertical-align"),
10)/100,c={"padding-top":(b.tallest_height-this.height())*c+parseInt(this.css("padding-top").replace("px",""),10)};c["padding-bottom"]=b.tallest_height-(this.height()+c["padding-top"]);this.find(".dki-authoring-group-elements-wrapper").css(c)})})}jQuery.fn.extend({capture:function(a,c){var b=$(this).data("cap");if(b){if(b[a])return b[a].apply(b,c);$(this).hasClass("dki-capture-element")&&"goToStep"===a&&(a=$($(this).find(".step").get(c[0]-1)),a[0]&&a.velocity("scroll",{duration:200,offset:-75}))}}});
DKI||(DKI={});
DKI.Scene=function(){var a=function(){var a=this;(new DKI.disabler({text:a.strings.clickToShow,onClick:function(c){c.hide();$(".pageElementsWrapper",a.pageContainer).append(a.narrationElement);a.mousePointer.show();b.stepForward.call(a)}})).show()},c=function(){var a=this;(new DKI.disabler({text:a.strings.clickToTry,onClick:function(c){c.hide();b.stepForward.call(a);$(".dki-hotspot-element",a.pageContainer).on("click",function(){b.stepForward.call(a)});$(".pageElementsWrapper",a.pageContainer).append(a.narrationElement)}})).show()},b=
{start:function(){this.groups.hide();this.page.start();"show"==this.parameters.scene.type?a.call(this):c.call(this)},reset:function(a){a=DKI.applyIf(a,{timeout:0});var b=this,c=function(){b.currentGroup=null;b.currentGroupIndex=-1;b.highlightInterval&&clearInterval(b.highlightInterval);a.timeout=0;b.page.reset(a)};0<a.timeout?setTimeout(c,a.timeout):c()},onWindowResize:function(){this.page.onWindowResize()},stepForward:function(){var a=this;this.highlightInterval&&clearInterval(this.highlightInterval);
this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex++;if(this.currentGroupIndex>=this.groups.length)this.currentGroup=null,this.currentGroupIndex=-1,this.mousePointer.hide(),contentApi.contentGoNext();else{this.currentGroup=$(this.groups[this.currentGroupIndex]);this.currentGroup.show();var c=$(".dki-hotspot-element",this.currentGroup);if("try"==this.parameters.scene.type)c.length?this.highlightInterval=setInterval(function(){c.effect("highlight",{},1500)},3500):b.stepForward.call(this);
else{var k=function(){if(c.length){this.mousePointer.show();var b={left:parseInt(c.css("left").split("px")[0],10),top:parseInt(c.css("top").split("px")[0],10)};b.top+=c.height()/2;b.left+=c.width()/2;this.mousePointer.animate(b,a.parameters.scene.stepDuration-1500,function(){c.effect("highlight",{color:"#FFCC66"},1500)})}};c.length||this.mousePointer.hide();var q=$(".dki-audio-element[data-narration\x3d1] .dki-element-content",this.currentGroup);if(q.length){var h=function(c){setTimeout(function(){b.stepForward.call(a)},
500);q.off($.jPlayer.event.ended,h)},n=function(b){k.call(a);q.off($.jPlayer.event.play,n)};q.on($.jPlayer.event.ended,h);q.on($.jPlayer.event.play,n)}else k.call(a),setTimeout(function(){b.stepForward.call(a)},a.parameters.scene.stepDuration)}}},stepBack:function(){this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex--; -1==this.currentGroupIndex?(this.currentGroup=null,this.currentGroupIndex=-1):(this.currentGroup=$(this.groups[this.currentGroupIndex]),this.currentGroup.show())}},
k=function(a,b){var c=this;this.player=a;this.strings={clickToShow:"Click to start the simulation.",clickToTry:"Click to try the simulation."};this.page=b;this.parameters=b.page.parameters;DKI.applyIf(this.parameters,{scene:{stepDuration:2500}});this.behaviour=this.player.behaviour;this.inReview=this.player.inReview;this.settings=this.player.settings;this.pageContainer=this.page.pageContainer;this.mousePointer=$("\x3cdiv class\x3d'scene-mouse-pointer'\x3e\x3c/div\x3e");$(".pageElementsWrapper",this.pageContainer).append(this.mousePointer);
this.groups=$(".dki-authoring-group",this.pageContainer);this.currentGroup=null;this.currentGroupIndex=-1;this.highlightInterval=null;$.each(this.page,function(a){"undefined"==typeof c[a]&&DKI.isFunction(this)&&(c[a]=$.proxy(c.page[a],c.page))})};DKI.applyIf(k.prototype,b);return k}();DKI.Scene.events={finished:"SCENE_FINISHED",started:"SCENE_STARTED"};
(function(a){function c(a,b,c,h){c=null!=c?c:b;for(var k in a)a.hasOwnProperty(k)&&(c[k]=l.rewrite(k,a,b,h));return b}function b(a){return"[object Function]"===x.call(a)}var k=!1,l,p="_Class"+(new Date).getTime()+"_",m="_"+p+"_",q="_"+m+"_",h=/\b_parent\b/.test(function(){this._parent()}),n=h?/\b_parent\b/:/.*/,t=h?/\b_parent\b\./:/.*/,y=RegExp.prototype.test,x=Object.prototype.toString,z=function(){function a(c){if(this instanceof a)!1===k&&b(this.init)&&this.init.apply(this,"object"===typeof c&&
null!==c&&c.callee?c:arguments);else return new a(arguments)}a[m]=!0;return a},r=z();r.extend=function(a,b){var h=z(),n,m=this,p,r=m.prototype;"boolean"!==typeof a&&(b=a);b="object"===typeof b&&null!==b?b:{};p=b.prototype;for(n in m)m.hasOwnProperty(n)&&(h[n]=m[n]);if(!0===a||"object"===typeof p&&null!=p)c(b,m,h,l.initPopulator(m)),b=p;h.constructor=h;k=!0;p=new m;k=!1;b=b||{};c(b,r,p,l.initPopulator(r));h.prototype=p;h.prototype.constructor=h;h.inherits=function(a){return a===m||m.inherits(a)};return h};
r.addMethods=function(a){return c(a,this.prototype)};r.inherits=function(){return!1};r.prototype={addMethods:function(a){return c(a,this)}};t.test=function(a){return y.call(t,a)||!0===a[q]};l=function(a,b){return r.extend(a,b)};l.fnSearch=n;l.parentFnSearch=t;l.log_prefix="_Class";l.errors={logic_parent_call:"Logic error, unable to call the parent function since it isn't defined..",invalid_$:"Invalid data-type of the global '$' property"};l.makeClass=z;l.rewrite=function(a,c,h,k){return!b(c[a])||
!b(h[a])&&a in h||l.is(c[a])||!n.test(c[a])?c[a]:function(a,c,h){c||(c=function(){throw l.log_prefix+l.errors.logic_parent_call;});var k=!(!b(h)||!t.test(a)),n=function(){var b="_parent"in this,l=this._parent,n;if(!0===k){k=!1;n=h();for(var m in n)n.hasOwnProperty(m)&&(c[m]=n[m])}this._parent=c;this._parent[p]=this;n=a.apply(this,arguments);if(b)this._parent=l;else try{delete this._parent}catch(r){}return n};n[q]=k;return n}(c[a],h[a],k)};l.is=function(a){return!(!a||!0!==a[m])};l.initPopulator=function(a){var c;
return function(){if(null==c){c={};for(var h in a)b(a[h])&&(c[h]=function(a){return function(){return a.apply(this[p],arguments)}}(a[h]))}return c}};if(!a.$){if("$"in a)throw l.log_prefix+l.errors.invalid_$;a.$={}}a.$.Class=l})(this);
!function(){var a=function(c){var b=new a.Index;return b.pipeline.add(a.trimmer,a.stopWordFilter,a.stemmer),c&&c.call(b,b),b};a.version="0.5.4";a.utils={};a.utils.warn=function(a){return function(a){}}(this);a.EventEmitter=function(){this.events={}};a.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),b=a.pop();if("function"!=typeof b)throw new TypeError("last argument must be a function");a.forEach(function(a){this.hasHandler(a)||(this.events[a]=[]);this.events[a].push(b)},
this)};a.EventEmitter.prototype.removeListener=function(a,b){this.hasHandler(a)&&(b=this.events[a].indexOf(b),this.events[a].splice(b,1),this.events[a].length||delete this.events[a])};a.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var b=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(a){a.apply(void 0,b)})}};a.EventEmitter.prototype.hasHandler=function(a){return a in this.events};a.tokenizer=function(a){if(!arguments.length||null==a||void 0==a)return[];if(Array.isArray(a))return a.map(function(a){return a.toLowerCase()});
for(var b=a.toString().replace(/^\s+/,""),k=b.length-1;0<=k;k--)if(/\S/.test(b.charAt(k))){b=b.substring(0,k+1);break}return b.split(/(?:\s+|\-)/).map(function(a){return a.toLowerCase()})};a.Pipeline=function(){this._stack=[]};a.Pipeline.registeredFunctions={};a.Pipeline.registerFunction=function(c,b){b in this.registeredFunctions&&a.utils.warn("Overwriting existing registered function: "+b);c.label=b;a.Pipeline.registeredFunctions[c.label]=c};a.Pipeline.warnIfFunctionNotRegistered=function(c){c.label&&
c.label in this.registeredFunctions||a.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",c)};a.Pipeline.load=function(c){var b=new a.Pipeline;return c.forEach(function(c){var l=a.Pipeline.registeredFunctions[c];if(!l)throw Error("Cannot load un-registered function: "+c);b.add(l)}),b};a.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(c){a.Pipeline.warnIfFunctionNotRegistered(c);this._stack.push(c)},
this)};a.Pipeline.prototype.after=function(c,b){a.Pipeline.warnIfFunctionNotRegistered(b);c=this._stack.indexOf(c)+1;this._stack.splice(c,0,b)};a.Pipeline.prototype.before=function(c,b){a.Pipeline.warnIfFunctionNotRegistered(b);c=this._stack.indexOf(c);this._stack.splice(c,0,b)};a.Pipeline.prototype.remove=function(a){a=this._stack.indexOf(a);this._stack.splice(a,1)};a.Pipeline.prototype.run=function(a){for(var b=[],k=a.length,l=this._stack.length,p=0;k>p;p++){for(var m=a[p],q=0;l>q&&(m=this._stack[q](m,
p,a),void 0!==m);q++);void 0!==m&&b.push(m)}return b};a.Pipeline.prototype.reset=function(){this._stack=[]};a.Pipeline.prototype.toJSON=function(){return this._stack.map(function(c){return a.Pipeline.warnIfFunctionNotRegistered(c),c.label})};a.Vector=function(){this._magnitude=null;this.list=void 0;this.length=0};a.Vector.Node=function(a,b,k){this.idx=a;this.val=b;this.next=k};a.Vector.prototype.insert=function(c,b){var k=this.list;if(!k)return this.list=new a.Vector.Node(c,b,k),this.length++;for(var l=
k,k=k.next;void 0!=k&&!(c<k.idx);)l=k,k=k.next;return l.next=new a.Vector.Node(c,b,k),this.length++};a.Vector.prototype.magnitude=function(){if(this._magniture)return this._magnitude;for(var a,b=this.list,k=0;b;)a=b.val,k+=a*a,b=b.next;return this._magnitude=Math.sqrt(k)};a.Vector.prototype.dot=function(a){var b=this.list;a=a.list;for(var k=0;b&&a;)b.idx<a.idx?b=b.next:b.idx>a.idx?a=a.next:(k+=b.val*a.val,b=b.next,a=a.next);return k};a.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*
a.magnitude())};a.SortedSet=function(){this.length=0;this.elements=[]};a.SortedSet.load=function(a){var b=new this;return b.elements=a,b.length=a.length,b};a.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){~this.indexOf(a)||this.elements.splice(this.locationFor(a),0,a)},this);this.length=this.elements.length};a.SortedSet.prototype.toArray=function(){return this.elements.slice()};a.SortedSet.prototype.map=function(a,b){return this.elements.map(a,b)};a.SortedSet.prototype.forEach=
function(a,b){return this.elements.forEach(a,b)};a.SortedSet.prototype.indexOf=function(a,b,k){b=b||0;k=k||this.elements.length;var l=k-b,p=b+Math.floor(l/2),m=this.elements[p];return 1>=l?m===a?p:-1:a>m?this.indexOf(a,p,k):m>a?this.indexOf(a,b,p):m===a?p:void 0};a.SortedSet.prototype.locationFor=function(a,b,k){b=b||0;k=k||this.elements.length;var l=k-b,p=b+Math.floor(l/2),m=this.elements[p];if(1>=l){if(m>a)return p;if(a>m)return p+1}return a>m?this.locationFor(a,p,k):m>a?this.locationFor(a,b,p):
void 0};a.SortedSet.prototype.intersect=function(c){var b=new a.SortedSet,k=0,l=0,p=this.length,m=c.length,q=this.elements;for(c=c.elements;!(k>p-1||l>m-1);)q[k]!==c[l]?q[k]<c[l]?k++:q[k]>c[l]&&l++:(b.add(q[k]),k++,l++);return b};a.SortedSet.prototype.clone=function(){var c=new a.SortedSet;return c.elements=this.toArray(),c.length=c.elements.length,c};a.SortedSet.prototype.union=function(a){var b,k,l;return this.length>=a.length?(b=this,k=a):(b=a,k=this),l=b.clone(),l.add.apply(l,k.toArray()),l};
a.SortedSet.prototype.toJSON=function(){return this.toArray()};a.Index=function(){this._fields=[];this._ref="id";this.pipeline=new a.Pipeline;this.documentStore=new a.Store;this.tokenStore=new a.TokenStore;this.corpusTokens=new a.SortedSet;this.eventEmitter=new a.EventEmitter;this._idfCache={};this.on("add","remove","update",function(){this._idfCache={}}.bind(this))};a.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,
a)};a.Index.prototype.off=function(a,b){return this.eventEmitter.removeListener(a,b)};a.Index.load=function(c){c.version!==a.version&&a.utils.warn("version mismatch: current "+a.version+" importing "+c.version);var b=new this;return b._fields=c.fields,b._ref=c.ref,b.documentStore=a.Store.load(c.documentStore),b.tokenStore=a.TokenStore.load(c.tokenStore),b.corpusTokens=a.SortedSet.load(c.corpusTokens),b.pipeline=a.Pipeline.load(c.pipeline),b};a.Index.prototype.field=function(a,b){b=b||{};return this._fields.push({name:a,
boost:b.boost||1}),this};a.Index.prototype.ref=function(a){return this._ref=a,this};a.Index.prototype.add=function(c,b){var k={},l=new a.SortedSet,p=c[this._ref];b=void 0===b?!0:b;this._fields.forEach(function(b){var h=this.pipeline.run(a.tokenizer(c[b.name]));k[b.name]=h;a.SortedSet.prototype.add.apply(l,h)},this);this.documentStore.set(p,l);a.SortedSet.prototype.add.apply(this.corpusTokens,l.toArray());for(var m=0;m<l.length;m++){var q=l.elements[m],h=this._fields.reduce(function(a,b){var c=k[b.name].length;
if(!c)return a;var h=k[b.name].filter(function(a){return a===q}).length;return a+h/c*b.boost},0);this.tokenStore.add(q,{ref:p,tf:h})}b&&this.eventEmitter.emit("add",c,this)};a.Index.prototype.remove=function(a,b){var k=a[this._ref];b=void 0===b?!0:b;if(this.documentStore.has(k)){var l=this.documentStore.get(k);this.documentStore.remove(k);l.forEach(function(a){this.tokenStore.remove(a,k)},this);b&&this.eventEmitter.emit("remove",a,this)}};a.Index.prototype.update=function(a,b){b=void 0===b?!0:b;this.remove(a,
!1);this.add(a,!1);b&&this.eventEmitter.emit("update",a,this)};a.Index.prototype.idf=function(a){var b="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,b))return this._idfCache[b];a=this.tokenStore.count(a);var k=1;return 0<a&&(k=1+Math.log(this.tokenStore.length/a)),this._idfCache[b]=k};a.Index.prototype.search=function(c){c=this.pipeline.run(a.tokenizer(c));var b=new a.Vector,k=[],l=this._fields.reduce(function(a,b){return a+b.boost},0);if(!c.some(function(a){return this.tokenStore.has(a)},
this))return[];c.forEach(function(c,m,q){var h=1/q.length*this._fields.length*l,n=this;m=this.tokenStore.expand(c).reduce(function(k,l){var m=n.corpusTokens.indexOf(l),q=n.idf(l),r=1,C=new a.SortedSet;l!==c&&(r=1/Math.log(Math.max(3,l.length-c.length)));return-1<m&&b.insert(m,h*q*r),Object.keys(n.tokenStore.get(l)).forEach(function(a){C.add(a)}),k.union(C)},new a.SortedSet);k.push(m)},this);return k.reduce(function(a,b){return a.intersect(b)}).map(function(a){return{ref:a,score:b.similarity(this.documentVector(a))}},
this).sort(function(a,b){return b.score-a.score})};a.Index.prototype.documentVector=function(c){for(var b=this.documentStore.get(c),k=b.length,l=new a.Vector,p=0;k>p;p++){var m=b.elements[p],q=this.tokenStore.get(m)[c].tf,h=this.idf(m);l.insert(this.corpusTokens.indexOf(m),q*h)}return l};a.Index.prototype.toJSON=function(){return{version:a.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),
pipeline:this.pipeline.toJSON()}};a.Index.prototype.use=function(a){var b=Array.prototype.slice.call(arguments,1);b.unshift(this);a.apply(this,b)};a.Store=function(){this.store={};this.length=0};a.Store.load=function(c){var b=new this;return b.length=c.length,b.store=Object.keys(c.store).reduce(function(b,l){return b[l]=a.SortedSet.load(c.store[l]),b},{}),b};a.Store.prototype.set=function(a,b){this.store[a]=b;this.length=Object.keys(this.store).length};a.Store.prototype.get=function(a){return this.store[a]};
a.Store.prototype.has=function(a){return a in this.store};a.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)};a.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}};a.stemmer=function(){var a={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},
b={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};return function(k){var l,p,m,q,h,n;if(3>k.length)return k;if(m=k.substr(0,1),"y"==m&&(k=m.toUpperCase()+k.substr(1)),q=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,q.test(k)?k=k.replace(q,"$1$2"):p.test(k)&&(k=k.replace(p,"$1$2")),q=/^(.+?)eed$/,p=/^(.+?)(ed|ing)$/,q.test(k)){var t=q.exec(k);q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;q.test(t[1])&&(q=/.$/,k=k.replace(q,""))}else p.test(k)&&(t=p.exec(k),l=t[1],p=/^([^aeiou][^aeiouy]*)?[aeiouy]/,
p.test(l)&&(k=l,p=/(at|bl|iz)$/,h=/([^aeiouylsz])\1$/,n=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,p.test(k)?k+="e":h.test(k)?(q=/.$/,k=k.replace(q,"")):n.test(k)&&(k+="e")));if(q=/^(.+?[^aeiou])y$/,q.test(k))t=q.exec(k),l=t[1],k=l+"i";if(q=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,q.test(k))t=q.exec(k),l=t[1],p=t[2],q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,q.test(l)&&(k=l+a[p]);if(q=
/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,q.test(k))t=q.exec(k),l=t[1],p=t[2],q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,q.test(l)&&(k=l+b[p]);(q=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,p=/^(.+?)(s|t)(ion)$/,q.test(k))?(t=q.exec(k),l=t[1],q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,q.test(l)&&(k=l)):p.test(k)&&(t=p.exec(k),l=t[1]+t[2],p=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
p.test(l)&&(k=l));if(q=/^(.+?)e$/,q.test(k))t=q.exec(k),l=t[1],q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,p=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,h=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,(q.test(l)||p.test(l)&&!h.test(l))&&(k=l);return q=/ll$/,p=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,q.test(k)&&p.test(k)&&(q=/.$/,k=k.replace(q,"")),"y"==m&&(k=m.toLowerCase()+
k.substr(1)),k}}();a.Pipeline.registerFunction(a.stemmer,"stemmer");a.stopWordFilter=function(c){return-1===a.stopWordFilter.stopWords.indexOf(c)?c:void 0};a.stopWordFilter.stopWords=new a.SortedSet;a.stopWordFilter.stopWords.length=119;a.stopWordFilter.stopWords.elements=" a able about across after all almost also am among an and any are as at be because been but by can cannot could dear did do does either else ever every for from get got had has have he her hers him his how however i if in into is it its just least let like likely may me might most must my neither no nor not of off often on only or other our own rather said say says she should since so some than that the their them then there these they this tis to too twas us wants was we were what when where which while who whom why will with would yet you your".split(" ");
a.Pipeline.registerFunction(a.stopWordFilter,"stopWordFilter");a.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")};a.Pipeline.registerFunction(a.trimmer,"trimmer");a.TokenStore=function(){this.root={docs:{}};this.length=0};a.TokenStore.load=function(a){var b=new this;return b.root=a.root,b.length=a.length,b};a.TokenStore.prototype.add=function(a,b,k){k=k||this.root;var l=a[0];a=a.slice(1);return l in k||(k[l]={docs:{}}),0===a.length?(k[l].docs[b.ref]=b,void(this.length+=1)):this.add(a,
b,k[l])};a.TokenStore.prototype.has=function(a){if(!a)return!1;for(var b=this.root,k=0;k<a.length;k++){if(!b[a[k]])return!1;b=b[a[k]]}return!0};a.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var b=this.root,k=0;k<a.length;k++){if(!b[a[k]])return{};b=b[a[k]]}return b};a.TokenStore.prototype.get=function(a,b){return this.getNode(a,b).docs||{}};a.TokenStore.prototype.count=function(a,b){return Object.keys(this.get(a,b)).length};a.TokenStore.prototype.remove=function(a,b){if(a){for(var k=
this.root,l=0;l<a.length;l++){if(!(a[l]in k))return;k=k[a[l]]}delete k.docs[b]}};a.TokenStore.prototype.expand=function(a,b){var k=this.getNode(a),l=k.docs||{};b=b||[];return Object.keys(l).length&&b.push(a),Object.keys(k).forEach(function(k){"docs"!==k&&b.concat(this.expand(a+k,b))},this),b};a.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}};(function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.lunr=b()})(this,
function(){return a})}();DKI||(DKI={});
DKI.EndModule=function(){var a,c,b,k,l,p,m,q,h,n,t,y=Handlebars.compile(DKI.templates.endScreenTestItem),x,z=function(){objects={};if(showScore=h&&k.showObjectTestSummary)$.each(h.answered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:b.findObject(this.objectid),showScore:k.showObjectTestSummary});objects[this.objectid].questions.push(this)}),$.each(h.unanswered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:b.findObject(this.objectid),
showScore:k.showObjectTestSummary});this.points=0;objects[this.objectid].questions.push(this)});$.each(l.objects,function(a,b){objects[this.objectid]||(a=this.subeos.reduce(function(a,b){return a+(b.complete?1:0)},0)/this.subeos.length*100,a={completion:a,isComplete:100==a,object:this},k.showObjectTestSummary&&0<this.questions.length&&this.testing&&(a.showScore=!0,a.questions=this.questions),objects[this.objectid]=a)});var a=[];$.each(objects,function(){a.push(this)});a.sort(function(a,b){return a.object.eoorder-
b.object.eoorder});return a},r=function(){t.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),t.flickity(flickConfig).attr("tabindex","-1"))},C=function(){return t.find(".objectTestItem").toArray().reduce(function(a,b){return a+$(b).outerWidth()},0)},A=DKI.func.debounce(function(){C()>t.width()||768>=window.innerWidth?(r(),t.flickity("resize")):t.data("flickity")&&t.flickity("destroy");t.find(".testItemContentContainer").each(function(){var a=
$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>a||124>$(this).find(".radial").width())a=Math.min(a-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",a).parent().css({height:a,width:a})})},50),w=function(){requireFns.getFlickity($.proxy(function(){var a=t;$.each(z(),function(b,k){b={strings:DKI.strings,responsive:settings.responsive,object:{name:k.object.name,linkSubeoId:""}};var l=k.completion;
if(k.showScore){var n=0,p=0;$.each(k.questions,function(){n+=this.weight;this.points&&(p+=this.points)});b.object.score=Math.floor(p/n*100);b.object.totalWeight=n;b.object.points=parseFloat(p.toFixed(1),10);b.forTesting=!0;l=b.object.score}else b.isComplete=k.isComplete,b.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+k.completion+"%";0<k.object.subeos.length&&!c&&(b.object.linkSubeoId=k.object.subeos[0].subeoid);b.strings=m;b=$(y(b));a.append(b);var r=b.find(".radial");r.RadialGauge({width:124,
asPercent:!0});r.RadialGauge("resize");h&&2!=k.object.testing||k.completion?r.data("setValue",$.proxy(function(){r.RadialGauge("setRotation",l)},this)):r.RadialGauge("setText","N/A");flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1,adaptiveHeight:!0};$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0)});(C()>a.width()||768>=window.innerWidth)&&r();if(settings.responsive)$(window).off("resize",A).on("resize",A);A();setTimeout(function(){$(".radial",t).each(function(){$(this).data("setValue")&&
$(this).data("setValue")()})},100)},this))};return{init:function(n,p){a=n;b=a.dataStorage;c=a.course.testonly;k=a.behaviour;m=n.strings;a.inAssessment||a.inReview?(h=b.assessment,a.inReview&&(h=h.test),q=b.assessment.prepost,l=h.module):(q="content",l=b.currentModule,h=l.lastAssessment?l.lastAssessment:null);p&&(n=Handlebars.compile(DKI.templates.endModule)({strings:DKI.strings,module:l,responsive:settings.responsive}),$(p).html(n));$(document).trigger(DKI.EndModule.events.ready)},start:function(){a.stopContentTimer(!0);
var r=a.pageFrames.current,y=l.passing_mark&&""!=l.passing_mark?l.passing_mark:a.course.passmark,z,C,A;x=$(".endScreen",r);$(".status",r);z=$(".endMod_revisitLink",r);C=$(".endMod_reviewLink",r);t=$("#endMod_testScoreDetails",r);$(document).trigger(DKI.ContentPage.events.resize,a.settings.courseHeight);n=$(".endMod_testingLink",r);C.hide();z.find("a").on(settings.clickEvent,function(){a.jumpToModule(l)});p=b.getModuleCompletion(l);A="content"===q?b.getModuleScoringDetails(l):{score:h.getScore(),points:h.getPoints(),
weight:h.getWeight()};b.moduleHasTest(l)&&0!=b.remainingPostAttempts(l)&&k.enablePostTest?"pre"!==q&&0<b.remainingPostAttempts(l)&&(l.post&&0<l.post.attempts&&n.find("a").text(m.retakeTest),n.find("a").removeClass("disabled"),n.find("a").on(settings.clickEvent,function(){n.find("a").off(settings.clickEvent);a.launchTest(l.loid,"post")})):n.hide();if(h&&("pre"==h.prepost&&k.enablePreTestReview||"post"==h.prepost&&k.enablePostTestReview)){C.find("a").on(settings.clickEvent,function(){if($(this).hasClass("disabled"))return!1;
a.launchReview(h)});C.show();settings.responsive&&n.removeClass("col-xs-12").addClass("col-xs-6");var G=A.score>=y;if("pre"==h.prepost){var L=playerBehaviour.reviewPreLimit;L&&!G&&C.find("a").addClass("disabled")}"post"==h.prepost&&(L=playerBehaviour.reviewPostLimit)&&!G&&C.find("a").addClass("disabled")}$("#endMod_moduleName",r).text(l.name);$(".endMod_learningLink",r).on(settings.clickEvent,function(){a.resume("pre"===q)});c?($("#endMod_learningLine",r).hide(),z.hide()):$("#endMod_learningStatus",
r).text(Math.floor(p)+" %");isNaN(parseInt(A.score,"10"))?($("#endMod_testScore",r).text(m.txtNotAvailableShort),$("#endMod_testPoints",r).text(""),$("#endMod_scoreLine",r).hide(),$("#endMod_learningStatus_container").removeClass("squareSide"),$(".passCont",r).attr("tab-index","-1")):($("#endMod_testScore",r).html(Math.floor(A.score)+" %"),$("#endMod_testPoints",r).html(" ("+parseFloat(A.points,10)+" / "+A.weight+" "+m.txtPoints+")"),k.displayPass&&k.passModules&&0<A.weight&&(z=A.score>=y?m.passText:
m.failText,C=A.score>=y?"pass":"fail",x.addClass("showPassing"),$(".passCont",r).addClass(C),$(".endMod_passingScore",r).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(y)+"%"),$(".endMod_passStatus",r).text(z),$(".endMod_testScore",r).text(Math.floor(A.score)+"%")),$("#endMod_learningStatus_container").addClass("squareSide"),$("#endMod_scoreLine").addClass("squareSide"));w();t.on(settings.clickEvent,".subeoLink",function(){var a=$(this).data("subeoid");contentApi.jumpToSubeo(a)});c&&t.find(".subeoLink").remove();
$(r).removeClass($(r).data("current_player_background")).addClass("player_background_summary").data("current_player_background","player_background_summary");$(document).trigger(DKI.EndModule.events.started)},destroy:function(){$(window).off("resize",A);if(t&&t.data("flickity"))try{t.flickity("destroy")}catch(a){}}}}();DKI.EndModule.events={ready:"END_MODULE_READY",started:"END_MODULE_STARTED"};DKI||(DKI={});
DKI.EndTest=function(){var a,c,b,k,l,p,m,q,h;return{init:function(b,t){a=b.course;c=b.dataStorage;k=c.assessment;p=b.behaviour;l=k.module.name;h=b;$("#endTest_moduleName",t).text(l);$("#endTest_learningLink",t).on(settings.clickEvent,function(){b.resume()});$("#endTest_reviewLink",t).on(settings.clickEvent,function(){b.launchReview(k)});$("#endTest_revisitLink",t).on(settings.clickEvent,function(){b.jumpToModule(k.module)});q=$("#endTest_retakeTest",t).on(settings.clickEvent,function(){b.launchTest(k.module,
"post")});m=b.strings;$(document).trigger(DKI.EndTest.events.ready)},start:function(){var l,t;l=k.module;var y=$(".status",void 0),x=l.passMark?l.passMark:h.course.passMark;$(document).trigger(DKI.ContentPage.events.resize,h.settings.courseHeight);(a.testonly||"pre"===k.prepost)&&$("#endTest_revisitLink",void 0).css("display","none");"pre"===k.prepost?q.css("display","none"):0===c.remainingPostAttempts(k.module)&&q.unbind().addClass("disabled");b=c.getAssessmentScoringDetails();$("#endTest_testScore",
void 0).text(Math.floor(b.score)+"% ("+b.points+"/"+b.weight+" "+m.txtPoints+")");("pre"==k.prepost&&p.enablePreTestReview||"post"==k.prepost&&p.enablePostTestReview)&&$("#endTest_reviewLink",void 0).css("display","");p.displayPass&&p.passModules&&(l=b.score>=x?m.passText:m.failText,t=b.score>=x?"pass":"fail",y.addClass("showPassing"),$(".endMod_passingScore",void 0).text(x+"%"),$(".endMod_passStatus",void 0).text(" - "+l+" - ").addClass(t),$("#endTest_testScore",void 0).removeClass("dki-themeTextColor").addClass(t));
$(document).trigger(DKI.EndTest.events.started)}}}();DKI.EndTest.events={ready:"END_TEST_READY",started:"END_TEST_STARTED"};DKI||(DKI={});
DKI.EndCourse=function(){var a,c,b,k,l,p,m,q,h,n,t,y,x,z,r=Handlebars.compile(DKI.templates.CourseEndScreenTestItem),C,A,w=function(){C.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1,adaptiveHeight:!0},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),C.flickity(flickConfig).attr("tabindex","-1"))},B=function(){return C.find(".objectTestItem").toArray().reduce(function(a,b){return a+$(b).outerWidth()},0)},E=DKI.func.debounce(function(){B()>C.width()||
768>=window.innerWidth?(C.removeClass("flex flexrow"),w(),C.flickity("resize")):C.data("flickity")&&(C.flickity("destroy"),C.addClass("flex flexrow"));C.find(".testItemContentContainer").each(function(){var a=$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>a||124>$(this).find(".radial").width())a=Math.min(a-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",a).parent().css({height:a,width:a})})},
50),D=function(){var a={};$.each(c.modulesWithTesting(),function(){var h=c.getModuleScoringDetails(this);a[this.loid]={module:this,showScore:!0};null===h.score?a[this.loid].text=" \x26nbsp;":(a[this.loid].score=Math.floor(h.score),a[this.loid].points=h.points,a[this.loid].weight=h.weight);null!==h.passMark&&(h.score<h.passMark||null===h.score)&&(a[this.loid].failed=!0,b.displayPass&&(a[this.loid].passMark=DKI.strings.endMod.passingScoreLabel+" "+h.passMark+"%"));0<h.weight||null===h.weight?(a[this.loid].attempts=
c.remainingPostAttempts(this),a[this.loid].retakeText=this.pre||this.post?DKI.strings.endTest.retakeTestButton:y.txtTakeTest,0<a[this.loid].attempts&&(a[this.loid].showRetake=!0)):(a[this.loid].noAttempts=!0,a[this.loid].attempts=y.txtNotAvailableShort)});$.each(c.courseStructure.modules,function(){if(!a[this.loid]){var b=this.objects.reduce(function(a,b){return a+(b.complete?1:0)},0)/this.objects.length*100;a[this.loid]={module:this,completion:b,isComplete:100==b}}});var h=[];$.each(a,function(){h.push(this)});
h.sort(function(a,b){return a.module.loorder-b.module.loorder});return h},F=function(){requireFns.getFlickity($.proxy(function(){var a=D();$.each(a,function(){void 0!==this.weight&&(this.showWeight=!0);playerBehaviour.passModules&&this.failed&&(this.requiresPass=!0,b.displayPass&&(this.showPass=!0));this.responsive=settings.responsive;this.strings=DKI.strings;var a=this.completion;this.showScore?a=this.score:this.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+this.completion+"%";var c=$(r(this));
!this.noAttempts&&this.showScore||c.find(".retake").remove();C.append(c);var h=c.find(".radial");h.RadialGauge({width:124,asPercent:!0});h.RadialGauge("resize");this.text?h.RadialGauge("setText",this.text):h.data("setValue",$.proxy(function(){h.RadialGauge("setRotation",a)},this));this.showScore&&b.displayPass?h.addClass("fill-"+(this.failed?"fail":"pass")):h.addClass("fill-primary")});$(".objectTestItem",x).delegate(".retake",settings.clickEvent,function(){q.launchTest($(this).attr("data-moduleid"),
"post")});$(".objectTestItem",x).delegate(".view",settings.clickEvent,function(){q.jumpToModule($(this).data("moduleid"))});takeTestLink.on(q.settings.clickEvent,function(){q.launchTest($(this).attr("data-moduleid"),"post")});B()>C.width()||768>=window.innerWidth?(C.removeClass("flex flexrow"),w()):C.addClass("flex flexrow");if(settings.responsive)$(window).off("resize",E).on("resize",E);E();setTimeout(function(){$(".radial",C).each(function(){$(this).data("setValue")&&$(this).data("setValue")()})},
100)},this))};return{init:function(a,h){c=a.dataStorage;m=a.course;b=a.behaviour;k=c.currentModule;q=a;y=a.strings;if(x=h)a=Handlebars.compile(DKI.templates.endCourse)({strings:DKI.strings,course:m,responsive:settings.responsive}),$(h).html(a);$(document).trigger(DKI.EndCourse.events.ready)},start:function(){var r,w;$(document).trigger(DKI.ContentPage.events.resize,q.settings.courseHeight);z=$("#endCourse_bibliographyLink a",x);a=$("#endCourse_certificateLink a",x);h=$("#endCourse_testing",x);takeTestLink=
$("#endCourse_takeTestLink a");C=$("#endCourse_testScoreDetails");$("div",h[0]);l=c.getCourseScoringDetails();p=c.getCourseCompletion();c.remainingPostAttempts(k);A=$(".endScreen",x);b.displayPass&&0<l.weight&&A.addClass("showPassing");b.enablePostTest?F():h.hide();m.testonly&&($("#endCourse_learningLine",x).hide(),$("#testingLine").removeClass("squareSide"));isNaN(parseInt(p,10))&&($("#endCourse_learningLine",x).hide(),$("#testingLine").removeClass("squareSide"));!isNaN(parseInt(l.score,10))&&c.hasTesting()&&
(b.enablePreTest||b.enablePostTest)&&(n=$(".endCourse_testScore",x),t=$(".endCourse_passStatus",x),n.html(Math.floor(l.score)+"%"),n.text(Math.floor(l.score)+"%"),b.displayPass&&0<l.weight?($(".objectTestItem.requiresPass",x)[0]&&playerBehaviour.passModules?$(".endCourse_passingScore",x).remove():$(".endCourse_passingScore",x).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(c.courseStructure.passmark)+"%"),"passed"===c.lessonStatus?($(".passCont",x).addClass("pass"),r=y.passText,""!==m.passText&&
(r=m.passText),w="pass"):"failed"===c.lessonStatus?($(".passCont",x).addClass("fail"),r=y.failText,""!==m.failText&&(r=m.failText),w="fail"):($(".passCont",x).addClass("incomplete"),r=y.incompleteText,w="incomplete",n.remove()),t.text(r).addClass(w),$(".endScreen",x).addClass("showStatusText")):($(".endMod_passingScore",x).remove(),$(".endMod_passStatus",x).remove(),$(".passCont",x).attr("tabindex","-1")));b.completionCertificate&&($(".endScreen",x).addClass("showCertificate"),a.attr("tabindex","-1"));
b.showBibliography&&DKI.reference.courseHasReferences()&&($(".endScreen",x).addClass("showBibliography"),z.on(q.settings.clickEvent,function(){DKI.reference.showBibliography()}));if("complete"===c.lessonStatus||"passed"===c.lessonStatus)a.removeClass("disabled").attr("tabindex","1"),a.on(settings.clickEvent,function(){q.loadCertificate()});$("#endCourse_testLink",x).on(settings.clickEvent,function(){this.contentFrame.attr("src",this.settings.endCourseURL);q.launchTest(k.loid,"post")});$(x).removeClass($(x).data("current_player_background")).addClass("player_background_summary").data("current_player_background",
"player_background_summary");$(document).trigger(DKI.EndCourse.events.started)},destroy:function(){$(window).off("resize",E);if(C&&C.data("flickity"))try{C.flickity("destroy")}catch(a){}}}}();DKI.EndCourse.events={ready:"END_COURSE_READY",started:"END_COURSE_STARTED"};DKI||(DKI={});
DKI.CompletionCertificate=function(){var a,c=function(b){var c=Handlebars.compile(DKI.templates.certificate.body)({strings:DKI.strings});$(b).html(c);var l=document.getElementById("certificate_studentName"),p=document.getElementById("certificate_courseName"),m=document.getElementById("certificate_date"),q=document.getElementById("certificate_print"),h=function(a,b){try{a.innerHTML=b}catch(c){a.innerText=b}};a.getStudentName(function(b){h(l,b);h(p,a.getCourseName());h(m,(new Date).toLocaleDateString());
$(q).on(settings.clickEvent,function(b){a.printPage();return!1})})};return{init:function(b,k){a=b.contentAPI;k&&c(k);$(document).trigger(DKI.CompletionCertificate.events.ready)},start:function(){$(document).trigger(DKI.CompletionCertificate.events.started)}}}();DKI.CompletionCertificate.events={ready:"COMPLETION_CERTIFICATE_READY",started:"COMPLETION_CERTIFICATE_STARTED"};
DKI.Modal=function(){var a,c={method:"GET",display:"modal",name:"modalWindowName"},b={},k=null,l=null,p={appendDataToUrl:function(a){var b=p.getData();a=null===a.match(/\?/)?a+"?":a+"\x26";return a+b},getData:function(){var a="courseID\x3d"+contentApi.getCourseID()+"\x26pageID\x3d"+contentApi.getPageID()+"\x26objectID\x3d"+contentApi.getObjectID()+"\x26userID\x3d"+contentApi.getUserID();if("object"==typeof b.parameters)for(var c in b.parameters)b.parameters.hasOwnProperty(c)&&(a+="\x26"+c+"\x3d"+
b.parameters[c]);return a},loadModalGET:function(b){var c=null,k=null,l=!0,m=DKI.func.debounce(function(){q()},75,!1),q=function(){var a=$(".fancybox-item.fancybox-close",k),b=$(".fancybox-stage .fancybox-content",k),c=b.offset().top-window.pageYOffset-9,b=b.offset().left+b.outerWidth()-$(window).width()-25;a.css({top:c+"px",left:b+"px"})};$.fancybox.open({type:"iframe",src:p.appendDataToUrl(b.url),iframe:{preload:!1},btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+
player.strings.buttonLabelClose+'" role\x3d"button" \x3e\x3c/div\x3e'},afterShow:function(){l=!1;q();a=this;modalFrame=this.content;b.callback&&b.callback();setTimeout(function(){l=!0},1E3)},beforeShow:function(a,b,h){b=this.$slide.closest(".fancybox-inner");c=a;k=b;c.$refs.container.on("onUpdate.fb",m)},afterClose:function(){c.$refs.container.off("onUpdate.fb",null,m);k=c=null},beforeClose:function(){return l}})},loadModalPOST:function(a){p.postURL(modalFrame.attr("name"))},loadWindowGET:function(b){a=
window.open(p.appendDataToUrl(b.url),b.name);a.focus()},loadWindowPOST:function(b){a=window.open("about:blank",b.name);p.postURL(a.name);a.focus()},postURL:function(c){null===k?(k=document.createElement("form"),k.className="modalPoster",k.method="POST",body.append(k)):k.innerHTML="";c&&(l=c);k.target=l;k.action=b.url;k.appendChild(p.buildHiddenInput("courseID",contentApi.getCourseID()));k.appendChild(p.buildHiddenInput("userID",contentApi.getUserID()));k.appendChild(p.buildHiddenInput("objectID",
contentApi.getObjectID()));k.appendChild(p.buildHiddenInput("pageID",contentApi.getPageID()));if("object"==typeof b.parameters)for(var m in b.parameters)b.parameters.hasOwnProperty(m)&&k.appendChild(p.buildHiddenInput(m,b.parameters[m]));$.fancybox({type:"inline",content:k,tpl:DKI.templates.popupPanel,afterShow:function(){a=this;k.submit()}})},buildHiddenInput:function(a,b){var c=document.createElement("input");c.type="hidden";c.name=a;c.value=b;return c}},m={onPageLoaded:function(){modalOpen&&!b.persist?
q.hide():!0===modalOpen?"GET"===b.method.toUpperCase()?modalFrame.attr("src",p.appendDataToUrl(b.url)):p.postURL():a&&!a.closed?"GET"===b.method.toUpperCase()?p.loadWindowGET(b):p.postURL():contentApi.playerEvent.remove("pageLoaded",m.onPageLoaded)},onPostCompleteModal:function(a){modalFrame.on("load.modalPost",function(){modalFrame[0].contentWindow.document.write(a.responseText)});modalFrame.attr("src","about:blank")},onPostCompleteWindow:function(b){a.document.write(b.responseText)}},q={show:function(a){a&&
(b=DKI.applyIf(a,c));"modal"===b.display.toLowerCase()?"GET"==b.method.toUpperCase()?p.loadModalGET(b):p.loadModalPOST(b):"GET"==b.method.toUpperCase()?p.loadWindowGET(b):p.loadWindowPOST(b);if(!0===b.persist)contentApi.playerEvent.on("pageLoaded",m.onPageLoaded)},hide:function(){a.close()}};return q}();
DKI.PopupPanel=function(){var a=function(){return{html:"",autoFocus:!1,modal:!1,returnFocus:null,title:"\x26nbsp;",effect:"fade",zIndex:0,style:"",domStyles:"",tabContent:!0,autoResize:settings.responsive?!0:!1,autoCenter:settings.responsive?!0:!1,id:"dki_"+Math.random().toString(36).substr(2,9),addClass:"",role:"dialog",strings:{close:playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close"},onHide:function(){}}},c=null,b={setVariables:function(a){a.find(".dki-inline-variable").each(function(){var a=
contentApi.getData($(this).data("variable-id"));$(this).html(a)})},adjustHeight:function(a){var b=a.show().find(".modal-header").css("height").replace("px",""),c=a.find(".modal-header").css("height").replace("px",""),b=window.innerHeight-parseInt(b,10)-parseInt(c,10),b=0<b?b:100;a.find(".modal-body").css({"max-height":b+"px","overflow-y":"auto"})}},k={show:function(l){contentApi.hideAllPopups();if(l)var m=DKI.applyIf(l,a());if(m.popupType){var q=$("#action_popup_"+m.id);q[0]&&q.remove();var h=DKI.templates.alertPanel,
n=m.title?"h1.modal-title":"div.modal-body",q="hidden.bs.modal";switch(m.popupType.type){case "notification":h=DKI.templates.notificationPanel,n=m.title?"span.modal-title":"div.alert-content",q="closed.bs.alert"}l.alignMiddle="middle"==l.popupType.mod.replace(/fill/g,"").trim();l.exit=!("banner"==l.popupType.type&&"middle"==l.popupType.mod);var t=$(h(l));t.addClass(l.addClass);t.data("contentFocus",n?t.find(n):t);b.setVariables(t);$("body").append(t);$(".fancybox-container").length&&(h=parseInt($(".fancybox-container").css("z-index"))+
parseInt(t.css("z-index")),t.css("z-index",h));t.on(q,function(){var a=$("div.popup.modal:visible, .fancybox-inner:visible").last();a.length?(DKI.enforceFocus(a),a=a.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),a.length&&a[0].focus()):l.returnFocus&&setTimeout(function(){l.returnFocus.focus()},10);m.onHide.apply(t)});t.hasClass("modal")?(t.on("shown.bs.modal",function(){$(document).off("focusin.bs.modal");b.adjustHeight($(this));if(m.autoFocus){var a=this;setTimeout(function(){$(a).is(":visible")&&
(DKI.enforceFocus($(a)),$(a).data("contentFocus")[0].focus())},50)}}),DKI.enforceFocus(!1),t.modal({show:!0,backdrop:l.popupType.modal})):t.hasClass("alert")?(setTimeout(function(){t.addClass("in");m.autoFocus&&t.data("contentFocus")[0].focus()},0),t.alert()):(t.show(),setTimeout(function(){t.addClass("in");m.autoFocus&&t.data("contentFocus")[0].focus()},0));l.zIndex&&(t.data("bs.modal")&&t.data("bs.modal").$backdrop&&t.data("bs.modal").$backdrop.css("z-index",l.zIndex+1),t.css("z-index",l.zIndex+
2));t.find("button.dismiss,button.close").on("click",function(a){t.hasClass("modal")?t.modal("hide"):t.hasClass("alert")?t.alert("close"):t.hide()});m.afterShow&&m.afterShow.apply(t)}else $.fancybox({type:"html",content:'\x3cdiv class\x3d"popup-content" tabIndex\x3d"0"\x3e'+m.html+"\x3c/div\x3e",title:""!=m.title?m.title:null,tpl:DKI.templates.popupPanel,modal:m.modal,autoCenter:m.autoCenter,autoResize:m.autoResize,helpers:{title:{position:"top",type:"inside"}},beforeShow:function(){c=this;m.modal||
$(".fancybox-overlay").css("background-image","none");settings.responsive||(this.wrap.draggable({handle:".fancybox-title"}),this.wrap.resizable({handles:"se",alsoResize:".fancybox-inner"}));this.outer.addClass(m.style);m.autoResize?this.wrap.addClass("auto-resize"):this.wrap.removeClass("auto-resize");c.wrap.find(".popup-title").html(m.title);this.wrap.show()},openEffect:""==m.effect?"none":m.effect,closeEffect:""==m.effect?"none":m.effect,openMethod:"zoomIn",closeMethod:"zoomOut",afterShow:function(){var a=
c.wrap.find(".fancybox-title"),b=c.wrap.find(".fancybox-close");c.outer.before(a.detach());a.after(b.detach());a.attr("tabindex",0);m.autoFocus&&c.wrap.find(".popup-content")[0].focus();settings.responsive||$(".fancybox-title").css("cursor","pointer");m.autoCenter||m.autoResize||$(window).unbind("resize.fb");c.wrap.find(".popup-close").on(settings.clickEvent,function(){k.hide()});m.afterShow&&m.afterShow.apply(this)},afterClose:function(){this.outer.removeClass(m.style);m.returnFocus&&setTimeout(function(){m.returnFocus.focus()},
10);c=null}})},hide:function(a){a=DKI.applyIf(a?a:{},{forceClose:!1},!0);c&&$.fancybox.close(a.forceClose);a.id&&(a=$("#action_popup_"+a.id),0<a.length&&(a.hasClass("modal")?(a.modal("hide"),a.off("show.bs.modal")):a.hide()))},destroy:function(a){a.id&&(a=$("#action_popup_"+a.id,"body"),0<a.length&&(a.hasClass("popup modal")&&a.off().data("bs.modal").removeBackdrop(),a.remove()))}},l=function(){k.hide({forceClose:!0})};$(document).on(DKI.ContentPage.events.started,l);$(document).on(DKI.EndModule.events.started,
l);$(document).on(DKI.EndCourse.events.started,l);$(document).on(DKI.EndTest.events.started,l);return k}();
DKI.PresentationPlayer=function(a){this.dataStorage=a.dataStorage;this.course=a.dataStorage.courseStructure;this.behaviour=a.behaviour;this.settings=a.settings;this.strings=a.strings;this.rootURL=a.rootURL;this.transitions=Modernizr.csstransitions?{page:this.dataStorage.courseStructure.pagetransition,jump:this.dataStorage.courseStructure.jumptransition,end:this.dataStorage.courseStructure.endscreentransition}:{page:"none",jump:"none",end:"none"};this.currentPage=null;this.contentPage={previous:null,
current:null,next:null};this.currentTest=this.currentObject=this.currentModule=null;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.contentFrame=$("#contentFrame");this.pageFrames={};this.pageFrames.previous=document.createElement("div");$(this.pageFrames.previous).css("visibility","hidden");this.pageFrames.previous.className="dkiContentFrame previous dk-hidden";this.pageFrames.current=document.createElement("div");this.pageFrames.current.className="dkiContentFrame current";
this.pageFrames.next=document.createElement("div");$(this.pageFrames.next).css("visibility","hidden");this.pageFrames.next.className="dkiContentFrame next dk-hidden";this.contentFrame.append([this.pageFrames.previous,this.pageFrames.current,this.pageFrames.next]);this.menu=this.contentAPI=null;this.navigation=new DKI.PlayerNavigation(this);this.headerContainer=$("#navbar_header, #headerContainer");this.footerContainer=$("#footerContainer");this.store=DKI.courseStore;this.feedback=DKI.FeedbackPanel;
this.audio=!0;this.isMobile=$(document.body).hasClass("mobile");this.isAdminPreview=$(document.body).hasClass("adminPreview");this.questionFeedbackClosed=this.assessmentState=null;this.reachedEnd=!1;this.forward=this.contentForward;this.back=this.contentBack;this.reload=this.contentReload;this.events={pageLoaded:"pageLoaded",contentPageLoaded:"contentPageLoaded",questionPageLoaded:"questionPageLoaded",playerResized:"playerResized",playerTranscriptShown:"playerTranscriptShown"};this.inReview=this.inEndScreen=
this.inAssessment=!1;this.loadState={previous:"done",current:"done",next:"done"};this.queuedAction=null;this.contentFrame.addClass("loading");this.navigation.hideForwardButton();this.navigation.hideBackButton();$(this.pageFrames.previous).addClass(this.transitions.page);$(this.pageFrames.current).addClass(this.transitions.page);$(this.pageFrames.next).addClass(this.transitions.page);this.initEvents();this.onbeforeunload=function(){};dkiUA.mobile?$("html").addClass("on-device"):$("html").addClass("on-desktop");
dkiUA.iOS&&"tablet"!=dkiUA.getUAProperties().platform&&scormInterface&&!this.behaviour.launchInNewWindowMobile&&$("html").addClass("iOS-iframe");this.behaviour.enableTextHighlight&&$("html").addClass("enableTextHighlight");$(".pageElementsWrapper.design").attr("aria-hidden","true")};DKI.PresentationPlayer.prototype.applyTransitionClass=function(a,c){a=$(this.pageFrames[a]);a.removeClass(DKI.PresentationPlayer.transitionClasses);a.addClass(c)};
DKI.PresentationPlayer.prototype.initHeadersAndFooters=function(){var a=this;this.headers={primary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})}};this.footers={primary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})}};this.contentFrame.prepend([this.headers.primary.el,this.headers.secondary.el]);this.contentFrame.append([this.footers.primary.el,
this.footers.secondary.el]);this.course.header_primary_page&&(this.headers.primary.el.append($(DKI.renderService.renderPage(this.course.header_primary_page,this.course))),this.headers.primary.contentPage=new DKI.ContentPage({contentAPI:a.contentAPI,containerEl:this.headers.primary.el,actions:this.course.header_primary_page.actions,page:this.course.header_primary_page,player:a}));this.course.header_secondary_page&&(this.headers.secondary.el.append($(DKI.renderService.renderPage(this.course.header_secondary_page,
this.course))),this.headers.secondary.contentPage=new DKI.ContentPage({contentAPI:a.contentAPI,containerEl:this.headers.secondary.el,actions:this.course.header_secondary_page.actions,page:this.course.header_secondary_page,player:a}));this.course.footer_primary_page&&(this.footers.primary.el.append($(DKI.renderService.renderPage(this.course.footer_primary_page,this.course))),this.footers.primary.contentPage=new DKI.ContentPage({contentAPI:a.contentAPI,containerEl:this.footers.primary.el,actions:this.course.footer_primary_page.actions,
page:this.course.footer_primary_page,player:a}));this.course.footer_secondary_page&&(this.footers.secondary.el.append($(DKI.renderService.renderPage(this.course.footer_secondary_page,this.course))),this.footers.secondary.contentPage=new DKI.ContentPage({contentAPI:a.contentAPI,containerEl:this.footers.secondary.el,actions:this.course.footer_secondary_page.actions,page:this.course.footer_secondary_page,player:a}));$(document).on(DKI.ContentPage.events.started,function(b,c){c.page.pageid!=a.course.header_primary_page_id&&
c.page.pageid!=a.course.header_secondary_page_id&&c.page.pageid!=a.course.footer_primary_page_id&&c.page.pageid!=a.course.footer_secondary_page_id&&(c.page.parameters.layout.headers.primary_enabled&&a.headers.primary.contentPage?(a.headers.primary.el.removeClass("hidden"),a.headers.primary.contentPage.reset(),a.headers.primary.contentPage.start(0,!0)):a.headers.primary.el.addClass("hidden"),c.page.parameters.layout.headers.secondary_enabled&&a.headers.secondary.contentPage?(a.headers.secondary.el.removeClass("hidden"),
a.headers.secondary.contentPage.reset(),a.headers.secondary.contentPage.start(0,!0)):a.headers.secondary.el.addClass("hidden"),c.page.parameters.layout.footers.primary_enabled&&a.footers.primary.contentPage?(a.footers.primary.el.removeClass("hidden"),a.footers.primary.contentPage.reset(),a.footers.primary.contentPage.start(0,!0)):a.footers.primary.el.addClass("hidden"),c.page.parameters.layout.footers.secondary_enabled&&a.footers.secondary.contentPage?(a.footers.secondary.el.removeClass("hidden"),
a.footers.secondary.contentPage.reset(),a.footers.secondary.contentPage.start(0,!0)):a.footers.secondary.el.addClass("hidden"))});var c=function(){a.headers.primary.el.addClass("hidden");a.headers.secondary.el.addClass("hidden");a.footers.primary.el.addClass("hidden");a.footers.secondary.el.addClass("hidden")};$(document).on(DKI.EndModule.events.started,c);$(document).on(DKI.EndCourse.events.started,c);$(document).on(DKI.EndTest.events.started,c)};
DKI.PresentationPlayer.prototype.initEvents=function(){var a=this;if(this.behaviour.preventRightClick)$(document).on("contextmenu",function(){return!1});$(document).on(DKI.ContentPage.events.ready,function(){a.applyCssEffects.init()});$(this.dataStorage).on(DKI.DataStorage.events.ready,function(){a.headerContainer=$(a.headerContainer.selector);a.footerContainer=$(a.footerContainer.selector);a.initHeadersAndFooters();a.initSearch();a.setPlayerSize();a.initFeedbackTab();settings.preventResume||a.resumeBookmark();
a.contentFrame.removeClass("loading")});$(this.dataStorage).on(DKI.DataStorage.events.changeObject,function(){a.setObjectDisplay()});$(this.dataStorage).on(DKI.DataStorage.events.courseEnd,function(){a.reachedEnd=!0});$(this.dataStorage).on(DKI.DataStorage.events.questionSubmitted,function(c,b,k){a.contentPage.current.setScore(b,k)});$(this.dataStorage).on(DKI.DataStorage.events.assessmentReady,function(){a.initBarsAssessment();a.navigation.setCurrentScreen(a.dataStorage.getCurrentQuestionCount());
a.loadCurrentQuestion();a.pageFrames.previous.innerHTML="";a.inReview||(a.onbeforeunload=function(c){var b=a.strings.quitTestWarning;if(c=c||window.event)c.returnValue=b;return b})});$(this.dataStorage).on(DKI.DataStorage.events.assessmentCompleted,function(){a.onbeforeunload=function(){}});$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(){if(player.contentPage.current&&player.contentPage.current.actionAPI)player.contentPage.current.actionAPI.onDataSetEvent({name:"sys.learner.completion",
newValue:contentApi.getData("sys.learner.completion")},player.contentPage.current)});$(this.navigation).on(DKI.PlayerNavigation.events.forward,function(){a.forward()});$(this.navigation).on(DKI.PlayerNavigation.events.back,function(){a.back()});$(this.navigation).on(DKI.PlayerNavigation.events.reload,function(){a.reload()});$(this.navigation).on(DKI.PlayerNavigation.events.menuToggle,function(){a.toggleOutline()});$(this.navigation).on(DKI.PlayerNavigation.events.menuClose,function(){a.hideTree()});
$(this.navigation).on(DKI.PlayerNavigation.events.glossaryToggle,function(a,b){b?DKI.glossaryBrowse.show():DKI.glossaryBrowse.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.resourceToggle,function(a,b){b?DKI.resourceBrowser.show():DKI.resourceBrowser.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.exit,function(){a.exitCourse.call(a)});$(this.navigation).on(DKI.PlayerNavigation.events.audioToggle,function(c,b){a.toggleAudio(b)});$(this.navigation).on(DKI.PlayerNavigation.events.transcriptToggle,
function(){a.toggleTranscript()});$(document).on(DKI.Events.TestQuestion.nextClicked,function(){a.forward()});$(document).on(DKI.Events.TestQuestion.forceEnd,function(){a.forceEnd()});$(document).on(DKI.PlayerMenu.events.pageClicked,function(c,b){a.onPageClicked(b)});$(document).on(DKI.ContentPage.events.resize,$.proxy(this.onPageResize,this));$(document).on(DKI.Events.TestQuestion.feedbackShown,function(){a.contentPage.current.numAttempts>=a.contentPage.current.question.attempts&&a.navigation.showForwardButton()});
$(document).on(DKI.ContentPage.events.ready,$.proxy(this.onPageReady,this));$(document).on(DKI.EndModule.events.ready,$.proxy(this.onEndReady,this));$(document).on(DKI.EndCourse.events.ready,$.proxy(this.onEndReady,this));$(document).on(DKI.EndTest.events.ready,$.proxy(this.onEndReady,this));$(window).on(settings.resizeEvent,$.proxy(this.onWindowResize,this));$(window).on("scroll",$.proxy(this.onWindowScroll,this));$(document).on(DKI.PlayerMenu.events.initialized,function(c,b){a.menu=b;a.menuWidth=
a.menu.getWidth();a.menuLeft=a.menu.getLeft();$(a.menu).on(DKI.PlayerMenu.events.closed,function(){a.hideTree()})})};DKI.PresentationPlayer.prototype.initMenu=function(){};DKI.PresentationPlayer.prototype.initSearch=function(){dkiUA.isIE()&&8>=dkiUA.ieVersion?$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove():playerBehaviour.enableCourseSearch&&DKI.search.isSupportedLanguage()||$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove()};
DKI.PresentationPlayer.prototype.checkPreTest=function(){return this.behaviour.enablePreTest&&0<this.dataStorage.currentModule.weight&&0===this.dataStorage.getModuleCompletion(this.dataStorage.currentModule)&&"object"!==typeof this.dataStorage.currentModule.pre&&(this.behaviour.forcePreTest||window.confirm(this.strings.pretestQuestLabel+" ("+this.dataStorage.currentModule.loname+")"))?!0:!1};
DKI.PresentationPlayer.prototype.displayURL=function(a,c,b){var k=function(){},l=function(){},p=function(){};b&&("function"==typeof b?k=b:(b.success&&(k=b.success),b.error&&(l=b.error),b.complete&&(p=b.complete)));$.get(a,function(a){c.innerHTML=a},"html").success(k).error(l).complete(p)};DKI.PresentationPlayer.prototype.getCurrentTestScore=function(){return this.dataStorage.getAssessmentScore()};
DKI.PresentationPlayer.prototype.getModuleScreenCount=function(a){for(var c=0,b=0;b<a.objects.length;b++)c+=a.objects[b].pages.length;return c};
DKI.PresentationPlayer.prototype.initBars=function(){var a=this.dataStorage.currentPage.page,c=this.dataStorage.previousPage;this.navigation.contentMode();this.setModuleDisplay();this.setObjectDisplay();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.behaviour.transcripts?a.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton();a.disableaudio?this.navigation.hideAudioButton():this.navigation.showAudioButton();
a.disablenext&&this.navigation.hideForwardButton();a.disableback&&this.navigation.hideBackButton();c||this.navigation.hideBackButton();DKI.glossaryBrowse.isEmpty()&&this.navigation.disableGlossaryButton();!DKI.resourceBrowser.isEmpty()&&this.behaviour.enableResourcesButton||this.navigation.disableResourceButton()};
DKI.PresentationPlayer.prototype.initBarsAssessment=function(){var a=this.dataStorage.getCurrentQuestion().page,c=!1;if(this.inReview||this.behaviour.enableForwardInTesting&&this.dataStorage.getCurrentQuestionCount()<this.dataStorage.getTotalQuestions())c=!0;this.navigation.testMode(c);a.disableAudio?this.navigation.hideAudioButton():this.navigation.showAudioButton();this.navigation.hideBackButton();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());
this.behaviour.transcripts?a.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton()};DKI.PresentationPlayer.prototype.initBarsEndScreen=function(){this.inEndScreen=!0;this.behaviour.transcripts&&this.navigation.disableTranscriptButton();this.navigation.endMode()};DKI.PresentationPlayer.prototype.initFeedbackTab=function(){this.settings.enableReviewNotes&&this.feedback.init(this,DKI.courseStore,this.strings);return!0};
DKI.PresentationPlayer.prototype.jumpTo=function(a){var c=null;this.contentPage.current&&(this.contentPage.current.page&&this.contentPage.current.page.pageid?c=this.contentPage.current.page.pageid:this.contentPage.current.question&&this.contentPage.current.question.page_id&&(c=this.contentPage.current.question.page_id));a==c?this.contentReload():(this.dataStorage.jumpToPage(a),this.jumpComplete())};DKI.PresentationPlayer.prototype.jumpToModule=function(a){this.dataStorage.jumpToModule(a);this.jumpComplete()};
DKI.PresentationPlayer.prototype.jumpComplete=function(){this.inEndScreen=this.inAssessment=!1;this.contentAPI.hideBoth();this.initBars();this.reachedEnd=!1;this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("next",this.transitions.jump),this.loadPage("next",this.dataStorage.currentPage,function(){this.dataStorage.setCurrentPageComplete();this.reload=this.contentReload;this.shuffleForward(!0);this.initBars();this.dataStorage.previousPage&&(this.applyTransitionClass("previous",
this.transitions.page),this.contentPage.previous&&this.contentPage.previous.page&&this.dataStorage.previousPage.page_id==this.contentPage.previous.page.id||this.loadPage("previous",this.dataStorage.previousPage));this.dataStorage.isEndOfCourse()?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(this.applyTransitionClass("next",this.transitions.page),this.contentPage.next&&this.contentPage.next.page&&this.dataStorage.nextPage.page_id==
this.contentPage.next.page.id||this.loadPage("next",this.dataStorage.nextPage),this.forward=this.contentForward);$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);this.back=this.contentBack}))};DKI.PresentationPlayer.prototype.launchReview=function(a){this.inReview=!0;this.inEndScreen=!1;this.forward=this.assessmentForward;this.forceEnd=this.assessmentForceEnd;this.back=this.assessmentBack;this.reload=this.loadCurrentQuestion;this.dataStorage.createReview(a);this.hideTree()};
DKI.PresentationPlayer.prototype.launchTest=function(a,c){this.inAssessment||(this.inAssessment=!0,this.inEndScreen=!1,this.forward=this.assessmentForward,this.forceEnd=this.assessmentForceEnd,this.back=this.assessmentBack,this.reload=this.loadCurrentQuestion,this.dataStorage.createTest(a,c),this.hideTree())};
DKI.PresentationPlayer.prototype.loadCertificate=function(){var a=this;this.course.certificate_page?this.loadPage("next",{subeotype:0,page:this.course.certificate_page},function(){a.shuffleForward()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.CompletionCertificate,this.applyTransitionClass("next",this.transitions.end),DKI.CompletionCertificate.init(a,a.pageFrames.next),a.shuffleForward())};
DKI.PresentationPlayer.prototype.loadCompletion=function(){this.dataStorage.loadCompletion()};
DKI.PresentationPlayer.prototype.loadCourseEnd=function(){var a=!1,c=this;this.reachedEnd||this.behaviour.skipEnd||(a=!0);this.reachedEnd=!0;a?this.loadModuleEnd():this.course.course_summary_page?this.loadPage("next",{subeotype:0,page:this.course.course_summary_page},function(){c.forward=c.startCourseEnd;c.onEndReady()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.EndCourse,this.applyTransitionClass("next",this.transitions.end),
DKI.EndCourse.init(c,c.pageFrames.next),this.forward=this.startCourseEnd)};
DKI.PresentationPlayer.prototype.loadCurrentPage=function(a){var c=this,b=this.dataStorage.currentPage;this.forward=this.contentForward;this.back=this.contentBack;this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("current",this.transitions.page),this.loadPage("current",b,function(){this.reload=this.contentReload;this.contentPage.current.start();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);
this.initBars();$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);if(a&&this.settings.responsive){var b=c.dataStorage.lastSection,l=function(){c.contentPage.current.jumpToGroup(b);$(document).off(DKI.ContentPage.events.loadFinished,l)};$(document).on(DKI.ContentPage.events.loadFinished,l)}}),this.dataStorage.previousPage&&(this.applyTransitionClass("previous",this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage)),this.dataStorage.isEndOfCourse()?
this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage)))};
DKI.PresentationPlayer.prototype.loadPage=function(a,c,b){var k=this,l=this.pageFrames[a],p=c.page.actions;this.loadState[a]="loading";(function(){if(null!==p){k.contentPage[a]&&k.contentPage[a].destroy&&k.contentPage[a].destroy();k.contentPage[a]=new DKI.ContentPage({contentAPI:k.contentAPI,containerEl:l,actions:p,page:c.page,player:k});var m=function(){k.loadState[a]="done";b&&b.call(k);k.queuedAction&&("forward"===k.queuedAction&&"next"===a?k.forward():"resume"===k.queuedAction&&"next"===a?k.resume():
"back"===k.queuedAction&&"previous"===a&&k.back(),k.queuedAction=null);$(document).on(DKI.ContentPage.events.loadFinished+".startTimer",function(a,b){b.page.id==c.page.id&&($(document).off(DKI.ContentPage.events.loadFinished+".startTimer"),k.startContentTimer())})};7==c.subeotype?requirejs(["testing"],function(){k.contentPage[a]=new DKI.TestQuestion(k,k.contentPage[a],c.question,!0);m()}):(8==c.subeotype&&(k.contentPage[a]=new DKI.Scene(k,k.contentPage[a])),m())}})()};
DKI.PresentationPlayer.prototype.loadQuestion=function(a,c,b){var k=this;this.loadPage(a,c,function(){requirejs(["testing"],function(){k.contentPage[a]=new DKI.TestQuestion(k,k.contentPage[a],c);b&&b.call(k)})})};
DKI.PresentationPlayer.prototype.loadCurrentQuestion=function(){var a=this,c=this.dataStorage.getCurrentQuestion(),b=this.dataStorage.getNextQuestion();this.applyTransitionClass("next",this.transitions.jump);this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.loadQuestion("next",c,function(){a.shuffleForward();a.initBarsAssessment();a.inReview&&a.questionPage.showReview(a.dataStorage.assessment.prepost,
a.dataStorage.getCurrentQuestion().userChoices,a.dataStorage.getCurrentQuestion().options,a.dataStorage.getCurrentQuestion());a.applyTransitionClass("current",a.transitions.page);a.behaviour.transcripts?c.page.transcript?a.navigation.enableTranscriptButton():a.navigation.disableTranscriptButton():a.navigation.hideTranscriptButton();a.menu.selectQuestion(c);a.assessmentState="next";a.questionFeedbackClosed="false";b?(a.applyTransitionClass("next",a.transitions.page),a.loadQuestion("next",b,function(){$(a).trigger(a.events.pageLoaded);
$(a).trigger(a.events.questionPageLoaded)})):a.loadModuleEnd(function(){});$(a).trigger(a.events.questionPageLoaded);$(a).trigger(a.events.pageLoaded)})};
DKI.PresentationPlayer.prototype.loadModuleEnd=function(a){var c=this;this.applyTransitionClass("next",this.transitions.end);this.course.module_summary_page?this.loadPage("next",{subeotype:0,page:this.course.module_summary_page},function(){c.forward=c.startModuleEnd;c.onEndReady();a&&a.call(c)}):(c.contentPage.next=DKI.EndModule,DKI.EndModule.init(c,this.pageFrames.next),a&&a.call(c),this.forward=this.startModuleEnd)};
DKI.PresentationPlayer.prototype.loadPageActions=function(a,c){a=this.settings.actionsURL+a+this.settings.actionsPrefix;var b=function(){},k=function(){},l=function(){};c&&("function"==typeof c?b=c:(c.success&&(b=c.success),c.error&&(k=c.error),c.complete&&(l=c.complete)));$.get(a,function(){},"json").success(b).error(k).complete(l)};
DKI.PresentationPlayer.prototype.resume=function(a){var c=this,b=function(a){c.inAssessment=!1;c.inEndScreen=!1;if("loading"===c.loadState.next)return c.queuedAction||(c.queuedAction="resume"),!0;c.reachedEnd?c.startCourseEnd():(a?c.dataStorage.resume():c.dataStorage.goNextPage(),c.checkPreTest()?c.launchTest(c.dataStorage.currentModule.loid,"pre"):(c.applyTransitionClass("next",c.transitions.page),c.forward(!0),setTimeout(function(){c.dataStorage.previousPage&&(c.applyTransitionClass("previous",
c.transitions.page),c.loadPage("previous",c.dataStorage.previousPage))},500)))};this.course.testonly?function(){var a=c.dataStorage.lessonStatus;"passed"===a||"failed"===a||c.dataStorage.allTestsAttempted()?c.startCourseEnd():c.dataStorage.goNextModule()?c.launchTest(c.dataStorage.currentModule.loid,"post"):(c.dataStorage.onCourseComplete(),c.startCourseEnd())}():b(a)};
DKI.PresentationPlayer.prototype.resumeBookmark=function(){var a=this.dataStorage.bookmark,c=this.dataStorage.lessonStatus;if(this.course.testonly)if("passed"===c||"failed"===c||this.dataStorage.allTestsAttempted())this.resumeToCourseEnd();else if(a&&""!==a&&this.dataStorage.jumpToModule(a))this.launchTest(a,"post");else{for(a=0;a<dataStorage.moduleCount&&this.course.modules[a].complete;a++);0<a&&!this.behaviour.skipEnd?(dataStorage.navigateToModule(this.course.modules[a-1].loid),this.resumeToModuleEnd()):
this.launchTest(this.course.modules[a].loid,"post")}else this.dataStorage.resume(this.behaviour.autoResume),this.setModuleDisplay(),this.loadCurrentPage(!0)};
DKI.PresentationPlayer.prototype.resumeToCourseEnd=function(){var a=this;this.course.course_summary_page?this.loadPage("current",{subeotype:0,page:this.course.course_summary_page},function(){a.initBarsEndScreen();a.hideTree();a.contentPage.current.start()}):(this.contentPage.current=DKI.EndCourse,DKI.EndCourse.init(this,this.pageFrames.current),a.initBarsEndScreen(),a.hideTree(),DKI.EndCourse.start())};
DKI.PresentationPlayer.prototype.resumeToModuleEnd=function(){var a=this;this.course.module_summary_page?this.loadPage("current",{subeotype:0,page:this.module_summary_page},function(){a.initBarsEndScreen();a.hideTree();a.contentPage.current.start()}):(this.contentPage.current=DKI.EndModule,DKI.EndModule.init(this,this.pageFrames.current),a.initBarsEndScreen(),a.hideTree(),DKI.EndModule.start())};
DKI.PresentationPlayer.prototype.shuffleForward=function(a){var c=this.pageFrames.previous;this.contentFrame.removeClass("back").addClass("forward");this.pageFrames.previous=this.pageFrames.current;this.pageFrames.current=this.pageFrames.next;this.pageFrames.next=c;this.contentPage.previous&&this.contentPage.previous.destroy&&this.contentPage.previous.destroy();this.contentPage.previous=this.contentPage.current;this.contentPage.current=this.contentPage.next;this.contentPage.next=null;c.innerHTML=
"";$(this.pageFrames.previous).removeClass("current dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("next dk-hidden").addClass("current").css({visibility:"",top:""});$(this.pageFrames.next).removeClass("previous dk-hidden").addClass("next").css("top",$(".headerPage:not(.hidden)").outerHeight());var b=this,c=function(){$(b.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(b.pageFrames.next).css("visibility",
"hidden").addClass("dk-hidden")};a?c():setTimeout(c,500);if($(document.body).hasClass("mobile")){this.headerContainer.css("position","relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(k){}this.headerContainer.css("position","fixed")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(k){}}null!==this.contentPage.previous&&this.contentPage.previous.reset&&this.contentPage.previous.reset({timeout:500});
this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.shuffleBack=function(a){var c=this.pageFrames.next;this.contentFrame.removeClass("forward").addClass("back");this.pageFrames.next=this.pageFrames.current;this.pageFrames.current=this.pageFrames.previous;this.pageFrames.previous=c;this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy();this.contentPage.next=this.contentPage.current;this.contentPage.current=this.contentPage.previous;this.contentPage.previous=null;c.innerHTML="";$(this.pageFrames.next).removeClass("current dk-hidden").addClass("next").css("top",
$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("previous dk-hidden").addClass("current").css({visibility:"",top:""});$(this.pageFrames.previous).removeClass("next dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());var b=this,c=function(){$(b.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(b.pageFrames.next).css("visibility","hidden").addClass("dk-hidden")};a?c():setTimeout(c,500);if($(document.body).hasClass("mobile")){this.headerContainer.css("position",
"relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(k){}this.headerContainer.css("position","")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(k){}}this.contentPage.next.reset&&this.contentPage.next.reset({timeout:500});this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.startModuleEnd=function(){if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndModule.events.ready,$.proxy(function(){this.startModuleEnd()},this));else{var a=this.inAssessment||this.inReview;this.inAssessment=this.inReview=!1;$(".questionScoreDisplay").hide();$(".submitButton").hide();$("#countDownTimer").remove();a&&(this.course.testonly&&this.dataStorage.allTestsAttempted()||!this.course.testonly&&!this.dataStorage.nextPage&&"pre"!==this.dataStorage.assessment.prepost)&&
(this.reachedEnd=!0);this.setModuleDisplay();this.clearObjectDisplay();this.initBarsEndScreen();this.hideTree();this.forward=this.contentForward;this.shuffleForward();this.reachedEnd?this.loadCourseEnd():(this.applyTransitionClass("next",this.transitions.page),this.course.testonly||(a&&"pre"===this.dataStorage.assessment.prepost?this.loadPage("next",this.dataStorage.currentPage):this.loadPage("next",this.dataStorage.nextPage),this.forward=this.contentForward,this.back=this.contentBack))}};
DKI.PresentationPlayer.prototype.startCourseEnd=function(){if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndCourse.events.ready,$.proxy(function(){this.startCourseEnd()},this));else this.initBarsEndScreen(),this.navigation.showMenuButton(),this.hideTree(),this.shuffleForward(),this.pageFrames.next.innerHTML=""};
DKI.PresentationPlayer.prototype.setPlayerSize=function(){var a=0,c=this.course.width,b=this,k=function(){b.barHeight=(b.headerContainer.is(":visible")?b.headerContainer.outerHeight():0)+(b.footerContainer.is(":visible")?b.footerContainer.outerHeight():0);a=b.barHeight+parseInt(b.course.height,10)};k();if((this.behaviour.resizeWindow||this.isAdminPreview)&&!settings.responsive){if(scormInterface)scormInterface.process("onPlayerResize",[{barHeight:this.barHeight,totalHeight:a,totalWidth:c}],function(a){k();
b.setPageHeight(a);$("#contentFrame").height(a);$(b).trigger(b.events.playerResized)});else{var l=c-$(window).width(),p=a-$(window).height();top.window.resizeBy(l,p);setTimeout(function(){l=c-$(window).width();top.window.resizeBy(l,0)},10);800>=screen.availHeight&&(p=function(){k();if(a>$(window).height()){var c=$(window).height()-b.barHeight;b.setPageHeight(c);$("#contentFrame").height(c);$(window).off(settings.resizeEvent,this);$(b).trigger(b.events.playerResized)}},$(window).on(settings.resizeEvent,
$.proxy(p,p)))}$(this).trigger(this.events.playerResized)}settings.responsive&&(p=$(".headerPage:not(.hidden)").outerHeight()+$("#contentFrame").offset().top+$(".footerPage:not(.hidden)").outerHeight(),$(".dkiContentFrame, .bgRepeater, .dkiContentFrame\x3e.pageElementsWrapper").css({"min-height":""}).css({"min-height":$(window).height()-p}))};DKI.PresentationPlayer.prototype.onEndReady=function(){var a=this.dataStorage.currentPage;!a||this.inAssessment||this.inEndScreen||a.page.disablenext||this.navigation.showForwardButton()};
DKI.PresentationPlayer.prototype.onWindowResize=DKI.func.debounce(function(){if(this.contentPage.current&&this.contentPage.current.onWindowResize)this.contentPage.current.onWindowResize();if(this.contentPage.previous&&this.contentPage.previous.onWindowResize)this.contentPage.previous.onWindowResize();if(this.contentPage.next&&this.contentPage.next.onWindowResize)this.contentPage.next.onWindowResize();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowResize)this.headers.primary.contentPage.onWindowResize();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowResize)this.headers.secondary.contentPage.onWindowResize();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowResize)this.footers.primary.contentPage.onWindowResize();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowResize)this.footers.secondary.contentPage.onWindowResize();settings.responsive&&(this.resetContentHeight(),this.setContentTimerPosition())},75,
!1);DKI.PresentationPlayer.prototype.resetContentHeight=function(){var a=$(".headerPage:not(.hidden)").outerHeight()+$("#contentFrame").offset().top+$(".footerPage:not(.hidden)").outerHeight();$(".dkiContentFrame, .bgRepeater, .dkiContentFrame\x3e.pageElementsWrapper").css({"min-height":""}).css({"min-height":$(window).height()-a})};
DKI.PresentationPlayer.prototype.onWindowScroll=function(){if(this.contentPage.current&&this.contentPage.current.onWindowScroll)this.contentPage.current.onWindowScroll();if(this.contentPage.previous&&this.contentPage.previous.onWindowScroll)this.contentPage.previous.onWindowScroll();if(this.contentPage.next&&this.contentPage.next.onWindowScroll)this.contentPage.next.onWindowScroll();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowScroll)this.headers.primary.contentPage.onWindowScroll();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowScroll)this.headers.secondary.contentPage.onWindowScroll();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowScroll)this.footers.primary.contentPage.onWindowScroll();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowScroll)this.footers.secondary.contentPage.onWindowScroll()};
DKI.PresentationPlayer.prototype.onQuestionLoaded=function(a){this.navigation.setCurrentScreen(this.currentTest.currentQuestionDisplay);this.displayURL(a,this.currentFrame);return!0};DKI.PresentationPlayer.prototype.onQuestionFeedbackClosed=function(){"next"===this.assessmentState?this.loadCurrentQuestion():"complete"===this.assessmentState?this.loadModuleEnd():this.questionFeedbackClosed=!0};
DKI.PresentationPlayer.prototype.onPageClicked=function(a,c,b){"undefined"===typeof c&&(c=!1);"undefined"===typeof b&&(b=!1);b&&!this.canJump(a)?window.alert(this.strings.noNavLabel):(this.hideTree(),c&&this.dataStorage.completePreviousPages(a),this.jumpTo(a))};DKI.PresentationPlayer.prototype.onPageReady=function(a,c){if(this.inAssessment||this.inReview)this.onQuestionPageReady(c);else this.onContentPageReady(c)};
DKI.PresentationPlayer.prototype.onPageResize=function(a,c){this.isMobile&&this.settings.scrolling&&this.setPageHeight(c)};
DKI.PresentationPlayer.prototype.onContentPageReady=function(a){var c=this.dataStorage.nextPage?parseInt(this.dataStorage.nextPage.page.pageid,"10"):null,b=this.dataStorage.previousPage?parseInt(this.dataStorage.previousPage.page.pageid,"10"):null;a=parseInt(a.pageid,10);var k=this.dataStorage.currentPage;a!==c||this.inEndScreen||k.page.disablenext?a!==b||this.inEndScreen||k.page.disableback||this.navigation.showBackButton():this.navigation.showForwardButton()};
DKI.PresentationPlayer.prototype.onQuestionPageReady=function(){};
DKI.PresentationPlayer.prototype.contentBack=function(){var a=this;this.reachedEnd=!1;this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousPage();this.shuffleBack();this.initBars();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.forward=this.contentForward;this.reload=this.contentReload;$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);
setTimeout(function(){a.dataStorage.isEndOfCourse()?a.loadCourseEnd():!a.behaviour.skipEnd&&a.dataStorage.isEndOfModule()&&a.loadModuleEnd()},500);this.dataStorage.previousPage&&(this.applyTransitionClass("previous",this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage));return!0};
DKI.PresentationPlayer.prototype.contentForward=function(a){var c=this.dataStorage.currentModule,b=this.transitions.page+" next";this.contentAPI.hideBoth();if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;a||this.dataStorage.goNextPage();c!==this.dataStorage.currentModule&&this.checkPreTest(this.dataStorage.currentModule)?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass(b),this.shuffleForward(),this.dataStorage.setCurrentPageComplete(),
this.navigation.setCurrentScreen(this.dataStorage.currentModulePage),this.reload=this.contentReload,$(this).trigger(this.events.contentPageLoaded),$(this).trigger(this.events.pageLoaded),this.dataStorage.isEndOfCourse()?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage)),this.initBars());return!0};
DKI.PresentationPlayer.prototype.contentReload=function(){this.contentPage.current.reset();this.contentPage.current.start()};DKI.PresentationPlayer.prototype.assessmentForceEnd=function(){this.loadModuleEnd();this.startModuleEnd()};
DKI.PresentationPlayer.prototype.assessmentForward=function(){var a;a=this.transitions.page+" next";var c=this;if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;this.dataStorage.goNextQuestion();this.applyTransitionClass(a);this.contentAPI.hideBoth();this.shuffleForward();this.initBarsAssessment();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.inReview&&
this.questionPage.showReview(this.dataStorage.assessment.prepost,this.dataStorage.getCurrentQuestion().userChoices,this.dataStorage.getCurrentQuestion().options,this.dataStorage.getCurrentQuestion());(a=this.dataStorage.getNextQuestion())?(this.applyTransitionClass("next",this.transitions.page),this.loadQuestion("next",a,function(){$(c).trigger(c.events.pageLoaded);$(c).trigger(c.events.questionPageLoaded)})):this.loadModuleEnd(function(){});return!0};
DKI.PresentationPlayer.prototype.assessmentBack=function(){var a;this.applyTransitionClass(this.transitions.page+" previous");this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousQuestion();this.shuffleBack();if(a=this.dataStorage.getPreviousQuestion())this.applyTransitionClass("previous",this.transitions.previous),this.loadQuestion("previous",a),this.contentAPI.showBoth();$(this).trigger(this.events.pageLoaded);
$(this).trigger(this.events.questionPageLoaded);return!0};DKI.PresentationPlayer.prototype.hideTree=function(){this.menu.hide();this.navigation.setMenuState(!1)};DKI.PresentationPlayer.prototype.showTree=function(){this.menu.show();this.menu.scrollToSelected();this.navigation.setMenuState(!0)};DKI.PresentationPlayer.prototype.toggleAudio=function(a){this.audio="on"===a?!0:!1;this.contentPage.current.setAudio&&this.contentPage.current.setAudio(this.audio)};
DKI.PresentationPlayer.prototype.showTranscript=function(){dataStorage.currentPage.page.transcript&&""!=dataStorage.currentPage.page.transcript.body&&(contentApi.showPopup({html:dataStorage.currentPage.page.transcript.body,effect:"fade",style:"gray-light",autoFocus:!0,popupType:{modal:!0,mod:"middle fill",type:"banner"}}),$(this).trigger(this.events.playerTranscriptShown))};DKI.PresentationPlayer.prototype.hideTranscript=function(){this.hideTree()};
DKI.PresentationPlayer.prototype.toggleTranscript=function(){"transcriptTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showTranscript():this.hideTranscript()};DKI.PresentationPlayer.prototype.hideOutline=function(){this.hideTree()};DKI.PresentationPlayer.prototype.showOutline=function(){this.showTree();this.menu.selectedTab("outlineTab")};
DKI.PresentationPlayer.prototype.toggleOutline=function(){"outlineTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showOutline():this.hideOutline()};DKI.PresentationPlayer.prototype.jumpToSubeo=function(a,c,b){"undefined"===typeof c&&(c=!0);"undefined"===typeof b&&(b=!1);if(a=this.dataStorage.getPageFromSubeo(a))this.initBars(),player.onPageClicked(a.pageid,c,b)};DKI.PresentationPlayer.prototype.setCurrentObjectComplete=function(){this.dataStorage.setCurrentObjectComplete()};
DKI.PresentationPlayer.prototype.setModuleDisplay=function(){this.navigation.setModuleName(this.dataStorage.currentModule.name);this.navigation.setTotalScreens(this.dataStorage.currentModulePageTotal)};DKI.PresentationPlayer.prototype.setObjectDisplay=function(){this.navigation.setObjectName(this.dataStorage.currentObject?this.dataStorage.currentObject.name:"")};
DKI.PresentationPlayer.prototype.setPageHeight=function(a){$(this.pageFrames.current).height(a);this.contentFrame.height(a);dkiUA.blackberry&&parent&&parent.setContentHeight&&parent.setContentHeight(a)};DKI.PresentationPlayer.prototype.clearObjectDisplay=function(){this.navigation.setObjectName("")};DKI.PresentationPlayer.prototype.canJump=function(a){return this.behaviour.forceSequential?(a=this.dataStorage.getPrecedingPage(a),!a||a.complete?!0:!1):!0};
DKI.PresentationPlayer.prototype.applyCssEffects={allowed:function(){return dkiUA.ie&&6<dkiUA.ieVersion||!dkiUA.ie}(),init:function(){var a,c;if(this.allowed)for(c=$(".cssFX-slctr-Reflect"),a=0;a<c.length;a++){var b=$($(".cssFX-slctr-Reflect")[a]).find("img");if(2==b.length&&null!==$(c[a]).data("rolloverassetid")){var k="#"+$(b[1]).attr("id");$(k).show();$(k).reflect({height:1/3,opacity:.5,attr:{cls:"dki-image-rollover-reflected",style:"filter:inherit;left: 0px;top: 0px;width: inherit !important;height: inherit !important;right:0px;bottom:0px;overflow: hidden;position: absolute;display:none;z-index:2"}});
$(k).attr("class","reflected")}$(b[0]).reflect({height:1/3,opacity:.5,attr:{cls:"dki-image-root-reflected",style:"filter:inherit; left: 0px; top: 0px; width: inherit !important; height: inherit !important; right:0px; bottom:0px; overflow: hidden; z-index: 1; position: absolute;"}})}else for(c=$(".cssFX-slctr-Reflect"),a=0;a<c.length;a++)$(c[a]).removeClass("cssFX-slctr-Reflect"),$(c[a]).removeClass("cssFX-Reflect"),$(c[a]).removeClass("cssFX-MirrorRounded"),$(c[a]).height(Math.round(.7*$(c[a]).height()))}};
DKI.PresentationPlayer.prototype.openModal=function(a,c){DKI.Modal.show({url:a,callback:c})};DKI.PresentationPlayer.prototype.exitCourse=function(){var a=!0;this.inAssessment&&(window.confirm(this.strings.quitTestWarning)?(window.onbeforeunload=function(){},this.dataStorage.checkCourseComplete()):a=!1);a&&dataStorage.doExit()};
DKI.PresentationPlayer.prototype.startContentTimer=function(a){var c=$("#content-timer-div"),b=dataStorage.currentModule;if(b.hasContentTimer){var k=this;requirejs(["flipclock"],function(){if(k.contentTimer)if(!c.data("forModule")||c.data("forModule")!==b.loid||a){l=dataStorage.currentModule.parameters.content_time;k.contentTimer.stop();k.contentTimer.setTime(l/1E3);var p="MinuteCounter";36E5<=l&&(p="HourCounter");k.contentTimer.loadClockFace(p,null,!0,!0);k.contentTimer.start();c.show();c.width("auto");
c.width(c.width())}else c.data("forModule")!=b.loid||c.is(":visible")||(k.contentTimer.start(),c.show(),c.width("auto"),c.width(c.width()));else{var l={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){},stop:function(){if(c.data("forModule")===dataStorage.currentModule.loid){var a=1E3*this.factory.time.time;setTimeout($.proxy(function(){0==a&&(dataStorage.currentModule.contentTime=0,$(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:0,oldValue:1E3}),
$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+(dataStorage.currentModule.loorder-1)+".contentTime",newValue:0,oldValue:a+1E3}))},this),1E3)}},interval:function(a,b,h){c.data("forModule")===dataStorage.currentModule.loid&&(a=1E3*this.factory.time.time,dataStorage.currentModule.parameters.content_time=a,0<a&&($(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:a,oldValue:a+1E3}),$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+
(dataStorage.currentModule.loorder-1)+".contentTime",newValue:a,oldValue:a+1E3})))}}};36E5<b.parameters.content_time&&(l.clockFace="HourCounter");k.contentTimer=c.FlipClock(b.parameters.content_time/1E3,l);c.outerWidth(!0);c.show();k.setContentTimerPosition();c.draggable({containment:".bgRepeater",stop:function(a,b){b.helper.addClass("userDropped")}})}c.data("forModule",b.loid)})}else this.contentTimer&&this.stopContentTimer(!0)};
DKI.PresentationPlayer.prototype.stopContentTimer=function(a){this.contentTimer&&this.contentTimer.stop();a&&$("#content-timer-div").hide()};DKI.PresentationPlayer.prototype.setContentTimerPosition=function(){if(this.contentTimer){var a=this.contentTimer.$el,c=$(document).width();a.width(a.width());var b=c-a.width()-50;if(!a.hasClass("userDropped")||parseInt(a.css("left"),10)+a.width()>c)a.css("left",b+"px"),a.removeClass("userDropped")}};
DKI.PresentationPlayer.prototype.showPage=function(a,c){if("undefined"!==typeof dataStorage){var b=DKI.clone(dataStorage.findPage(a));if(b){var k=null,l=null,p=!0,m=DKI.func.debounce(function(){b.onWindowResize();q()},75,!1),q=function(){var a=$(".fancybox-item.fancybox-close",k),b=$(".fancybox-stage .fancybox-content",k),c=b.offset().top-window.pageYOffset-9,b=b.offset().left+b.outerWidth()-$(window).width()-25;a.css({top:c+"px",left:b+"px"})},h=function(){l.$refs.container.on("onUpdate.fb",m);l.$refs.container.one("onUpdate.fb",
function(){k.removeClass("loading")});l.update()},n=function(){p=!0},t,y=$('\x3cdiv class\x3d"dki-course-max-width"\x3e\x3c/div\x3e').css({"max-height":"100%",width:"100%",position:"relative","overflow-y":"auto","margin-bottom":"0",padding:"0"}).attr({role:"document"}),x=this;$(dataStorage).one(DKI.DataStorage.events.pageSelected,function(){$.fancybox.close()});var z=c||document.activeElement;$.fancybox.open(y,{animationEffect:!1,wrapCSS:"ignore_enter",closeBtn:!1,padding:0,margin:[20,60,20,60],scrolling:"no",
buttons:["close"],arrows:!1,keyboard:!1,infobar:!1,smallBtn:!1,touch:!1,autoFocus:!1,backFocus:!1,trapFocus:!1,lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},baseTpl:'\x3cdiv class\x3d"fancybox-container ignore_enter" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cdiv style\x3d"opacity:0;" class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+x.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},afterLoad:function(a){this.$slide.closest(".fancybox-container").attr("aria-label","Popup").css("opacity",0);a.current.$slide.closest(".fancybox-inner").find(".fancybox-button--close").on("keypress",function(a){13!=a.which&&32!=a.which||$.fancybox.close(y);return!1})},afterShow:function(a,c,h){p=!1;
b=new DKI.StandalonePage({contentAPI:x.contentAPI,containerEl:y[0],actions:b.actions,page:b,player:x});var l=this,m=a.current.$slide;q();t=function(){$(l.src).removeClass("loading");if(0==$("div.popup.modal:visible").length){var a=m.find(".dki-course-max-width *[tabindex\x3d'1']:visible").first();a[0]?a[0].focus():$(".fancybox-item.fancybox-close",k)[0].focus();if(a.length)m.find(".dki-html-element iframe").on("load",function(){a[0].focus()})}l.$slide.closest(".fancybox-container").css("opacity",
1);setTimeout(function(){$(".fancybox-close").css("opacity",1)},75)};$(document).on(DKI.ContentPage.events.loadFinished,t);b.start(0,!0);setTimeout(n,1E3);$(dataStorage).one(DKI.DataStorage.events.changePage,n)},beforeClose:function(){return p},afterClose:function(){$(document).off(DKI.ContentPage.events.loadFinished,null,h);$(document).off(DKI.ContentPage.events.loadFinished,null,t);$(dataStorage).off(DKI.DataStorage.events.changePage,null,n);l.$refs.container.off("onUpdate.fb",null,m);y.remove();
k=l=b=null;setTimeout(function(){DKI.enforceFocus(!1);DKI.reference.hideReference();DKI.reference.hideBibliography();var a=$("div.popup.modal:visible, .fancybox-inner:visible").last();a.length&&(DKI.enforceFocus(a),a=a.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),a.length&&a[0].focus());z.focus()},1)},beforeShow:function(a,c,n){c=this.$slide.closest(".fancybox-inner");c.after("\x3cdiv tabindex\x3d'1' style\x3d'position:absolute; bottom:1px; right:1px; height:1px; width:1px; opacity:0;'\x3e\x26nbsp;\x3c/div\x3e");
l=a;k=c;c.attr("role","dialog").attr("aria-label",b.title).find(".dki-course-max-width").attr("role","document");0==$("div.popup.modal:visible").length&&DKI.enforceFocus(c);c.addClass("loading");$(document).on(DKI.ContentPage.events.loadFinished,h)}})}}};DKI.PresentationPlayer.transitionClasses="none slide fade flip pop";
DKI.FeedbackPanel=function(){var a=null,c={},b,k=[],l,p=function(a){a=$(a);var b=a.offset();0>b.top&&(b.top=0);b.top+a.height()>$("body").height()&&(b.top=$("body").height()-a.height());0>b.left&&(b.left=0);b.left+a.width()>$("body").width()&&(b.left=$("body").width()-a.width());a.offset(b)},m=function(c,n,m){var q=null,t=function(){if(dkiUA.mobile)if(q&&0<=q.$tooltip.find(".tooltipster-arrow").attr("class").indexOf("tooltipster-arrow-bottom")){var a=$(window).height()+$(window).scrollTop()-(q.$elProxy.outerHeight()+
q.$elProxy.offset().top+27);q.$tooltip.find(".tooltipster-content").css({"max-height":a,"overflow-y":"auto"})}else q&&q.$tooltip.find(".tooltipster-content").css({"max-height":"","overflow-y":""})};n=DKI.applyIf(n?n:{},{contentAsHTML:!0,functionBefore:function(n,m){var w=n.data("tooltipsterNs")[0].split("-")[1];q=n.data("tooltipster"+w);$(window).on("scroll resize",t);var w=a.notes,y;c.hasClass("element-feedback-icon")&&(w=r(c.closest(".dki-authoring-element, .dki-authoring-element-element").data("id")));
var A=$(Handlebars.compile(DKI.templates.feedbackPanel.tooltipContent)({o:{notes:w},strings:l}));n.addClass("tooltip-open");$.each(k,function(){$(".feedback-note-body-wrapper[data-id\x3d'"+this.toString()+"'] .feedback-note-action.upvote",A).css("visibility","hidden")});n.tooltipster("content",A);n.hasClass("reviewerTabButton")?$(A).find(".feedback-closeFeedbackTab").eq(0).attr("id","closeToolbarFeedbackTab"):(w=pinnedElement.eq(0).attr("id"),$(A).find(".feedback-closeFeedbackTab").eq(0).attr("data-pinelement-id",
w),$(A).find(".feedback-closeFeedbackTab").eq(0).addClass("feedback-closeFeedbackTabOnElement"),"capture"==player.contentPage.current.getClaroElementById(pinnedElement.data("id")).elementtype&&(w=pinnedElement.eq(0).capture("getCurrentStep"))&&(y="Step "+w+": "));m();var I=$(n.tooltipster("elementTooltip"));I.on("click",".feedback-btnSubmit",function(){$(this).isDisabled()||h($(this).parent());return!1});I.on("click",".feedback-note-action.reply",function(){var a=$(this).parent().parent().find(".feedback-reply-wrapper");
a.show();a.find("textarea").focus();p(I)});I.on("click",".feedback-note-action.edit",function(){var a=$(this).parent().parent(),b=a.find(".feedback-edit-wrapper"),c=a.find(".feedback-btnSubmit");b.show();c.enable();b.find("textarea").focus();$(".feedback-note-body, .feedback-note-action.edit",a).hide();p(I)});I.on("click",".feedback-note-action.delete",function(){if(window.confirm("Are you sure you want to delete this note and all it's comments?")){var a=$(this).closest(".feedback-note-wrapper").data("id");
$(".feedback-note-wrapper[data-id\x3d'"+a+"']").remove();$.ajax({type:"POST",url:"../api/student.cfm/note/"+a,data:{active:!1},success:function(){z(a)}});p(I)}});I.on("click",".feedback-note-action.upvote",function(){var a=$(this).closest(".feedback-note-body-wrapper"),b=a.data("id"),c=x(b);c.rating++;a.find(".feedback-note-rating").html(c.rating);$(this).css("visibility","hidden");k.push(b);$.ajax({type:"PUT",url:"../api/student.cfm/note/"+c.id+"/upvote/"})});I.on("click","#closeToolbarFeedbackTab",
function(){$(feedbackTab).tooltipster("hide");return!1});I.on("click",".feedback-closeFeedbackTabOnElement",function(){var a=$(this).data("pinelement-id");this.getAttribute("id")||$("#"+a).find(".element-feedback-icon:first").tooltipster("hide");return!1});$(".feedback-note-wrapper[data-enteredby!\x3d'"+b.settings.userId+"']",I).find(".feedback-note-action.edit, .feedback-note-action.delete").hide();$(".feedback-note-wrapper[data-enteredby\x3d'"+b.settings.userId+"']",I).find(".feedback-note-action.upvote").css("visibility",
"hidden");I.find("textarea:first").val(y||"").focus()},functionAfter:function(a){$(window).off("scroll resize",t);q=null;a.removeClass("tooltip-open")},trigger:"click",onlyOne:!1,theme:"tooltipster-claro feedback",interactive:!0,contentCloning:!1,position:"bottom-right",updateAnimation:!1,positionTracker:!0},!0);c.tooltipster(n)},q=function(a){a=void 0===a?function(){}:a;$.ajax({type:"PUT",headers:{"Content-Type":"application/json; charset\x3dUTF-8"},processData:!1,url:"../ajax/course.cfm/endReview",
dataType:"json",success:function(b){a(b);player.exitCourse()},failure:function(){alert("There was a problem ending your review period. Please try again.")},context:player});return!1},h=function(b){if(""==b.find("textarea")[0].value)return!1;var h=b.find(".feedback-btnSubmit");h.disable();var k=function(b){var k=a.notes;b.parent_note_id&&""!=b.parent_note_id&&$.each(a.notes,function(){if(this.id==b.parent_note_id)return k=this.notes,!1});k.push(b);k.sort(function(a,b){return a.rating<b.rating?-1:a.rating>
b.rating?1:0});$(feedbackTab).data("page_notes",a.notes);a=c.set(a);var l=$(".feedback-tooltip-icon.tooltip-open");l.tooltipster("show",function(){p(l.tooltipster("elementTooltip"))});h.enable();return!0},l=player.inAssessment||player.inReview?player.dataStorage.assessment.currentQuestion.page:player.dataStorage.currentPage.page,n="PUT",m="../api/student.cfm/page/"+l.pageid+"/note";pinnedElement&&(m="../api/student.cfm/page/"+l.pageid+"/"+pinnedElement.data("id")+"/note");l={description:$("\x3cdiv\x3e"+
b.find("textarea")[0].value+"\x3c/div\x3e").text(),reviewerUaSettings:JSON.stringify({UAString:navigator.userAgent,sniffer:dkiUA}),windowHeight:$(window).height(),windowWidth:$(window).width(),course_id:player.course.courseid};b.data("parent_note_id")&&(m="../api/student.cfm/note/"+b.data("parent_note_id")+"/comment");if(b.data("id")){n="POST";m="../api/student.cfm/note/"+b.data("id");k=function(){};b=x(b.data("id"));b.description=l.description;var r=$(".feedback-note-body-wrapper[data-id\x3d'"+b.id+
"']");r.find(".feedback-note-body").html(b.description);r.find(".feedback-edit-wrapper").hide();r.find(".feedback-note-body, .feedback-note-action.edit").show()}k={type:n,headers:{"Content-Type":"application/json; charset\x3dUTF-8"},processData:!1,url:m,dataType:"json",success:k,context:player};/\S/.test(l.description)&&(k.data=JSON.stringify(l),$.ajax(k));return!1},n=function(a){var c=function(a){b.dataStorage.getElement($(this).data("id"));pinnedElement=$(this);$("body").removeClass("pin-feedback-mode");
t($(this));var k=$(this).find(".element-feedback-icon:first");$(".element-feedback-icon.tooltip-open, #feedbackTab").tooltipster("hide");k.tooltipster("show",function(){p(k.tooltipster("elementTooltip"))});a.stopImmediatePropagation();$(".dki-authoring-element, .dki-authoring-element-element").off(player.settings.clickEvent,c);$(".dkiContentFrame.current").off(a,h);return!1},h=function(a){$("body").removeClass("pin-feedback-mode");a&&a.stopImmediatePropagation();$(".dki-authoring-element, .dki-authoring-element-element").off(player.settings.clickEvent,
c);$(".dkiContentFrame.current").off(player.settings.clickEvent,h);return!1};$("body").hasClass("pin-feedback-mode")?h():($("body").addClass("pin-feedback-mode"),$(".dki-authoring-element, .dki-authoring-element-element").on(player.settings.clickEvent,c),$(".dkiContentFrame.current").on(player.settings.clickEvent,h));$(feedbackTab).tooltipster("hide");$(answerKey).hasClass("tooltip-open")&&$(answerKey).tooltipster("hide");$(".element-feedback-icon.tooltip-open").tooltipster("hide");a.stopImmediatePropagation();
return!1},t=function(a){if(!a.hasClass("has-review-note")){var b=a.find(".element-feedback-icon:first");b.data("page_notes",[]);b.on(settings.clickEvent,function(c){pinnedElement=a;b.hasClass("tooltip-open")?b.tooltipster("hide"):($(".feedback-tooltip-icon.tooltip-open").tooltipster("hide"),b.tooltipster("show",function(){p(b.tooltipster("elementTooltip"))}));c.stopImmediatePropagation();c.stopPropagation();return!1});m(b);b.attr("title","Element Feedback");a.addClass("has-review-note")}},y=function(a){$.each(a.page.notes,
function(){if(this.element_id){var a=$("#"+this.element_id+"_wrapper");t(a)}})},x=function(b){for(var c=0;c<a.notes.length;c++){var h=a.notes[c];if(h.id==b)return h;for(var k=0;k<h.notes.length;k++)if(h.notes[k].id==b)return h.notes[k]}},z=function(b){var c=[];$.each(a.notes,function(){if(this.id!=b){for(var a=[],h=0;h<this.notes.length;h++)this.notes[h].id!=b&&a.push(this.notes[h]);this.notes=a;c.push(this)}});a.notes=c},r=function(b){var c=[];$.each(a.notes,function(){this.element_id==b&&c.push(this)});
return c};return{init:function(h,k,r){b=h;l=r;c=k;k=Handlebars.compile(DKI.templates.feedbackPanel.toolbar)({strings:l});$("body").append(k);var p=$("#feedbackTab");k=$("#endReviewTab");var t=$("#pinFeedback"),x=$("#answerKey");p.css("display","block");$("#reviewerTabContainer").draggable({drag:function(a,b){a=b.originalPosition.top+(b.position.top-b.originalPosition.top)/settings.scale;b.position.left=b.originalPosition.left+(b.position.left-b.originalPosition.left)/settings.scale;b.position.top=
a},containment:"window"});p.on(h.settings.clickEvent,function(a){pinnedElement=null;$(".element-feedback-icon.tooltip-open").tooltipster("hide");a.stopPropagation();return!1});m(p,{position:"top-right",onlyOne:!1});p.attr("title","Review Feedback");h.dataStorage.courseStructure.isDebug?k.css("display","block"):k.remove();k.on(h.settings.clickEvent+" keypress",function(a){q()});t.css("display","block");t.on(h.settings.clickEvent+" keypress",function(a){t.isDisabled()||n(a)});x.hide().tooltipster({contentAsHTML:!0,
functionBefore:function(a,c){var h=Handlebars.compile(DKI.templates.feedbackPanel.answerKey)({assessment:contentApi.getCurrentAssessment(),question:b.contentPage.current.question,strings:l});a.addClass("tooltip-open");a.tooltipster("content",h);c();a=$(a.tooltipster("elementTooltip"));$(".question-option-element-link",a).on("mouseenter",function(){var a=$(this);contentApi.getElementWrapper(a.data("id")).addClass("feedback-highlighted")});$(".question-option-element-link",a).on("mouseleave",function(){var a=
$(this);contentApi.getElementWrapper(a.data("id")).removeClass("feedback-highlighted")});$("#closeAnswerKey",a).on(settings.clickEvent,function(){x.tooltipster("hide")})},functionAfter:function(a){a.removeClass("tooltip-open")},trigger:"custom",onlyOne:!1,theme:"tooltipster-claro",interactive:!0,contentCloning:!1,position:"top-left",positionTracker:!0,updateAnimation:!1});x.on("click",function(){x.hasClass("tooltip-open")?x.tooltipster("hide"):x.isDisabled()||x.tooltipster("show")});$(document).on(DKI.ContentPage.events.started,
function(b,c){y(c);a=c.page;p.data("page_notes",a.notes);$(".element-feedback-icon.tooltip-open").tooltipster("hide");p.hasClass("tooltip-open")&&p.tooltipster("show");x.hasClass("tooltip-open")&&x.tooltipster("show");p.enable().tooltipster("enable");t.enable();h.contentPage.current.question?(x.enable().tooltipster("enable"),x.attr("title","Assessment Details")):(x.disable().tooltipster("disable"),x.removeAttr("title"))});$(document).on([DKI.EndCourse.events.started,DKI.EndModule.events.started,DKI.EndTest.events.started].join(" "),
function(){$(".element-feedback-icon.tooltip-open").tooltipster("hide");x.disable().tooltipster("disable");p.disable().tooltipster("disable");t.disable()});return!0}}}();
DKI.DataStorage=$.Class({init:function(a,c,b,k,l){var p=this;this.ready=this.courseTime=this.eventsInitialized=!1;this.courseStructure=this.initStructure(a);this.behaviour=c;this.strings=b;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.store={assets:{},groups:{},elements:{},resources:{},relationships:{glossaryElement:{},assetElement:{},citationGlossary:{}}};this.completion={dataChunk:{},elements:{},progress:""};k?this.bookmark=k:l&&(a=this.getPageFromSubeo(l))&&(this.bookmark=
a.id);this.currentModule=this.courseStructure.modules[this.currentModuleIndex];this.currentObject=this.currentModule.objects[this.currentObjectIndex];this.currentPage=this.currentObject.subeos[this.currentPageIndex];this.moduleCount=this.courseStructure.modules.length;this.currentObjectCount=this.currentModule.objects.length;this.currentPageCount=this.currentObject.subeos.length;this.previousPage=null;0<this.currentPageIndex&&(this.previousPage=this.getPreviousPage());this.nextPage=this.getNextPage();
this.currentModulePageTotal=this.countModulePages(this.currentModule);this.currentModulePage=this.currentPageIndex+1;this.passMark=this.courseStructure.passmark;this.assessment=null;this.lessonStatus="incomplete";this.contentVariables={};this.contentVariableMeta={};var m={number:0,string:"","boolean":!1};$.each(settings.course.custom_variables,function(a,b){p.contentVariables[b.name]=m[b.type]});this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime();
this.indexAssets();$(document).on(DKI.resourceBrowser.events.resourceRegistered,$.proxy(function(a,b){b.isResource=!0;this.store.assets[b.id]||(this.store.assets[b.id]=b);this.store.resources[b.id]||(this.store.resources[b.id]=b)},this));$(document).on(DKI.courseStore.events.groupRegistered,$.proxy(function(a,b){this.store.groups[b.id]=b},this));$(document).on(DKI.courseStore.events.elementRegistered,$.proxy(function(a,b){this.store.elements[b.elementid]=b;b.upload_id&&this.setRelationship("assetElement",
b.upload_id,b.elementid);if("htm"==b.elementtype||"table"==b.elementtype||"authoringButton"==b.elementtype){var c=this;$("\x3cdiv\x3e"+b.meta.replace(/src=/g,"")+"\x3c/div\x3e").find(".dki-glossary-link").each(function(){var a=$(this).data("id");c.setRelationship("glossaryElement",a,b.elementid)})}},this));$(document).one(DKI.ContentPage.events.loadFinished,$.proxy(function(){this.startCourseTimer()},this))}});
DKI.DataStorage.prototype.getRelationship=function(a,c){var b=[];return this.store.relationships[a]?this.store.relationships[a][c]?this.store.relationships[a][c]:b:b};DKI.DataStorage.prototype.setRelationship=function(a,c,b){this.store.relationships[a]||(this.store.relationships[a]={});this.store.relationships[a][c]?0>$.inArray(b,this.store.relationships[a][c])&&this.store.relationships[a][c].push(b):this.store.relationships[a][c]=[b]};
DKI.DataStorage.prototype.indexAssets=function(){for(var a=0;a<DKI.assets.length;a++){var c=DKI.assets[a];this.store.assets[c.id]||(c.labels="",this.store.assets[c.id]=c,$(document).trigger(DKI.DataStorage.events.assetRegistered,[c]))}};DKI.DataStorage.prototype.allTestsAttempted=function(){var a,c;return this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(a=this.modulesWithTesting().length,c=this.modulesTestAttempted().length,c==a):!0};
DKI.DataStorage.prototype.createAssessment=function(a,c,b){return new DKI.Assessment(a,c,b)};DKI.DataStorage.prototype.checkObjectComplete=function(a){for(var c=a.subeos.length,b=0,k=0;k<c;k++)a.subeos[k].complete&&(b+=1);b===c&&this.markObjectComplete(a)};DKI.DataStorage.prototype.checkModuleComplete=function(a){for(var c=a.objects.length,b=0,k=0;k<c;k++)a.objects[k].complete&&(b+=1);b===c&&this.markModuleComplete(a)};
DKI.DataStorage.prototype.checkCourseComplete=function(){for(var a=0,c=0,b=0;b<this.courseStructure.modules.length;b++)this.courseStructure.modules[b].invalidated||(a+=1,this.courseStructure.modules[b].complete&&(c+=1));c===a&&(this.courseStructure.complete||$(this).trigger(DKI.DataStorage.events.courseCompleted),this.doSetCourseComplete())};
DKI.DataStorage.prototype.countCoursePages=function(){for(var a=0,c=0;c<this.courseStructure.modules.length;c+=1)this.courseStructure.modules[c].invalidated||(a+=this.countModulePages(this.courseStructure.modules[c]));return a};DKI.DataStorage.prototype.countModulePages=function(a){for(var c=0,b=0;b<a.objects.length;b++)c+=a.objects[b].subeos.length;return c};DKI.DataStorage.prototype.createPreTest=function(a){this.createTest(a,"pre")};
DKI.DataStorage.prototype.createPostTest=function(a){this.createTest(a,"post")};
DKI.DataStorage.prototype.createTest=function(a,c){a="object"===typeof a?a:this.findModule(a);var b=this.loadTest(a),k=!0;"pre"===c?0<this.remainingPreAttempts(a)?a.pre={attempts:1,weight:null,points:0,score:0}:k=!1:0<this.remainingPostAttempts(a)?a.post?a.post.attempts++:a.post={attempts:1,weight:null,points:0,score:0}:k=!1;k?(this.assessment=this.createAssessment(a,c,b),$(this).trigger(DKI.DataStorage.events.assessmentReady),$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)):
$(this).trigger(DKI.DataStorage.events.attemptsMaxed)};DKI.DataStorage.prototype.createReview=function(a){a.test&&(a=a.test);this.assessment=new DKI.AssessmentReview(a);$(this).trigger(DKI.DataStorage.events.assessmentReady);$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)};DKI.DataStorage.prototype.getElement=function(a){return this.store.elements[a]};
DKI.DataStorage.prototype.getElementByDragDropId=function(a){var c=null;$.each(this.store.elements,function(){if(this.dragdrop_id.toLowerCase()==a.toLowerCase())return c=this,!1});return c};DKI.DataStorage.prototype.getGroup=function(a){return this.store.groups[a]};DKI.DataStorage.prototype.getAsset=function(a){return this.store.assets[a]};
DKI.DataStorage.prototype.findPage=function(a){for(var c,b,k=0;k<this.courseStructure.modules.length;k++){c=this.courseStructure.modules[k];for(var l=0;l<c.objects.length;l++){b=c.objects[l];for(var p=0;p<b.subeos.length;p++)if(b.subeos[p].page.pageid==a)return b.subeos[p].page}}if(this.courseStructure.resourcePages)for(k=0;k<this.courseStructure.resourcePages.length;k++)if(this.courseStructure.resourcePages[k].pageid==a)return this.courseStructure.resourcePages[k]};
DKI.DataStorage.prototype.findSubeo=function(a){for(var c,b,k=0;k<this.courseStructure.modules.length;k++){c=this.courseStructure.modules[k];for(var l=0;l<c.objects.length;l++){b=c.objects[l];for(var p=0;p<b.subeos.length;p++)if(b.subeos[p].subeoid==a)return b.subeos[p]}}};
DKI.DataStorage.prototype.getSubeoFromPage=function(a){for(var c,b,k=0;k<this.courseStructure.modules.length;k++){c=this.courseStructure.modules[k];for(var l=0;l<c.objects.length;l++){b=c.objects[l];for(var p=0;p<b.subeos.length;p++)if(b.subeos[p].page.pageid==a)return b.subeos[p]}}};
DKI.DataStorage.prototype.getPageFromSubeo=function(a){for(var c,b,k=0;k<this.courseStructure.modules.length;k++){c=this.courseStructure.modules[k];for(var l=0;l<c.objects.length;l++){b=c.objects[l];for(var p=0;p<b.subeos.length;p++)if(b.subeos[p].subeoid==a)return b.subeos[p].page}}};DKI.DataStorage.prototype.getModuleEnd=function(a){var c;if("string"===typeof a||"number"===typeof a)a=this.findModule(a);c=a.objects.length-1;return a.objects[c].subeos[a.objects[c].subeos.length-1]};
DKI.DataStorage.prototype.getUserID=function(){return"N/A"};DKI.DataStorage.prototype.findObject=function(a){for(var c,b=0;b<this.courseStructure.modules.length;b++){c=this.courseStructure.modules[b];for(var k=0;k<c.objects.length;k++)if(c.objects[k].objectid==a)return c.objects[k]}};DKI.DataStorage.prototype.findModule=function(a){for(var c=0;c<this.courseStructure.modules.length;c++)if(this.courseStructure.modules[c].loid==a)return this.courseStructure.modules[c]};
DKI.DataStorage.prototype.getModuleByIndex=function(a){return this.courseStructure.modules[a]};DKI.DataStorage.prototype.findModuleIndex=function(a){"object"===typeof a&&(a=a.loid);for(var c=0;c<this.courseStructure.modules.length;c++)if(this.courseStructure.modules[c].loid==a)return c};DKI.DataStorage.prototype.getFirstNonInvalidatedModule=function(){for(var a=0;a<this.courseStructure.modules.length;a++)if(!this.courseStructure.modules[a].invalidated)return this.courseStructure.modules[a];return null};
DKI.DataStorage.prototype.getAssessmentScore=function(){return this.assessment?this.assessment.getScore():null};DKI.DataStorage.prototype.getAssessmentScoringDetails=function(){return this.assessment?{score:this.assessment.getScore(),points:this.assessment.getPoints(),weight:this.assessment.getWeight()}:null};
DKI.DataStorage.prototype.getCourseCompletion=function(a){var c=0,b=0,k,l;if(this.courseStructure.complete&&!a||"1"==this.courseStructure.testOnly&&this.allTestsAttempted()&&this.isPassed()||(this.courseStructure.complete||"testing"==this.behaviour.completionCriteria)&&a&&this.allTestsAttempted()&&this.isPassed())return 100;for(var p=0;p<this.courseStructure.modules.length;p++)if(!this.courseStructure.modules[p].invalidated){k=this.courseStructure.modules[p];for(var m=0;m<k.objects.length;m++)if(l=
k.objects[m],c+=l.subeos.length,l.complete||k.complete)b+=l.subeos.length;else for(var q=0;q<l.subeos.length;q++)l.subeos[q].complete&&b++;(a||"1"==this.courseStructure.testOnly)&&this.moduleHasTest(k)&&(l=this.getModuleScoringDetails(k),k=this.loadTest(k).questions.length,c+=k,l.passed&&(b+=k))}if(a||"1"==this.courseStructure.testOnly)for("testing"==this.behaviour.completionCriteria&&(b=c=0),p=0;p<this.courseStructure.modules.length;p++)this.courseStructure.modules[p].invalidated||(k=this.courseStructure.modules[p],
this.moduleHasTest(k)&&(l=this.getModuleScoringDetails(k),k=this.loadTest(k).questions.length,c+=k,l.passed&&(b+=k)));return 0==c&&0==b?0:Math.round(b/c*1E5)/1E3};DKI.DataStorage.prototype.getCourseScore=function(){return this.hasTesting()?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getCourseScoringDetails=function(){for(var a=parseFloat(0,"10"),c=0,b,k=0;k<this.courseStructure.modules.length;k++)this.courseStructure.modules[k].invalidated||(b=this.getModuleScoringDetails(this.courseStructure.modules[k]),c+=b.weight,a+=b.points);a=parseFloat(a.toFixed(1),10);return{score:0<a&&0<c?parseInt(a/c*100,10):0,weight:c,points:a}};DKI.DataStorage.prototype.getCourseScoreAvg=function(){return this.hasTesting?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getContentVariable=function(a){return this.contentVariables[a]};DKI.DataStorage.prototype.setContentVariable=function(a,c,b){this.contentVariables[a]=c;b&&(b.value=c,this.contentVariableMeta[a]=b);this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime()};DKI.DataStorage.prototype.getContentVariableMeta=function(a){return this.contentVariableMeta[a]};
DKI.DataStorage.prototype.getCurrentQuestion=function(){if(this.assessment&&this.assessment.currentQuestion)return this.assessment.currentQuestion};DKI.DataStorage.prototype.getNextQuestion=function(){if(this.assessment)return this.assessment.nextQuestion};DKI.DataStorage.prototype.getPreviousQuestion=function(){if(this.assessment)return this.assessment.previousQuestion};DKI.DataStorage.prototype.getCurrentQuestionCount=function(){if(this.assessment)return this.assessment.currentQuestionCount};
DKI.DataStorage.prototype.getModuleCompletion=function(a){var c=0,b=0;if("number"===typeof a||"string"===typeof a)a=this.findModule(a);if(a.complete)return 100;for(var k=0;k<a.objects.length;k++)if(c+=a.objects[k].subeos.length,a.objects[k].complete)b+=a.objects[k].subeos.length;else for(var l=0;l<a.objects[k].subeos.length;l++)a.objects[k].subeos[l].complete&&b++;return Math.round(b/c*1E5)/1E3};
DKI.DataStorage.prototype.getModuleScore=function(a){var c=null;if("number"===typeof a||"string"===typeof a)a=this.findModule(a);a.pre&&(c=a.pre.score);a.post&&(c&&a.post.score>c||!c)&&(c=a.post.score);return c};
DKI.DataStorage.prototype.getModuleScoringDetails=function(a){var c=null,b=0,k=null,l;if("number"===typeof a||"string"===typeof a)a=this.findModule(a);a.pre&&(c=a.pre.score,b=a.pre.points,k=a.pre.weight);a.post&&(c&&a.post.score>c||!c)&&(c=a.post.score,b=a.post.points,k=a.post.weight);var p=null;0===k?l=!0:a.passing_mark?(l=c>=a.passing_mark,p=a.passing_mark):(l=c>=this.passMark,p=this.passMark);return{score:c,points:parseFloat(b.toFixed(1),10),weight:k,passed:l,assessment:a.lastAssessment,passMark:p}};
DKI.DataStorage.prototype.getPreviousModule=function(){if(0<this.currentModuleIndex)return this.courseStructure.modules[this.currentModuleIndex-1]};
DKI.DataStorage.prototype.getPrecedingPage=function(a){var c,b;a?(b=this.locatePage(a),a=b.page,c=b.object,b=b.module):(a=this.currentPageIndex,c=this.currentObjecIndex,b=this.currentModuleIndex);return 0<a?this.courseStructure.modules[b].objects[c].subeos[a-1]:0<c?(c--,a=this.courseStructure.modules[b].objects[c].subeos.length-1,this.courseStructure.modules[b].objects[c].subeos[a]):0<b?(b--,c=this.courseStructure.modules[b].objects.length-1,a=this.courseStructure.modules[b].objects[c].subeos.length-
1,this.courseStructure.modules[b].objects[c].subeos[a]):null};
DKI.DataStorage.prototype.getProceedingPage=function(a){var c,b;a?(b=this.locatePage(a),a=b.page,c=b.object,b=b.module):(a=this.currentPageIndex,c=this.currentObjecIndex,b=this.currentModuleIndex);return a<this.courseStructure.modules[b].objects[c].subeos.length-1?this.courseStructure.modules[b].objects[c].subeos[a+1]:c<this.courseStructure.modules[b].objects.length-1?(c++,this.courseStructure.modules[b].objects[c].subeos[0]):b<this.courseStructure.modules[b].length-1?(b++,this.courseStructure.modules[b].objects[0].subeos[0]):
null};DKI.DataStorage.prototype.getTotalQuestions=function(){if(this.assessment)return this.assessment.totalQuestions};
DKI.DataStorage.prototype.getNextPage=function(){var a;return this.currentPageIndex<this.currentPageCount-1?this.currentObject.subeos[this.currentPageIndex+1]:this.currentObjectIndex<this.currentObjectCount-1?(a=this.currentModule.objects[this.currentObjectIndex+1],a.subeos[0]):this.currentModuleIndex<this.moduleCount-1?(a=this.courseStructure.modules[this.currentModuleIndex+1],a=a.objects[0],a.subeos[0]):null};
DKI.DataStorage.prototype.getPreviousPage=function(){var a,c;return 0<this.currentPageIndex?this.currentObject.subeos[this.currentPageIndex-1]:0<this.currentObjectIndex?(c=this.currentModule.objects[this.currentObjectIndex-1],a=c.subeos.length,c.subeos[a-1]):0<this.currentModuleIndex?(c=this.courseStructure.modules[this.currentModuleIndex-1],a=c.objects.length,c=c.objects[a-1],a=c.subeos.length,c.subeos[a-1]):null};
DKI.DataStorage.prototype.goNextPage=function(){this.currentPageIndex<this.currentPageCount-1?(this.currentPageIndex++,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage++,$(this).trigger(DKI.DataStorage.events.changePage,"forward"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goNextObject();this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};
DKI.DataStorage.prototype.goPreviousPage=function(){0<this.currentPageIndex?(this.currentPageIndex--,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage--,$(this).trigger(DKI.DataStorage.events.changePage,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goPreviousObject();this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};
DKI.DataStorage.prototype.goNextObject=function(){this.currentObjectIndex<this.currentObjectCount-1?(this.currentObjectIndex++,this.currentPageIndex=0,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage++,this.currentPageCount=this.currentObject.subeos.length,$(this).trigger(DKI.DataStorage.events.changeObject,"forward"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):
this.goNextModule()};
DKI.DataStorage.prototype.goPreviousObject=function(){0<this.currentObjectIndex?(this.currentObjectIndex--,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentModulePage--,this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=this.currentPageCount-1,this.currentPage=this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.changeObject,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):
this.goPreviousModule()};
DKI.DataStorage.prototype.goNextModule=function(){var a=!1;if(this.currentModuleIndex<this.moduleCount-1)return this.currentModuleIndex++,this.currentPageIndex=this.currentObjectIndex=0,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,
this.currentModulePage=1,this.currentModulePageTotal=this.countModulePages(this.currentModule),$(this).trigger(DKI.DataStorage.events.changeModule,"forward"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0;this.currentModuleIndex==this.courseStructure.modules.length-1&&this.moduleHasTest(this.currentModule)&&(a=!0,this.currentModuleIndex+=1);$(this).trigger(DKI.DataStorage.events.courseEnd,a);return!1};
DKI.DataStorage.prototype.getNextModule=function(a){var c=this.currentModuleIndex;a&&(c=this.findModuleIndex(a));return c<this.moduleCount-1?this.courseStructure.modules[c+1]:null};
DKI.DataStorage.prototype.goPreviousModule=function(){0<this.currentModuleIndex&&(this.currentModuleIndex--,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentModulePage=this.currentModulePageTotal=this.countModulePages(this.currentModule),this.currentObjectCount=this.currentModule.objects.length,this.currentObjectIndex=this.currentObjectCount-1,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPageCount=this.currentObject.subeos.length,
this.currentPageIndex=this.currentPageCount-1,this.currentPage=this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.changeModule,"back"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage))};
DKI.DataStorage.prototype.navigateToModule=function(a){a=this.findModule(a);var c=-1;a&&(c=this.findModuleIndex(a));return 0<=c?(this.currentModuleIndex=c,this.currentPageIndex=this.currentObjectIndex=0,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,
this.currentModulePage=1,this.currentModulePageTotal=this.countModulePages(this.currentModule),$(this).trigger(DKI.DataStorage.events.changeModule,"forward"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0):!1};
DKI.DataStorage.prototype.goNextQuestion=function(){this.assessment&&this.assessment.goNextQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.goPreviousQuestion=function(){this.assessment&&this.assessment.goPreviousQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.hasTesting=function(){for(var a=0;a<this.courseStructure.modules.length;a++)if(0<this.courseStructure.modules[a].weight)return!0;return!1};DKI.DataStorage.prototype.initEvents=function(){var a=this;this.eventsInitialized||($(this).bind(DKI.DataStorage.events.courseCompleted,function(){a.onCourseComplete()}),$(this).on(DKI.DataStorage.events.assessmentCompleted,function(c){a.onAssessmentComplete(c)}),this.eventsInitialized=!0)};
DKI.DataStorage.prototype.initStructure=function(a){for(var c=0;c<a.modules.length;c++)this.moduleHasTest(a.modules[c])?a.modules[c].weight=1:a.modules[c].weight=0,0!=a.modules[c].parameters.content_time&&"undefined"!==typeof a.modules[c].parameters.content_time&&(a.modules[c].hasContentTimer=!0,this.courseTime+=a.modules[c].parameters.content_time,a.modules[c].parameters.content_time_original=a.modules[c].parameters.content_time),$.each(a.modules[c].objects,function(){$.each(this.subeos,function(){"question"==
this.page.pagetype&&(this.page.question=this.question)});$.each(this.questions,function(){this.page.question=this})});return a};DKI.DataStorage.prototype.isEndOfModule=function(){return this.currentModulePage===this.currentModulePageTotal};DKI.DataStorage.prototype.isEndOfCourse=function(){return this.isEndOfModule()&&this.currentModuleIndex===this.moduleCount-1};
DKI.DataStorage.prototype.isMaxedOut=function(a){var c=1;if("string"===typeof a||"number"===typeof a)a=this.findModule(a);this.behaviour.allowRetesting&&(c+=parseInt(this.behaviour.retestAttempts,"10"));return!(!a.post||a.post.attempts<c||this.behaviour.allowRetesting&&0===this.behaviour.retestAttempts)};
DKI.DataStorage.prototype.isPassed=function(a){a||(a=this.getCourseScoringDetails());var c=!1,b=!0;if(a.score>=this.passMark&&this.allTestsAttempted())if(this.behaviour.passModules){for(c=0;c<this.courseStructure.modules.length;c+=1)if(!this.courseStructure.modules[c].invalidated&&(a=this.getModuleScoringDetails(this.courseStructure.modules[c]),0<this.courseStructure.modules[c].weight&&!a.passed)){b=!1;break}c=b}else c=!0;return c};
DKI.DataStorage.prototype.isFailed=function(a){a||(a=this.getCourseScoringDetails());a=a.score<this.passMark&&this.testMaxedOut();if(!a&&this.behaviour.passModules)for(var c=0;c<this.courseStructure.modules.length;c+=1)if(!this.courseStructure.modules[c].invalidated&&(moduleDetails=this.getModuleScoringDetails(this.courseStructure.modules[c]),0<this.courseStructure.modules[c].weight&&!moduleDetails.passed&&this.isMaxedOut(this.courseStructure.modules[c]))){a=!0;break}return a};
DKI.DataStorage.prototype.jumpToModule=function(a){"object"!==typeof a&&(a=this.findModule(a));if(!a)return!1;this.currentModule=a;this.currentModuleIndex=this.findModuleIndex(a);this.courseStructure.testonly?this.currentPageIndex=this.currentPage=this.currentObjectIndex=this.currentObject=null:(this.currentObject=a.objects[0],this.currentObjectIndex=0,this.currentPage=this.currentObject.subeos[0],this.currentPageIndex=0,this.currentModulePageTotal=this.countModulePages(this.currentModule),this.currentModulePage=
1,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.previousPage=this.getPreviousPage(),this.nextPage=this.getNextPage(),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage));$(this).trigger(DKI.DataStorage.events.changeModule,"jump");return!0};
DKI.DataStorage.prototype.jumpToPage=function(a){for(var c,b,k="object"===typeof a?a.pageid:a,l=0;l<this.courseStructure.modules.length;l++){a=this.courseStructure.modules[l];for(var p=b=0;p<a.objects.length;p++){c=a.objects[p];for(var m=0;m<c.subeos.length;m++)if(b++,c.subeos[m].page.pageid==k)return this.currentPageIndex=m,this.currentPage=c.subeos[m],this.currentObjectIndex=p,this.currentObject=c,this.currentModuleIndex=l,this.currentModule=a,this.currentModulePageTotal=this.countModulePages(this.currentModule),
this.currentModulePage=b,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.previousPage=this.getPreviousPage(),this.nextPage=this.getNextPage(),$(this).trigger(DKI.DataStorage.events.changeModule,"jump"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0}}};
DKI.DataStorage.prototype.loadCompletion=function(){var a=DKI.uri.decodeCurrentLocation();""!==window.location.hash?this.bookmark=window.location.hash.replace("#page",""):a.pageID&&(this.bookmark=a.pageID);this.initEvents();$(this).trigger(DKI.DataStorage.events.beforeReady);$(document).trigger(DKI.DataStorage.events.beforeReady);this.ready=!0;$(this).trigger(DKI.DataStorage.events.ready);$(document).trigger(DKI.DataStorage.events.ready)};DKI.DataStorage.prototype.getElementCompletion=function(){return!1};
DKI.DataStorage.prototype.saveElementCompletion=function(a,c){(c||function(){})()};DKI.DataStorage.prototype.completePreviousPages=function(a){if("string"===typeof a||"number"===typeof a)a=this.findPage(a);for(var c,b,k=0;k<this.courseStructure.modules.length;k++){c=this.courseStructure.modules[k];for(var l=0;l<c.objects.length;l++){b=c.objects[l];for(var p=0;p<b.subeos.length;p++)if(b.subeos[p].page.pageid!=a.pageid)this.markSubeoComplete(b.subeos[p]);else return null;this.markObjectComplete(b)}this.markModuleComplete(c)}};
DKI.DataStorage.prototype.invalidateModule=function(a){if("string"===typeof a||"number"===typeof a)a=this.findModule(a);"undefined"!==typeof a&&(a.invalidated=!0)};DKI.DataStorage.prototype.markSubeoComplete=function(a){var c;if("string"===typeof a||"number"===typeof a)a=this.findSubeo(a);"undefined"!==typeof a&&(this.doSetPageComplete(a),a.complete=!0,c=this.findObject(a.objectid),c.started=!0,$(this).trigger(DKI.DataStorage.events.pageCompleted,a.page.pageid),this.checkObjectComplete(c))};
DKI.DataStorage.prototype.markObjectComplete=function(a,c){if("string"===typeof a||"number"===typeof a)a=this.findObject(a);if("undefined"!==typeof a){var b=!a.complete&&!c;this.doSetObjectComplete(a,c);c=this.findModule(a.moduleid);c.started=!0;b&&$(this).trigger(DKI.DataStorage.events.objectCompleted,a.objectid);this.checkModuleComplete(this.findModule(a.moduleid))}};
DKI.DataStorage.prototype.markModuleComplete=function(a,c){if("string"===typeof a||"number"===typeof a)a=this.findModule(a);if("undefined"!==typeof a){var b=!a.complete;this.doSetModuleComplete(a,c);b&&$(this).trigger(DKI.DataStorage.events.moduleCompleted,a.loid);this.checkCourseComplete()}};DKI.DataStorage.prototype.markCourseComplete=function(){this.doSetCourseComplete();this.checkCourseComplete()};
DKI.DataStorage.prototype.moduleHasTest=function(a){for(var c=0;c<a.objects.length;c++)if(0!==a.objects[c].randQuest&&0<a.objects[c].questions.length)return!0;return!1};DKI.DataStorage.prototype.modulesTestAttempted=function(){for(var a=this.modulesWithTesting(),c=[],b=0;b<a.length;b++)if("object"==typeof a[b].pre||"object"==typeof a[b].post)c[c.length]=a[b];return c};
DKI.DataStorage.prototype.modulesWithTesting=function(){for(var a=[],c=0;c<this.courseStructure.modules.length;c++)this.courseStructure.modules[c].invalidated||0<this.courseStructure.modules[c].weight&&(a[a.length]=this.courseStructure.modules[c]);return a};DKI.DataStorage.prototype.remainingPreAttempts=function(a){if(this.behaviour.enablePreTest){if("string"===typeof a||"number"===typeof a)a=this.findModule(a);if(0===a.weight||a.pre||0<this.getModuleCompletion(a))return 0}else return 0;return 1};
DKI.DataStorage.prototype.remainingPostAttempts=function(a){var c,b=0;if(this.behaviour.enablePostTest){if("string"===typeof a||"number"===typeof a)a=this.findModule(a);if(0===a.weight)return 0;c=this.behaviour.allowRetesting?parseInt(this.behaviour.retestAttempts,10)+1:1;a.post&&(b=a.post.attempts);c-=b;0>c&&(c=0);this.behaviour.allowRetesting&&"0"==this.behaviour.retestAttempts&&(c=1);return c}return 0};
DKI.DataStorage.prototype.resume=function(a){this.bookmark&&("on"===a||"prompt"===a&&window.confirm(this.strings.iResume))?this.jumpToPage(this.bookmark):$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)};DKI.DataStorage.prototype.setCurrentPageComplete=function(){this.markSubeoComplete(this.currentPage)};DKI.DataStorage.prototype.setCurrentObjectComplete=function(){this.markObjectComplete(this.currentObject)};
DKI.DataStorage.prototype.setPageComplete=function(a){(a=this.getSubeoFromPage(a))&&this.markSubeoComplete(a)};DKI.DataStorage.prototype.setObjectComplete=function(a){(a=this.findObject(a))&&this.markObjectComplete(a)};DKI.DataStorage.prototype.setModuleComplete=function(a,c){(a=this.findModule(a))&&this.markModuleComplete(a,c)};
DKI.DataStorage.prototype.submitCurrentQuestion=function(a,c,b){c="undefined"===typeof c?0:c;if(this.assessment){var k=this.assessment.currentQuestion;c=DKI.Marker.scoreQuestion(k,a.options,c);this.assessment.scoreQuestion(k,a,c);if(this.assessment.currentQuestion)$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion);else if(0===this.assessment.unanswered.length||b)"pre"===this.assessment.prepost?(this.assessment.module.pre.score=this.assessment.getScore(),this.assessment.module.pre.points=
parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.pre.weight=this.assessment.getWeight(),a=this.getModuleScoringDetails(this.assessment.module),this.behaviour.pretestSkipContent&&a.passed&&(this.setModuleComplete(this.currentModule.loid,!0),this.goNextModule())):(this.assessment.module.post.score=this.assessment.getScore(),this.assessment.module.post.points=parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.post.weight=this.assessment.getWeight()),$(this).trigger(DKI.DataStorage.events.assessmentCompleted);
$(this).trigger(DKI.DataStorage.events.questionSubmitted,c)}return c};
DKI.DataStorage.prototype.testMaxedOut=function(){var a=0,c=0,b=1,k;if(!this.hasTesting()||!this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)return!0;if(this.hasTesting())if(this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)for(k=0;k<this.courseStructure.modules.length;k++)!this.courseStructure.modules[k].invalidated&&0<this.courseStructure.modules[k].weight&&(a++,(this.courseStructure.modules[k].pre||0<this.getModuleCompletion(this.courseStructure.modules[k]))&&c++);else for(this.behaviour.allowRetesting&&
(b+=parseInt(this.behaviour.retestAttempts,10)),k=0;k<this.courseStructure.modules.length;k++)!this.courseStructure.modules[k].invalidated&&0<this.courseStructure.modules[k].weight&&(a++,this.courseStructure.modules[k].post&&this.courseStructure.modules[k].post.attempts>=b&&c++);return a===c};
DKI.DataStorage.prototype.loadTest=function(a,c){"undefined"==typeof c&&(c=this.courseStructure.isDebug);var b={questions:[]};a=a.objects.slice();var k=a.length,l;if(playerBehaviour.enableShuffleLoOrder)for(p=0;p<k;p++)b.questions=b.questions.concat(this.randomQuestions(a[p],c));else for(var p=0;p<k;p++)l=Math.floor(Math.random()*a.length),b.questions=b.questions.concat(this.randomQuestions(a.splice(l,1)[0],c));return b};
DKI.DataStorage.prototype.randomQuestions=function(a,c){var b=[],k=a.questions.slice();if(a.randQuest>=k.length&&(1===parseInt(a.preserve_question_order,10)||!0===a.preserve_question_order)||c)return k;for(var l=1;l<=a.randQuest;l++)if(0<k.length)c=Math.floor(Math.random()*k.length),b[b.length]=k.splice(c,1)[0];else break;return b};
DKI.DataStorage.prototype.locatePage=function(a){for(var c={page:0,object:0,module:0},b,k,l=0;l<this.courseStructure.modules.length;l++){b=this.courseStructure.modules[l];for(var p=0;p<b.objects.length;p++){k=b.objects[p];for(var m=0;m<k.subeos.length;m++)if(k.subeos[m].page.pageid===a)return c.page=m,c.object=p,c.module=l,c}}return c};
DKI.DataStorage.prototype.locateObject=function(a){for(var c={object:0,module:0},b,k,l=0;l<this.courseStructure.modules.length;l++){b=this.courseStructure.modules[l];for(var p=0;p<b.objects.length;p++)if(k=b.objects[p],k.objectid===a)return c.object=p,c.module=l,c}};DKI.DataStorage.prototype.locateModule=function(a){for(var c={module:0},b,k=0;k<this.courseStructure.modules.length;k++)if(b=this.courseStructure.modules[k],b.loid===a)return c.module=k,c};
DKI.DataStorage.prototype.doSetCourseComplete=function(){this.courseStructure.complete=!0;this.courseStructure.started=!0;for(var a=0;a<this.courseStructure.modules.length;a+=1)this.doSetModuleComplete(this.courseStructure.modules[a])};DKI.DataStorage.prototype.doSetModuleComplete=function(a,c){a.complete=!0;this.doSetModuleStarted(a);for(var b=0;b<a.objects.length;b+=1)this.doSetObjectComplete(a.objects[b],c)};
DKI.DataStorage.prototype.doSetModuleStarted=function(a){a.started||(a.started=!0,this.courseStructure.started=!0,$(this).trigger(DKI.DataStorage.events.moduleStarted,a.loid))};DKI.DataStorage.prototype.doSetObjectComplete=function(a,c){a.complete=!0;this.doSetObjectStarted(a);for(var b=0;b<a.subeos.length;b+=1)this.doSetPageComplete(a.subeos[b],c);c&&$(this).trigger(DKI.DataStorage.events.objectCompleted,a.objectid)};
DKI.DataStorage.prototype.doSetObjectStarted=function(a){var c=!a.started,b=this.findModule(a.moduleid);c&&(a.started=!0);this.doSetModuleStarted(b);c&&$(this).trigger(DKI.DataStorage.events.objectStarted,a.objectid)};DKI.DataStorage.prototype.doSetPageComplete=function(a,c){var b=this.findObject(a.objectid);a.complete=!0;a.started=!0;this.doSetObjectStarted(b);c&&$(this).trigger(DKI.DataStorage.events.pageCompleted,a.page.pageid)};
DKI.DataStorage.prototype.onCourseComplete=function(){var a;this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(a=this.getCourseScoringDetails(),this.isPassed(a)?this.lessonStatus="passed":this.isFailed(a)&&(this.lessonStatus="failed")):this.lessonStatus="complete"};
DKI.DataStorage.prototype.onAssessmentComplete=function(){this.assessment.removeTimer();("both"==this.behaviour.completionCriteria&&100===this.getCourseCompletion()||"testing"==this.behaviour.completionCriteria&&this.allTestsAttempted()||5==this.courseStructure.model_id&&this.allTestsAttempted())&&$(this).trigger(DKI.DataStorage.events.courseCompleted)};DKI.DataStorage.prototype.doExit=function(){""!==this.behaviour.exitFunction?eval(this.behaviour.exitFunction):top.window.close()};
DKI.DataStorage.prototype.startCourseTimer=function(){if(this.courseTime&&!this.courseTimer){var a=$.proxy(function(){this.courseTimer=setInterval($.proxy(function(){this.courseTimerPause||(this.courseTime-=1E3,0==this.courseTime&&(clearInterval(this.courseTimer),delete this.courseTimer),$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime+1E3}))},this),1E3)},this);this.overallCourseTime=this.courseTime;if(this.ready)a();else $(this).on(DKI.DataStorage.events.ready,
function(){$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime});a()})}else this.courseTimerPause=!1};DKI.DataStorage.prototype.stopCourseTimer=function(){this.courseTimerPause=!0};
DKI.DataStorage.prototype.resetCourseTimer=function(){if(!1!==this.courseTime){this.stopCourseTimer();var a=this,c=this.courseTime,b=0;$.each(courseStructure.modules,function(){a.resetModuleTimer(this);b+=this.parameters.content_time});this.courseTime=b;$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:c});this.courseTimerPause=!1;this.startCourseTimer()}};
DKI.DataStorage.prototype.resetModuleTimer=function(a){var c=a.parameters.content_time;a.parameters.content_time=a.parameters.content_time_original;this.courseTime+=a.parameters.content_time-c;a.loid==this.currentModule.loid?(player.stopContentTimer(),player.startContentTimer(!0),$(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:a.parameters.content_time,oldValue:c})):$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+(a.loorder-1)+".contentTime",
newValue:a.parameters.content_time,oldValue:c})};
DKI.DataStorage.events={courseEnd:"courseEnd",testEnd:"testEnd",changePage:"changePage",changeObject:"changeObject",changeModule:"changeModule",pageCompleted:"pageCompleted",objectCompleted:"objectCompleted",moduleCompleted:"moduleCompleted",courseCompleted:"courseCompleted",pageSelected:"pageSelected",questionSelected:"questionSelected",questionSubmitted:"questionSubmitted",questionScored:"questionScored",assessmentCompleted:"assessmentCompleted",assessmentReady:"assessmentReady",attemptsMaxed:"attemptsMaxed",
beforeReady:"beforeReady",ready:"ready",assetRegistered:"assetRegistered",moduleStarted:"moduleStarted",objectStarted:"objectStarted",beforeUnload:"beforeUnload"};
DKI.PlayerMenu=function(a){var c={element:"westPanel",dataStorage:dataStorage,behaviour:playerBehaviour,strings:playerStrings,player:player,animation:{effect:"slide",options:{direction:$("html").hasClass("ltr")?"left":"right"}}};this.config=a=DKI.applyIf(a,c);this.container=$("#"+a.element);this.behaviour=a.behaviour;this.dataStorage=a.dataStorage;this.strings=a.strings;this.clickEvent=a.player.settings.clickEvent;this.store=DKI.courseStore;this.tabSet=new DKI.TabSet({elementID:"westPanel",player:a.player});
this.tabSet.selectTab("outlineTab",!0);this.outlineTab=document.getElementById("outlineTab");this.tree=DKI.PlayerTree;DKI.PlayerTree.init(a.player,"outlineContent",DKI.courseStore);this.behaviour.transcripts&&(this.transcript=this.tabSet.createTab(this.strings.transcriptLabel,"transcriptTab").content,this.transcriptTab=document.getElementById("transcriptTab"),this.transcriptContent=document.createElement("div"),this.transcriptContent.tabIndex=-1,this.transcriptContent.className="transcript-content",
this.transcript.appendChild(this.transcriptContent),this.transcriptPosition=0);this.behaviour.pageNotes&&(this.notes=this.tabSet.createTab(this.strings.notesLabel,"notesTab").content,this.notesTab=document.getElementById("notesTab"),this.notesContent=document.createElement("div"),this.notesContent.tabIndex=-1,this.notesContent.className="notes-content",this.notes.appendChild(this.notesContent),this.notesPosition=0);this.close=$(".buttonClose");this.pageClicked="menuPageClicked";this.closed="menuClosed";
this.initEvents()};
DKI.PlayerMenu.prototype.initEvents=function(){var a=this;$(this.close).on(this.clickEvent,function(c){c.stopPropagation();a.onCloseClicked()});this.tree.pageClicked=function(a,b){$(document).trigger(DKI.PlayerMenu.events.pageClicked,b)};$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(c,b){a.tree.setComplete({type:a.store.NodeType.page,id:b})});$(this.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(c,b){a.tree.setComplete({type:a.store.NodeType.object,id:b})});
$(this.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(c,b){a.tree.setComplete({type:a.store.NodeType.module,id:b})});$(this.dataStorage).on(DKI.DataStorage.events.courseCompleted,function(c){a.tree.setComplete({type:a.store.NodeType.course,id:a.dataStorage.courseStructure.courseid})});$(this.dataStorage).on(DKI.DataStorage.events.pageSelected,function(c,b){a.selectPage(b.page)});$(document).on(DKI.EndTest.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML=
"");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndModule.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndCourse.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(".dki-WestPanel .menuHeader").delegate(".courseSearchOpen",this.clickEvent,
function(a){contentApi.hideMenu();contentApi.toggleCourseSearch();a.stopPropagation()});$(".dki-WestPanel .menuHeader").delegate(".buttonClose",this.clickEvent,function(c){a.onCloseClicked();c.stopPropagation();return!1});$(".dki-WestPanel .innerBlockScroll .content").delegate(".page",this.clickEvent,function(c){c.stopPropagation();a.onCloseClicked();a.dataStorage.jumpToPage($(this).attr("page-id"));return!1});return null};DKI.PlayerMenu.prototype.getLeft=function(){return 0};
DKI.PlayerMenu.prototype.getWidth=function(){return $(this.container).width()};DKI.PlayerMenu.prototype.setCourse=function(a){this.tree.setCourse(a)};DKI.PlayerMenu.prototype.setCourseComplete=function(){};DKI.PlayerMenu.prototype.setHeight=function(a){$(this.container).height(a)};DKI.PlayerMenu.prototype.setModuleComplete=function(a){};DKI.PlayerMenu.prototype.setObjectComplete=function(a){};DKI.PlayerMenu.prototype.setPageComplete=function(a){};
DKI.PlayerMenu.prototype.selectPage=function(a){"string"==typeof a&&(a=this.dataStorage.findPage(a));this.tree.selectPage(a.pageid);$("div.content div.active").each(function(a){$(this).removeClass("active")});$(this.outlineTab).removeClass("disabled");this.behaviour.transcripts&&a.transcript?(this.transcript.scrollTop=0,this.transcriptContent.innerHTML=a.transcript.body):this.transcriptContent&&(this.transcriptContent.innerHTML="");this.behaviour.pageNotes&&a.pageNote?(this.notesContent.innerHTML=
a.pageNote.body,$(this.notesTab).removeClass("disabled")):this.notesContent&&(this.notesContent.innerHTML="");playerBehaviour.enableCourseSearch&&$(".dki-WestPanel .menuHeader a.courseSearchOpen").show();return null};
DKI.PlayerMenu.prototype.selectQuestion=function(a){"string"==typeof a&&(a=this.dataStorage.findQuestion(a));this.behaviour.transcripts&&a.page.transcript?(this.transcriptContent.innerHTML=a.page.transcript.body,$(this.outlineTab).addClass("disabled"),this.notesTab&&$(this.notesTab).addClass("disabled")):this.transcriptContent&&(this.transcriptContent.innerHTML="");$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide()};DKI.PlayerMenu.prototype.scrollToSelected=function(){this.tree.scrollToSelected()};
DKI.PlayerMenu.prototype.selectedTab=function(a){if(a)this.tabSet.selectTab(a);else return this.tabSet.selectedTab().id};DKI.PlayerMenu.prototype.onCloseClicked=function(a){$(this).trigger(DKI.PlayerMenu.events.closed)};DKI.PlayerMenu.prototype.hide=function(){$(this.container).hide(this.config.animation.effect,this.config.animation.options).addClass("hidden")};
DKI.PlayerMenu.prototype.show=function(){var a=dkiUA.iOS?screen.availHeight-43:$("html").css("height").replace("px","");600>a?$(this.container).css("max-height",.85*a+"px"):$(this.container).css("max-height","600px");$(this.container).show(this.config.animation.effect,this.config.animation.options).removeClass("hidden");player.inAssessment||player.inReview||!playerBehaviour.enableCourseSearch?$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide():$(".dki-WestPanel .menuHeader a.courseSearchOpen").show()};
DKI.PlayerMenu.events={closed:"MENU_CLOSED",pageClicked:"MENU_PAGE_CLICKED",initialized:"PLAYER_MENU_INITIALIZED"};$(document).on(DKI.DataStorage.events.beforeReady,function(){var a=new DKI.PlayerMenu;$(document).trigger(DKI.PlayerMenu.events.initialized,a)});DKI||(DKI={});
DKI.TabSet=function(a){var c=a.elementID;this.config=a;this.container=$("#"+c);this.tabStrip=$(".tabStrip",this.container)[0];null==this.tabStrip&&(this.tabStrip=document.createElement("ul"),this.tabStrip.id=c+"_tabStrip",this.tabStrip.role="tablist",$(this.tabStrip).addClass("tabStrip menuTabs"),0<this.container.length&&(0<this.container[0].childNodes.length?this.container[0].insertBefore(this.container[0].firstChild):this.container[0].appendChild(this.tabStrip)));a=this.tabStrip.childNodes;for(var b,
k=[],l=0;l<a.length;l++)if("LI"===a[l].tagName){k[k.length]=a[l];a[l].id||(a[l].id="tab_"+DKI.TabSet.tabCounter);c=$(a[l]).attr("data-contentid");if(void 0===c||null===c||""===c)c=a[l].id+"Content",a[l].setAttribute("data-contentid",c);a[l].tabIndex="0";a[l].role||(a[l].role="tab");a[l]["aria-controls"]||(a[l]["aria-controls"]=c);b=$("#"+c).addClass("tabContent")[0];null===b||void 0===b?this.createTabContent(c):b.role||(b.role="tabpanel");DKI.TabSet.tabCounter+=1}0<k.length&&this.selectTab(k[0].id,
!0);this.initEvents()};DKI.TabSet.prototype.initEvents=function(){var a=this;this.tabSelected="tabSelected";$(this.tabStrip).delegate(".tab",clickEvent,function(c){c.stopPropagation();$(this).hasClass("disabled")||a.selectTab(this.id);return!1})};DKI.TabSet.tabCounter=0;
DKI.TabSet.prototype.createTab=function(a,c){var b=document.createElement("li"),k={tab:b};b.className="tab";b.role="tab";b.tabIndex=0;a||(a="Tab "+DKI.TabSet.tabCounter);b.innerHTML="\x3ca\x3e"+a+"\x3c/a\x3e";b.id=null!==c&&void 0!==c?c:"tab_"+DKI.TabSet.tabCounter;a=b.id+"Content";b.setAttribute("data-contentid",a);b["aria-controls"]=a;this.tabStrip.appendChild(b);k.content=this.createTabContent(a);return k};
DKI.TabSet.prototype.createTabContent=function(a){var c=document.createElement("div");c.id=a;c.role="tabpanel";c.classList?(c.classList.add("tabContent"),c.classList.add("innerBlockScroll"),c.classList.add("hidden")):$(c).addClass("tabContent hidden innerBlockScroll");this.container.append(c);return c};DKI.TabSet.prototype.removeTab=function(a){(a="string"===typeof a?document.getElementById(a):a)&&this.tabStrip.removeChild(a)};
DKI.TabSet.prototype.selectTab=function(a,c){a="string"==typeof a?$("#"+a):$(a);$(this.tabStrip).children().each(function(){$(this).removeClass("selected");var a=$("#"+this.getAttribute("data-contentid")).addClass("hidden");$("*[tabindex]",a).attr("tabIndex","-1")});a.addClass("selected");a=$("#"+a.attr("data-contentid")).removeClass("hidden");a=$("*[tabIndex]",a).attr("tabIndex","0");!c&&0<a.length&&a[0].focus();return!0};
DKI.TabSet.prototype.selectedTab=function(){return this.tabStrip.querySelector?this.tabStrip.querySelector(".selected"):$(".selected",this.tabStrip)[0]};DKI.TabSet.prototype.hide=function(){$(this.container).hide()};DKI.TabSet.prototype.show=function(){$(this.container).show()};DKI.TabSet.prototype.isHidden=function(){return $(this.container).hasClass("hidden")};DKI||(DKI={});
DKI.PlayerTree=function(){var a=null,c=null,b=null,k=null,l=function(a,b,c,h){var k="";switch(a){case "module":k=b;break;case "object":k=b+"."+c;break;case "page":k=b+"."+c+"."+h}return k},p=function(){$(a).delegate(".module,.object,.course,.page","click",function(a){var b=$(this);a=k.get(this.id);if(a.nodeType==k.NodeType.page)b.hasClass("disabled")||(q(a.page.pageid),DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,a.page.pageid));else if(a.nodeType==k.NodeType.object&&c){for(var b=null,h=
a.childKeys.length-1;0<=h;h--){var l=k.get(a.childKeys[h]);if(l.nodeType==k.NodeType.page&&l.complete&&h==a.childKeys.length-1){b=k.get(a.childKeys[0]).page.pageid;break}if(l.nodeType==k.NodeType.page&&l.complete){b=l.page.pageid;break}}b||(b=k.get(a.childKeys[0]).page_id);q(b);DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,b)}else b.toggleClass("collapse"),$(b.children()[0]).toggleClass("collapse");return!1});return null},m=function(h,m,q){if(null!=m&&null!=q&&void 0!=m&&void 0!=q){a=$("#"+
m);a.addClass("dki-PlayerTree");k=q;a.html("");h=playerBehaviour.forceSequential;c=playerBehaviour.hidePagesFromMenu;b=playerBehaviour.enablePageNumbering;if(void 0!==k&&null!==k){m=k.course.get();q=document.createElement("div");q.id=m.key;q.className="treeNode collapse "+k.NodeType.course;var x=q.appendChild(document.createElement("a"));x.setAttribute("tabindex",0);x.innerHTML+="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+m.coursename+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+
m.coursename+"\x3c/span\x3e\x3c/span\x3e";x.className=m.complete?"finished":m.started?"started":"unstarted";x.className+=" collapse";x.id=m.key+"link";var z=1,r;for(r in m.childKeys){var C=k.module.get(m.childKeys[r]),A=b?l("module",z):"",w=document.createElement("div");w.id=C.key;w.className="treeNode collapse "+k.NodeType.module;x=w.appendChild(document.createElement("a"));x.setAttribute("tabindex",0);x.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+A+" "+
C.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+A+" "+C.name+"\x3c/span\x3e\x3c/span\x3e";x.className=C.complete?"finished":C.started?"started":"unstarted";x.className+=" collapse";x.id=C.key+"link";q.appendChild(w);var A=1,B;for(B in C.childKeys){var E=k.get(C.childKeys[B]),D=b?l("object",z,A):"",F=document.createElement("div");F.className="treeNode collapse "+k.NodeType.object;F.id=E.key;c&&(F.className+=" pagesHidden");x=F.appendChild(document.createElement("a"));
x.setAttribute("tabindex",0);x.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+D+" "+E.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+D+" "+E.name+"\x3c/span\x3e\x3c/span\x3e";x.className=E.complete?"finished":E.started?"started":"unstarted";x.className+=" collapse";x.id=E.key+"link";w.appendChild(F);var D=1,H;for(H in E.childKeys){var G=k.get(E.childKeys[H]),L=b?l("page",z,A,D):"";if(G.nodeType==k.NodeType.page&&
!c){var I=document.createElement("div");I.id=G.key;I.className="treeNode "+k.NodeType.page+(h&&!G.complete?" disabled":"");x=I.appendChild(document.createElement("a"));x.setAttribute("tabindex",0);x.innerHTML='\x3cspan title\x3d"'+L+" "+G.page.title+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+L+" "+G.page.title+"\x3c/span\x3e\x3c/span\x3e";x.className=G.complete?"finished":"unstarted";x.id=G.key+"link";F.appendChild(I);D++}}A++}z++}a.append(q)}else a.html("No outline available");
p();return null}},q=function(b){var l=null;c?((l=k.object.get(k.NodeType.object+b))||(l=k.object.getForPage(k.NodeType.page+b)),l=$("#"+k.NodeType.object+l.id+"link")):l=$("#"+k.NodeType.page+b+"link");var m=$("#outlineContent");$(".treeNode.course",m);$("a.selected",a).each(function(a){$(this).removeClass("selected")});l.addClass("selected");l.parent().removeClass("disabled");h();$("div.object a",a).each(function(a){$(this).removeClass("active")});$($("#"+k.NodeType.page+b).parent().children()[0]).addClass("active");
for(b=l.parent();null!=b;)b.hasClass("treeNode")?(b.removeClass("collapse"),$(b.children()[0]).removeClass("collapse"),b=b.parent()):b=null;return null},h=function(){var a=$(document.getElementById("outlineContent")),b=$("a.selected",a);if(b.length){var c=$(".treeNode.course",a);a.scrollTop(b.offset().top-c.offset().top)}};return{init:m,scrollToSelected:h,setComplete:function(a){function b(a){var c=$($("#"+a.key).children()[0]);c.removeClass("unstarted").removeClass("finished").removeClass("started");
c.addClass(a.complete?"finished":"started");return a.parentId}var c=$("#"+a.type+a.id+"link");c.removeClass("unstarted");c.removeClass("started");c.addClass("finished");a.type==k.NodeType.page&&(a=k.page.get(a.type+a.id),b(k.module.get(b(k.object.get(a.parentId)))),b(k.course.get()))},selectPage:q,setCourse:m,pageClicked:null}}();
DKI.Assessment=$.Class({prototype:{init:function(a,c,b){this.module=a;this.unanswered=b.questions.concat();this.answered=[];this.prepost=c;this.currentQuestionIndex=0;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion();this.totalQuestions=this.unanswered.length;this.currentQuestionCount=1;for(var k=this.totalWeight=0;k<b.questions.length;k++)this.totalWeight+=parseInt(b.questions[k].weight,10);this.module.lastAssessment=
this;this.countdownTimer=this.timer=null;if(settings.enableTimerQuestions&&("post"==c&&playerBehaviour.enableTestTime||"pre"==c&&playerBehaviour.enablePreTestTime)&&"undefined"!==typeof a.parameters&&"undefined"!==typeof a.parameters.test_time&&""!=a.parameters.test_time){var l=this;requirejs(["flipclock"],function(){l.timer=$("#countdown-timer-div");var b={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){this.getElapsed()},stop:function(){var a=c-this.getElapsed();setTimeout($.proxy(function(){0==
a&&(contentApi.setData("sys.assessment.timeRemaining",0),contentApi.setData("sys.assessment.timeRemainingInMS",0),dataStorage.currentModule.forceTestEnd=!0,contentApi.submitQuestion())},l),1E3)},interval:function(a,b,k){a=c-this.getElapsed();b=DKI.utility.timeFunctions.convertMsToTime(a);contentApi.setData("sys.assessment.timeRemaining",b.h+":"+b.m+":"+b.s);contentApi.setData("sys.assessment.timeRemainingInMS",a)}}};dataStorage.currentModule.forceTestEnd=!1;var c=a.parameters.test_time;36E5<a.parameters.test_time&&
(b.clockFace="HourCounter");l.countdownTimer=l.timer.FlipClock(a.parameters.test_time/1E3,b);b=$("html").width();l.timer.show();var k=l.timer.outerWidth(!0);l.timer.css("left",b-k-30+"px");l.timer.width(l.timer.width());l.timer.draggable({containment:".bgRepeater"})})}},removeTimer:function(){this.countdownTimer&&this.countdownTimer.timer._destroyTimer($.proxy(function(){delete this.countdownTimer;this.countdownTimer=null},this));this.timer&&(this.timer.empty(),this.timer.hide())},getScore:function(){var a=
0;if(0<this.answered.length){for(var c=0;c<this.answered.length;c++)var b=parseInt(this.answered[c].weight,10),a=a+parseFloat(this.answered[c].score,10)*b;a=0==a&&0==this.totalWeight?0:a/this.totalWeight}return Math.floor(1E3*a)/1E3},getPoints:function(){var a=parseFloat(0,"10");if(0<this.answered.length)for(var c=0;c<this.answered.length;c++)a+=parseFloat(this.answered[c].points,"10");return parseFloat(a.toFixed(1),10)},getWeight:function(){return this.totalWeight},getNextQuestion:function(){var a=
this.currentQuestionIndex+1;if(1===this.unanswered.length)return null;a>=this.unanswered.length&&(a=0);return this.unanswered[a]},getPreviousQuestion:function(){var a=this.currentQuestionIndex-1;if(1===this.unanswered.length)return null;0>a&&(a=this.unanswered.length-1);return this.unanswered[a]},getTotalQuestions:function(){return this.totalQuestions},goNextQuestion:function(){null!==this.currentQuestion&&this.currentQuestionIndex++;this.currentQuestionIndex>=this.unanswered.length&&(this.currentQuestionIndex=
0);0<this.unanswered.length?(this.currentQuestion=this.unanswered[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion()):this.previousQuestion=this.nextQuestion=this.currentQuestion=null},goPreviousQuestion:function(){0<this.currentQuestionIndex?this.currentQuestionIndex--:this.currentQuestionIndex=this.unanswered.length-1;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=
this.getPreviousQuestion()},scoreQuestion:function(a,c,b){for(var k,l=0;l<this.unanswered.length;l++)this.unanswered[l].id===a.id&&(k=this.unanswered[l].page,this.unanswered.splice(l,1),k={choices:c.options,score:b,body:c.body,page:k,points:parseFloat(parseFloat(b*a.weight/100,10).toFixed(1),10)},this.answered[this.answered.length]=DKI.applyIf(k,a),this.currentQuestionIndex=l);0<this.unanswered.length&&this.currentQuestionCount++;this.currentQuestion=null;$(dataStorage).trigger(DKI.DataStorage.events.questionScored,
{question:a,questionObject:c,score:b})}}});DKI||(DKI={});
DKI.AssessmentReview=$.Class({init:function(a){this.module=a.module;this.prepost=a.prepost;this.totalQuestions=a.answered.length+a.unanswered.length;this.questions=[];this.test=a;for(var c=0;c<a.answered.length;c++){var b={id:a.answered[c].id,pageid:a.answered[c].pageid,userChoices:a.answered[c].choices,options:a.answered[c].options,score:parseFloat(a.answered[c].score,10),page:a.answered[c].page,weight:a.answered[c].weight,points:parseFloat(a.answered[c].points,"10")};this.questions[c]=DKI.applyIf(b,
a.answered[c])}for(c=0;c<a.unanswered.length;c++)this.questions[this.questions.length]=DKI.applyIf({id:a.unanswered[c].id,pageid:a.unanswered[c].pageid,userChoices:[],correctChoices:a.unanswered[c].options,score:0,page:a.unanswered[c].page,weight:a.unanswered[c].weight,points:0},a.unanswered[c]);this.currentQuestionIndex=0;this.currentQuestionCount=1;this.currentQuestion=this.questions[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion()},
getScore:function(){for(var a=0,c=0,b=0;b<this.questions.length;b++)a+=parseFloat(this.questions[b].score,"10")*this.questions[b].weight,c+=parseInt(this.questions[b].weight,"10");return 0==a&&0==c?0:Math.floor(a/c*1E3)/1E3},getPoints:function(){for(var a=parseFloat(0,"10"),c=0;c<this.questions.length;c++)a+=parseFloat(this.questions[c].points,"10");return parseFloat(a.toFixed(1),10)},getWeight:function(){return this.test.totalWeight},goNextQuestion:function(){this.currentQuestionIndex<this.totalQuestions-
1&&(this.currentQuestionIndex++,this.currentQuestionCount++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},goPreviousQuestion:function(){0<this.currentQuestionIndex&&(this.currentQuestionIndex--,this.currentQuestionCount--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},getNextQuestion:function(){return this.currentQuestionIndex<
this.totalQuestions?this.questions[this.currentQuestionIndex+1]:null},getPreviousQuestion:function(){return 0<this.currentQuestionIndex?this.questions[this.currentQuestionIndex-1]:null}});DKI||(DKI={});
DKI.prompt=function(a,c,b){var k=playerStrings&&playerStrings.buttonLabelOK?playerStrings.buttonLabelOK:"OK",l=playerStrings&&playerStrings.buttonLabelCancel?playerStrings.buttonLabelCancel:"Cancel",p=playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close",m,q,h=function(a){a=!1;var h="";$(this).hasClass("prompt_ok")&&(a=!0,h=q.val());c.call(b,a,h);m.modal("hide");return!1};b||(b=window);(function(){m=$(Handlebars.compile(DKI.templates.prompt)({strings:{ok:k,cancel:l,
close:p,message:a}}));q=m.find("#DKI_prompt_input");q[0].addEventListener("keyup",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;13==a.keyCode&&m.find(".prompt_ok").trigger(settings.clickEvent)},!0);$("body").append(m);m.on("shown.bs.modal",function(){q.focus()});m.on("hidden.bs.modal",function(){m.remove()});m.find("button").on(settings.clickEvent,h);m.modal("show")})()};
var contentApi=function(){var a={},c,b,k,l,p,m,q,h={called:"contentAPICalled",dataSet:"dataSet",jumpToPage:"jumpToPage"},n={DkiApi:{},events:h},t={init:function(a,h){c=a;m=a.strings;k=c.navigation;l=c.dataStorage;c.isSinglePage||(p=h,b=c.behaviour,p&&!q&&this.getStudentName(function(){}))},audioButtonOn:function(){k.showAudioButton();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is enabled."}])},audioButtonOff:function(){k.hideAudioButton();$(document).trigger(h.called,
[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is disabled."}])},contentGoBack:function(){k.fireBack();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the previous page."}])},contentGoNext:function(){c.isSinglePage||(c.inEndScreen?!c.reachedEnd&&c.inAssessment?c.resume("pre"==l.assessment.prepost):c.resume():k.fireForward());$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the next page."}])},
getAudioStatus:function(){var a=c.isSinglePage?!0:c.audio;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Audio Status retrieved",data:a}]);return a},getCourseCompletion:function(){var a=c.isSinglePage?null:l.getCourseCompletion();$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course completion retrieved",data:a}]);return a},getCourseID:function(){var a=c.isSinglePage?null:l.courseStructure.manifestId;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course ID retrieved",
data:a}]);return a},getCourseMetadata:function(){var a=c.isSinglePage?null:l.courseStructure.metadata;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course metadata retrieved",data:a}]);return a},getCourseLanguage:function(){var a=c.isSinglePage?null:l.courseStructure.crslanguage;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course language retrieved",data:a}]);return a},getCourseName:function(){var a=c.isSinglePage?null:l.courseStructure.coursename;
$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course name retrieved",data:a}]);return a},getCoursePassMark:function(){var a=c.isSinglePage?null:l.courseStructure.passmark;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course pass mark retrieved",data:a}]);return a},getCoursePageCount:function(){var a=c.isSinglePage?null:l.countCoursePages();$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course page count retrieved",
data:a}]);return a},getCourseScore:function(){var a=c.isSinglePage?null:l.getCourseScoreAvg();$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course score retrieved.",data:a}]);return a},getCourseScoreAvg:function(){var a=c.isSinglePage?null:l.getCourseScoreAvg();$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course score average retrieved.",data:a}]);return a},getCurrentModuleName:function(){var a=c.isSinglePage?null:l.currentModule.name;$(document).trigger(h.called,
[{message:"Content API called... \x3c/br\x3e Current module name retrieved.",data:a}]);return a},getData:function(b,k){var m=null;try{switch(b.toLowerCase()){case "sys.player.muted":m=!contentApi.getAudioStatus();break;case "sys.player.inreview":m=c.inReview;break;case "sys.player.inassessment":m=c.inAssessment;break;case "sys.learner.completion":m=contentApi.getCourseCompletion();break;case "sys.learner.score":m=contentApi.getCourseScore();break;case "sys.learner.status":m=contentApi.getStatus();
break;case "sys.learner.name":m=contentApi.getStudentName();break;case "sys.learner.id":m=contentApi.getUserID();break;case "sys.course.language":m=contentApi.getCourseLanguage();break;case "sys.course.title":m=contentApi.getCourseMetadata().title;break;case "sys.course.type":m=l.courseStructure.model_id;break;case "sys.course.description":m=contentApi.getCourseMetadata().description;break;case "sys.course.copyright":m=contentApi.getCourseMetadata().copyright;break;case "sys.course.disclaimer":m=
contentApi.getCourseMetadata().disclaimer;break;case "sys.course.summary":m=contentApi.getCourseMetadata().summary;break;case "sys.course.compliance":m=contentApi.getCourseMetadata().compliance;break;case "sys.course.duration":m=contentApi.getDuration();break;case "sys.course.passmark":m=contentApi.getPassMark();break;case "sys.course.completedtests":m=contentApi.getModuleTestCompleteCount();break;case "sys.course.remainingtests":m=contentApi.getModuleTestCount()-contentApi.getModuleTestCompleteCount();
break;case "sys.course.totaltests":m=contentApi.getModuleTestCount();break;case "sys.course.pagecount":m=contentApi.getCoursePageCount();break;case "sys.course.publisheddate":m=contentApi.getCourseMetadata().datelastmodified;break;case "sys.course.passtext":m=l.courseStructure.passText;break;case "sys.course.failtext":m=l.courseStructure.failText;break;case "sys.metadata.currentdate":var n=new Date,m=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate();break;case "sys.course.type":m=l.courseStructure.model_id;
break;case "sys.course.contenttime":m=l.courseTime||"N/A";break;case "sys.currentmodule.score":m=contentApi.getModuleScore();break;case "sys.currentmodule.title":m=contentApi.getCurrentModuleName();break;case "sys.currentmodule.pagecount":m=l.countModulePages(l.currentModule);break;case "sys.currentmodule.complete":m=l.currentModule.complete?!0:!1;break;case "sys.currentmodule.pretestscore":m=l.currentModule.pre?l.currentModule.pre.score:null;break;case "sys.currentmodule.posttestscore":m=l.currentModule.post?
l.currentModule.post.score:null;break;case "sys.currentmodule.passmark":m=""!=l.currentModule.passing_mark?l.currentModule.passing_mark:contentApi.getPassMark();break;case "sys.currentmodule.hastesting":m=1===l.currentModule.weight?!0:!1;break;case "sys.currentmodule.testtime":m=l&&l.currentModule?parseInt(l.currentModule.parameters.test_time,10)||"N/A":"N/A";break;case "sys.currentmodule.contenttime":m=l&&l.currentModule?parseInt(l.currentModule.parameters.content_time,10)||"N/A":"N/A";break;case "sys.currentmodule.remainingattempts":m=
l.currentModule.pre?l.remainingPreAttempts(l.currentModule):l.remainingPostAttempts(l.currentModule);break;case "sys.currentobject.title":m=l.currentObject.title;break;case "sys.currentobject.description":m=l.currentObject.description;break;case "sys.currentobject.pagecount":m=l.currentObject.subeos.length;break;case "sys.currentobject.complete":m=l.currentObject.complete?!0:!1;break;case "sys.currentpage.title":l.currentPage&&(m=l.currentPage.page.title);l.assessment&&l.assessment.currentQuestion&&
(m=l.assessment.currentQuestion.title);break;case "sys.currentpage.description":l.currentPage&&(m=l.currentPage.page.description);l.assessment&&l.assessment.currentQuestion&&(m=l.assessment.currentQuestion.description);break;case "sys.currentpage.transcript":l.currentPage&&(m=l.currentPage.page.transcript?l.currentPage.page.transcript.body:"");l.assessment&&l.assessment.currentQuestion&&l.assessment.currentQuestion.page.transcript&&(m=l.assessment.currentQuestion.page.transcript.body);break;case "sys.currentpage.note":l.currentPage&&
(m=l.currentPage.page.pageNote?l.currentPage.page.pageNote.body:"");l.assessment&&l.assessment.currentQuestion&&l.assessment.currentQuestion.page.pageNote&&(m=l.assessment.currentQuestion.page.pageNote.body);break;case "sys.currentpage.id":l.currentPage&&(m=l.currentPage.page.pageid);l.assessment&&l.assessment.currentQuestion&&(m=l.assessment.currentQuestion.page.pageid);break;case "sys.currentpage.moduleindex":m=l.currentModulePage;l.assessment&&l.assessment.currentQuestion&&(m=l.assessment.currentQuestionIndex);
break;case "sys.currentpage.objectindex":m=l.currentPageIndex+1;l.assessment&&l.assessment.currentQuestion&&(m=l.assessment.currentQuestion.order);break;case "sys.profile.pretestenabled":m=playerBehaviour.enablePreTest;break;case "sys.profile.pretestforced":m=playerBehaviour.forcePreTest;break;case "sys.profile.pretestreview":m=playerBehaviour.enablePreTestReview;break;case "sys.profile.posttestenabled":m=playerBehaviour.enablePostTest;break;case "sys.profile.posttestreview":m=playerBehaviour.enablePostTestReview;
break;case "sys.profile.retestattempts":m=playerBehaviour.retestAttempts;break;case "sys.profile.forcesequential":m=playerBehaviour.forceSequential;break;case "sys.profile.certificateenabled":m=playerBehaviour.completionCertificate;break;case "sys.assessment.questionsanswered":m=l.currentModule.lastAssessment?l.currentModule.lastAssessment.answered.length:null;break;case "sys.assessment.questionsremaining":m=l.currentModule.lastAssessment?l.currentModule.lastAssessment.unanswered.length:null;break;
case "sys.assessment.totalquestions":m=l.currentModule.lastAssessment?l.currentModule.lastAssessment.totalQuestions:null;break;case "sys.assessment.ispretest":m=l.currentModule.lastAssessment?"pre"==l.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.isposttest":m=l.currentModule.lastAssessment?"post"==l.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.totalweight":m=l.currentModule.lastAssessment?l.currentModule.lastAssessment.totalWeight:null;break;case "sys.assessment.scoredpoints":l.currentModule.lastAssessment&&
(m=l.currentModule[l.currentModule.lastAssessment.prepost].points);break;default:if(0==b.indexOf("sys.translationStrings.")){var p=b.replace("sys.translationStrings.","");return contentApi.getPlayerString(p)}if(b.toLowerCase().match(/sys\.modules\.[0-9]*\./)){var q=b.toLowerCase().match(/sys\.modules\.([0-9]*)\.(.*)/),t=q[1],y=q[2],m="";if(l.getModuleByIndex){var D=l.getModuleByIndex(t);switch(y){case "score":m=contentApi.getModuleScore(D.loid);break;case "title":m=D.name;break;case "pagecount":m=
l.countModulePages(D);break;case "complete":m=D.complete?!0:!1;break;case "pretestscore":m=D.pre?D.pre.score:null;break;case "posttestscore":m=D.post?D.post.score:null;break;case "passmark":m=""!=D.passing_mark?D.passing_mark:contentApi.getPassMark();break;case "hastesting":m=1===D.weight?!0:!1;break;case "remainingattempts":m=D.pre?l.remainingPreAttempts(D):l.remainingPostAttempts(D);break;case "contenttime":m=parseInt(D.parameters.content_time,10)}}return m}m=c.isSinglePage?a[b]:l.getContentVariable(b)}}catch(F){}k||
$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Data for "+b+" retrieved",data:m}]);return m},getPlayerString:function(a){a=a.split(".");return DKI.strings[a[0]][a[1]]},getDuration:function(){var a=c.isSinglePage?null:parseInt(l.courseStructure.duration,10);$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course duration retrieved",data:a}]);return a},getMaxTestAttempts:function(){var a=0;c.isSinglePage||(a=b.enablePostTest?b.allowRetesting?parseInt(b.retestAttempts,
10)+1:1:0);$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course maximum test attempts retrieved",data:a}]);return a},getModules:function(){var a=null,b;if(!c.isSinglePage)for(var a=[],k=0;k<l.courseStructure.modules.length;k+=1)b=l.courseStructure.modules[k],a[k]={name:b.loname,id:b.loid,hasTesting:1===b.weight?!0:!1,remainingAttempts:l.remainingPostAttempts(b)},b.pre&&(a[k].pre={score:b.pre.score,rawScore:b.pre.points,maxScore:b.pre.weight}),b.post&&(a[k].post={score:b.post.score,
attempts:b.post.attempts,rawScore:b.post.points,maxScore:b.post.weight});$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course modules retrieved",data:a}]);return a},getModuleScore:function(a){var b=null;if(!c.isSinglePage){if(void 0===a||null===a)a=l.currentModule.loid;b=l.getModuleScore(a)}$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Module by ID:"+a+" score retrived",data:b}]);return b},getModuleTestCompleteCount:function(){var a=c.isSinglePage?
null:l.modulesTestAttempted().length;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Module test completion count retrieved",data:a}]);return a},getModuleTestCount:function(){var a=c.isSinglePage?null:l.modulesWithTesting().length;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Module test count retrieved",data:a}]);return a},getObjectID:function(){var a=c.isSinglePage?null:l.currentObject.objectid;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Current learning object ID retrieved",
data:a}]);return a},getPassMark:function(){var a=c.isSinglePage?null:l.passMark;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course passing mark retrieved",data:a}]);return a},getPageID:function(){var a=c.isSinglePage?c.settings.pageId:l.currentPage.page.pageid;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Current page ID retrieved",data:a}]);return a},getPreviousPage:function(){var a=c.isSinglePage?null:l.previousPage?l.previousPage.page:null;
$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e previous page retrieved",data:a}]);return a},getCurrentPage:function(){var a=c.isSinglePage?null:l.currentPage?l.currentPage.page:null;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Current page retrieved",data:a}]);return a},getNextPage:function(){var a=c.isSinglePage?null:l.nextPage?l.nextPage.page:null;$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e next page retrieved",
data:a}]);return a},getStatus:function(){var a=null;if(p)switch(l.get("status")){case l.get("statusPassed"):a="passed";break;case l.get("statusCompleted"):a="complete";break;case l.get("statusFailed"):a="failed";break;default:a="incomplete"}else c.isSinglePage||(a=l.lessonStatus);$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Course status retrieved",data:a}]);return a},getStudentName:function(a){var b;if(a){if(q)return a(q),!1;var c=function(c,k){q=b=c?k:"";a(b);$(document).trigger(h.called,
[{message:"Content API called... \x3c/br\x3e Student name entered",data:b}])};p?p.process("GetStudentName",[],function(b){q=b;a(b);$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Student name entered",data:b}])}):DKI.prompt(m.txtEnterName,c)}else{if(q)return q;q=b=window.prompt(m.txtEnterName);$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Student name retreived",data:b}]);return b}},getUserID:function(){var a=c.isSinglePage?null:l.getUserID();
$(document).trigger(h.called,[{message:"Content API called... \x3c/br\x3e Current user ID retrieved",data:a}]);return a},hideBack:function(){k.hideBackButton();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3e The preview button is disabled."}])},hideBoth:function(){k.hideBackButton();k.hideForwardButton();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3e Both navigation buttons are disabled."}])},hideForward:function(){k.hideForwardButton();
$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is disabled."}])},hideTranscript:function(){c.isSinglePage||c.hideTranscript();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe transcript is hidden."}])},jumpToSubeo:function(a,b,k){DKI.isObject(a)&&a.subeoId&&(a=a.subeoId);"undefined"===typeof k&&(k=!1);c.inAssessment||c.inReview||c.isSinglePage||c.jumpToSubeo(a,b,k);$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eJump to subeo triggered."}])},
jumpToPage:function(a){DKI.isObject(a)&&a.pageID&&(a=a.pageID);var b=l.getSubeoFromPage(a);$(document).trigger(h.jumpToPage,[a,b]);!b||c.inAssessment||c.inReview||c.isSinglePage||c.jumpToSubeo(b.subeoid);a="Player Control Action Triggered...\x3c/br\x3eJump to page triggered.";b||(a+=".. Page not found in course.");$(document).trigger(h.called,[{message:a}])},getSubeoFromPage:function(a){if(!c.isSinglePage)return c.dataStorage.getSubeoFromPage(a);$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3egetSubeoFromPage triggered."}])},
jumpToLearningObject:function(a,b){if(!c.inAssessment&&!c.inReview&&!c.isSinglePage){a=l.findObject(a);for(var k=a.subeos[0].subeoid,m=1;m<a.subeos.length;m++)if(!a.subeos[m].complete){k=a.subeos[m-1].subeoid;break}contentApi.jumpToSubeo(k,b)}$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eJump to object triggered."}])},playerEvent:{on:function(a,b){c.isSinglePage||$(c).bind(a,b);$(document).trigger(h.called,[{message:"Content API called... Handler attached to player event",
data:arguments}])},remove:function(a,b){c.isSinglePage||$(c).unbind(a,b);$(document).trigger(h.called,[{message:"Content API called... Handler removed from player event",data:arguments}])}},printPage:function(){window.print();$(document).trigger(h.called,[{message:"Content API called... Print page called"}])},setData:function(b,k,m,n,p,q){var t;b&&(t=c.isSinglePage?a[b]:this.getData(b),t!=k&&(c.isSinglePage?a[b]=k:l.setContentVariable.apply(l,[b,k,p]),n||($(document).trigger(h.dataSet,{name:b,newValue:k,
oldValue:t,cfg:q}),$(document).trigger(h.called,[{message:"Content API called... Data set",data:arguments}]))))},setObjectCompleted:function(){c.isSinglePage||c.setCurrentObjectComplete();$(document).trigger(h.called,[{message:"Content API called... Current learning object set to complete"}])},setCourseComplete:function(){c.isSinglePage||l.markCourseComplete();$(document).trigger(h.called,[{message:"Content API called... Course learning set to complete"}])},execJS:function(a){try{eval(a.js)}catch(b){$(document).trigger(h.called,
[{message:"exec JS Content API called... Error executing javascript: "+a.js,status:"warning"}])}$(document).trigger(h.called,[{message:"Content API called... Javascript successfully executed.",data:a.js}])},showBack:function(){c.navigation.showBackButton();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe previous button is enabled."}])},showBoth:function(){c.navigation.showBackButton();c.navigation.showForwardButton();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eBoth navigation buttons are enabled."}])},
showForward:function(){c.navigation.showForwardButton();$(document).trigger(h.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is enabled."}])},takeTest:function(){if(c.isSinglePage)$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);else if(!c.inAssessment&&!c.inReview){var a=l.currentModule,k=l.moduleHasTest(a);if(b.enablePostTest){if(!k)return $(document).trigger(h.called,[{message:"Content API function called... \x3c/br\x3e "+
m.noModuleTesting,status:"warning"}]),null;if(l.isMaxedOut(a))return $(document).trigger(h.called,[{message:"Content API function called... \x3c/br\x3e "+m.exceededTestAttempts,status:"warning"}]),null}else return $(document).trigger(h.called,[{message:"Content API function called... \x3c/br\x3e "+m.testingDisabled,status:"warning"}]),null;l.markModuleComplete(a);(k=l.getModuleEnd(a))&&l.jumpToPage(k.page);c.launchTest(a.loid,"post");$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);
return null}},jumpToModule:function(a){if(c.isSinglePage)$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);else if(!c.inAssessment&&!c.inReview){var b=l.currentModule;a.moduleID&&(b=l.findModule(moduleID));c.jumpToModule(b);$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);return null}},reviewTest:function(a){if(c.isSinglePage)$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);
else if(!c.inAssessment&&!c.inReview){var b=l.currentModule;a.moduleID&&(b=l.findModule(moduleID));(a=b.lastAssessment?b.lastAssessment:null)&&c.launchReview(a);$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);return null}},toggleTranscript:function(){c.isSinglePage||c.toggleTranscript();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is toggled"}])},showTranscript:function(){c.isSinglePage||c.showTranscript();
$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is showing"}])},openModal:function(a,b){DKI.Modal.show({url:a,callback:b});$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe modal is showing"}])},showGlossaryBrowser:function(){c.isSinglePage||DKI.glossaryBrowse.show();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is showing"}])},hideGlossaryBrowser:function(){c.isSinglePage||
DKI.glossaryBrowse.hide();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is hidden"}])},toggleGlossaryBrowser:function(){c.isSinglePage||DKI.glossaryBrowse.toggle();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is toggled"}])},showResourceBrowser:function(){c.isSinglePage||DKI.resourceBrowser.show();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is showing"}])},
hideResourceBrowser:function(){c.isSinglePage||DKI.resourceBrowser.hide();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is hidden"}])},toggleResourceBrowser:function(){c.isSinglePage||DKI.resourceBrowser.toggle();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is toggled"}])},showBibliography:function(){c.isSinglePage||DKI.reference.showBibliography();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is showing"}])},
hideBibliography:function(){c.isSinglePage||DKI.reference.hideBibliography();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is hidden"}])},toggleBibliography:function(){c.isSinglePage||DKI.reference.toggleBibliography();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is toggled"}])},showCourseSearch:function(a){a&&"object"==typeof a&&(a=null);c.isSinglePage||DKI.search.Window.show(a);$(document).trigger(h.called,
[{message:"Content API function called...\x3c/br\x3eThe course search window is showing"}])},hideCourseSearch:function(){c.isSinglePage||DKI.search.Window.hide();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is hidden"}])},toggleCourseSearch:function(){c.isSinglePage||DKI.search.Window.toggle();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is toggled"}])},searchCourse:function(a,
b){var k=null;c.isSinglePage||(k=l.searchManager.search(a,b));$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe course was searched for: "+a,data:{result:k,term:a,exclude:b}}]);return k},showCorrectAnswers:function(){c.contentPage.current.showCorrectAnswers();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eCorrect answers are showing"}])},tryAgain:function(){c.contentPage.current.tryAgain();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eTAnother test question attempt has been started"}])},
submitQuestion:function(a){c.inReview?this.contentGoNext():c.contentPage.current.submitQuestion&&(c.contentPage.current.submitQuestion(DKI.isObject(a)?null:a),$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe current question has been submitted"}]))},sceneStepForward:function(){c.contentPage.current.stepForward();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped forward"}])},sceneStepBack:function(){c.contentPage.current.stepBack();
$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped back"}])},resetPage:function(a){c.contentPage.current.reset();c.contentPage.current.start();a||$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe current page has been reset"}])},showMenu:function(){c.isSinglePage||c.showOutline();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe menu is showing"}])},hideMenu:function(){c.isSinglePage||
c.hideOutline();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eTThe menu is hidden"}])},toggleMenu:function(){c.isSinglePage||c.toggleOutline();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe menu is toggled"}])},exitCourse:function(){c.isSinglePage||c.exitCourse();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe course exit has been triggered"}])},jumpToElement:function(a){var b=$("#"+a.elementId+
"_wrapper"),c=function(){var a=b.find('*[tabindex][tabindex!\x3d"-1"]:first');0<a.length&&a[0].focus()};if(b.offset().top<$(window).scrollTop()||b.offset().top+b.height()>$(window).scrollTop()+(window.innerHeight||document.documentElement.clientHeight))if(200>b.offset().top)if($(document.body).hasClass("mobile")){var k=$("#headerContainer").css("position");$("#headerContainer").css("position","relative");b.velocity("scroll",{offset:-200,duration:500});setTimeout(function(){$("#headerContainer").css("position",
k);c()},501)}else b.velocity("scroll",{offset:-200,duration:500}),setTimeout(function(){c()},501);else b.velocity("scroll",{offset:-1*$(".bgRepeater").offset().top,duration:500}),setTimeout(function(){c()},501);else c();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eElement has been jumped to",data:a}])},backToTop:function(){$("body, html, #contentFrame").velocity("scroll",{offset:-200,duration:500});$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eBack to top"}])},
launchURL:function(a){c.isSinglePage||(DKI.applyIf(a,{display:"modal",method:"GET"}),DKI.Modal.show(a));$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eURL has been launched",data:a}])},enableMenuButton:function(){c.isSinglePage||k.enableMenuButton();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eTHe menu button is enabled"}])},disableMenuButton:function(){c.isSinglePage||k.disableMenuButton();$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe menu is disabled"}])},
showPopup:function(a){setTimeout(function(){DKI.PopupPanel.show(a)},50);$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eA popup has been shown",data:a}])},hidePopup:function(a){DKI.PopupPanel.hide({id:a});$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eA popup has been hidden",data:a}])},hideAllPopups:function(a,b){var c=this,h="div.popup[data-actionID]";b||(h+=":not(.dki-submit-button)");a||(h+=":not(.DKI-questionFeedback)");$(h).each(function(){c.hidePopup($(this).data("actionID"))})},
destroyPopup:function(a){DKI.PopupPanel.destroy({id:a});$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eA popup has been destroyed",data:a}])},getCurrentAssessment:function(){var a=c.isSinglePage?null:l.assessment;$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eCurrent assessment has been retrieved",data:a}]);return a},inReview:function(){var a=c.inReview?!0:!1;$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eIn review status has been retrieved",
data:a}]);return a},getGroupTitle:function(a){var b=void 0;if(c.isSinglePage){if(c.contentPage.getGroupById)var k=c.contentPage.getGroupById(a),b="undefined"!==typeof k?k.title:b}else k=l.getGroup(a),b="undefined"!==typeof k?k.title:b;"undefined"==typeof k&&(a=$("#group_"+a).data("title"),b="undefined"!==typeof a?a:b);$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eGroup title has been retrieved",data:b}]);return b},zoomToElement:function(a,b,c,k){c=void 0!=c?c:1E3;
k=void 0!=k?k:function(){};b=$(".pageElementsWrapper.page",b.pageContainer);var l=$("html").height()-$("#headerContainer").height()-$("#footerContainer").height();b.height()>l?b.height(l):l=b.height();var m=$("#"+a+"_wrapper",b);b.offset();m.position();a=b.width()/m.data("width");var l=l/m.data("height"),n=b.width()/2,p=b.height()/2,q=m.data("x")+m.data("width")/2,t=m.data("y")+m.data("height")/2;b.velocity({scale:a>l?l:a,translateX:n-q,translateY:p-t},{duration:c,complete:function(){k.call(this);
$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed in on an element.",data:m}])}})},zoomOut:function(a,b,c){b=void 0!=b?b:1E3;c=void 0!=c?c:function(){};var k=$(".pageElementsWrapper.page",a.pageContainer);k.velocity({scale:1,translateX:0,translateY:0},{duration:b,complete:function(){k.css("height","");c.call(this);$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed out to the original size."}])}})},
getElementWrapper:function(a){return $("#"+a+"_wrapper")},sendXAPIStatement:function(a){this.sendScormXAPIStatement(a);this.sendAnalyticsStatement(a)},sendScormXAPIStatement:function(a){p&&(a=DKI.applyIf(a,{context:{contextActivities:{parent:[]}}},!0),a=this.applyBrowserInfoToStatement(a),a.context.contextActivities.parent.push(l.rootXAPIActivity),p.process("tincan.sendStatement",[a,function(){}]),$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3esendXAPIStatement",
data:JSON.stringify(a)}]))},sendAnalyticsStatement:function(a){tc&&(a=DKI.applyIf(a,{context:{contextActivities:{parent:[]}}},!0),a=this.applyBrowserInfoToStatement(a),a.context.contextActivities.parent.push({id:settings.activityRootURL+"course/"+l.courseStructure.courseid}),tc.sendStatement(a,function(){}),$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3esendAnalyticsStatement",data:JSON.stringify(a)}]))},applyBrowserInfoToStatement:function(a){playerBehaviour.xapi_includeBrowserInfoInStatements&&
(a=DKI.applyIf(a,{context:{extensions:{"http://id.tincanapi.com/extension/browser-info":dkiUA.getUAProperties()}}},!0));return a},getXAPIStatements:function(a){p&&(DKI.applyIf(a,{callback:function(){}}),p.process("getXAPIStatements",[a],a.callback));$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3egetXAPIStatements",data:JSON.stringify(a)}])},showCompletionCertificate:function(){!c.isSinglePage&&c.behaviour.completionCertificate&&c.loadCertificate();$(document).trigger(h.called,
[{message:"Content API function called...\x3c/br\x3eCompletion Certificate has been shown."}])},getDefaultFeedbackText:function(a){var b;b=c.isSinglePage?settings.course.parameters.questionFeedback[a]:l.courseStructure.parameters.questionFeedback[a];$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3e default feedback text retrieved for type "+a+"."}]);return b},getDefaultFeedbackPopup:function(){var a;a=c.isSinglePage?settings.course.parameters.questionFeedback.popup:
l.courseStructure.parameters.questionFeedback.popup;$(document).trigger(h.called,[{message:"Content API function called...\x3c/br\x3e default feedback style retrieved."}]);return a},getRandomNumber:function(a,b){var c=isNaN(a)?0:parseInt(a);b=isNaN(b)?1E16:parseInt(b);a=Math.min(c,b);b=Math.max(c,b);return Math.round(Math.random()*(b-a))+a},getCurrentTime:function(){var a=new Date,b=a.getHours()%12,b=b||12,c=a.getMinutes();return b+":"+(10>c?"0"+c:c)+" "+(12>=a.getHours()?"am":"pm")},getCurrentDate:function(a){return $.format.date(new Date,
a||"dd/MM/yyyy")},invalidateModule:function(a){(a=c.dataStorage.getModuleByIndex(a.moduleIndex))&&c.dataStorage.invalidateModule(a)},closePopupPage:function(){$.fancybox.close()},resetCourseTimer:function(){c.dataStorage&&c.dataStorage.resetCourseTimer()}},y;for(y in t)t.hasOwnProperty(y)&&(n[y]=t[y],n.DkiApi[y]=t[y]);n.shLMS={meth1:function(a,b){var h=c.dataStorage;b=b?h.findModule(b):h.currentModule;b.post&&(b.post.attempts=a);h.saveCompletion&&h.saveCompletion()}};p&&n.getStudentName(function(){});
return n}();DKI||(DKI={});DKI.PlayerNavigation=function(a){this.showMenu=this.showReload=this.showAudio=this.showBack=this.showForward=!0;this.audioState="on";this.ignoreSkipToContentFocus=this.bibliographyState=this.resourceState=this.glossaryState=this.moreState=this.menuState=!1;this.clickEvent=a.settings.clickEvent;this.initEvents();this.registerDOM();$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))})};
DKI.PlayerNavigation.prototype.registerDOM=function(){this.exitButton=$("#exitButton");this.audioButton=$("#audioButton");this.replayButton=$("#replayButton");this.backButton=$("#backButton");this.forwardButton=$("#forwardButton");this.menuButton=$("#menuButton");this.listButton=$("#listButton");this.moreButtons=$("#moreButtons");this.moreOverlay=$("#moreOverlay");this.transcriptButton=$("#transcriptButton");this.glossaryButton=$("#glossaryButton");this.resourceButton=$("#resourceButton");this.skipToContent=
$("#skipToContent");this.skipToNavigation=$("#skipToNavigation");$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))});this.forwardButton.data("tab-index",this.forwardButton.attr("tabIndex"));this.backButton.data("tab-index",this.backButton.attr("tabIndex"))};
DKI.PlayerNavigation.prototype.initEvents=function(){var a=this;$(document).on("dki_theme_ready",function(){a.registerDOM()});$(document.body).on(this.clickEvent,"#exitButton",function(b){b.stopPropagation();$(a).trigger(DKI.PlayerNavigation.events.exit);return!1});$(document.body).on(this.clickEvent,"#audioButton",function(b){b.stopPropagation();$(this).hasClass("disabled")||(a.audioState="on"===a.audioState?"off":"on",a.audioButton.toggleClass("muted"),$(a).trigger(DKI.PlayerNavigation.events.audioToggle,
[a.audioState]),a.hideMore());return!1});$(document.body).on("click","#backButton",function(b){$("#backButton").hasClass("disabled")||$(a).trigger(DKI.PlayerNavigation.events.back);b.stopPropagation();b.gesture&&b.gesture.preventDefault();return!1});$(document.body).on("click","#forwardButton",function(b){$("#forwardButton").hasClass("disabled")||$(a).trigger(DKI.PlayerNavigation.events.forward);b.stopPropagation();b.gesture&&b.gesture.preventDefault();return!1});if(dkiUA.touchEnabled&&playerBehaviour.enableSwiping){var c=
function(b){$("#backButton").hasClass("disabled")||b.gesture&&!(b.gesture&&150<b.gesture.deltaX)||$(a).trigger(DKI.PlayerNavigation.events.back);b.stopPropagation();b.gesture&&b.gesture.preventDefault();return!1},b=function(b){$("#forwardButton").hasClass("disabled")||b.gesture&&!(b.gesture&&-150>b.gesture.deltaX)||$(a).trigger(DKI.PlayerNavigation.events.forward);b.stopPropagation();b.gesture&&b.gesture.preventDefault();return!1};$("html").on("swipeleft",b);$("html").on("swiperight",c);$(document).on(DKI.Events.TestQuestion.dragStarted,
function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.Events.TestQuestion.dragStopped,function(){$("html").on("swiperight",c);$("html").on("swipeleft",b)});$(document).on(DKI.ContentPage.events.elementSwipeStart,function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.ContentPage.events.elementSwipeEnd,function(){$("html").on("swiperight",c);$("html").on("swipeleft",b)})}$(a).on(DKI.PlayerNavigation.events.back,function(){a.hideBackButton();
a.hideForwardButton()});$(a).on(DKI.PlayerNavigation.events.forward,function(){a.hideBackButton();a.hideForwardButton()});$(document.body).on(this.clickEvent,"#menuButton",function(b){b.stopPropagation();$(this).hasClass("disabled")||(a.menuState=a.menuState?!1:!0,$(a).trigger(DKI.PlayerNavigation.events.menuToggle,[a.menuState]),a.hideMore());return!1});$(document.body).on(this.clickEvent,"#replayButton",function(b){b.stopPropagation();$(this).hasClass("disabled")||($(a).trigger(DKI.PlayerNavigation.events.reload),
a.hideMore());return!1});$(document.body).on(this.clickEvent,"#listButton",function(b){b.stopPropagation();a.onListClick(b);return!1});$(document.body).on(this.clickEvent,"#transcriptButton",function(b){b.stopPropagation();$(this).hasClass("disabled")||$(a).trigger(DKI.PlayerNavigation.events.transcriptToggle);return!1});$(document.body).on(this.clickEvent,"#glossaryButton",function(b){b.stopPropagation();$(this).hasClass("disabled")||(a.glossaryState=a.glossaryState?!1:!0,$(a).trigger(DKI.PlayerNavigation.events.glossaryToggle,
[a.glossaryState]),a.hideMore());return!1});$(document.body).on(this.clickEvent,"#resourceButton",function(b){b.stopPropagation();$(this).hasClass("disabled")||(a.resourceState=a.resourceState?!1:!0,$(a).trigger(DKI.PlayerNavigation.events.resourceToggle,[a.resourceState]),a.hideMore());return!1});if(this.moreOverlay)$(document.body).on(this.clickEvent,"#moreOverlay",function(b){b.stopPropagation();a.hideMore();a.moreOverlay.css("display","none");return!1});$(document).on(DKI.ContentPage.events.started,
function(){a.ignoreSkipToContentFocus?a.ignoreSkipToContentFocus=!1:$("#skipToContent").focus()});$(document).on(DKI.EndModule.events.started,function(){$("#skipToContent").focus()});$(document).on(DKI.EndCourse.events.started,function(){$("#skipToContent").focus()});$(document).on(DKI.EndTest.events.started,function(){$("#skipToContent").focus()});$(document.body).on(this.clickEvent,"#skipToContent",function(a){a.stopPropagation();$(".headerPage:not(.hidden) *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .pageElementsWrapper *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .endScreenWrapper *[tabindex][tabindex!\x3d'-1']").each(function(){if($(this).is(":visible")&&
!$(this).isDisabled()||$(this).hasClass("sr-only"))return this.focus(),!1});return!1});$(document.body).on(this.clickEvent,"#skipToNavigation",function(a){a.stopPropagation();$("*[tabindex][tabindex!\x3d'-1']","#navbar_header, #headerContainer").each(function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("disabled-element")&&$(this).is(":visible"))return this.focus(),!1});return!1})};DKI.PlayerNavigation.prototype.fireBack=function(){$(this).trigger(DKI.PlayerNavigation.events.back)};
DKI.PlayerNavigation.prototype.fireForward=function(){$(this).trigger(DKI.PlayerNavigation.events.forward)};DKI.PlayerNavigation.prototype.disableButton=function(a){a="string"==$.type(a)?$("#"+a):$(a);a.addClass("disabled");a.attr("tabindex",-1);a.attr("aria-hidden","true")};DKI.PlayerNavigation.prototype.enableButton=function(a){a="string"==$.type(a)?$("#"+a):$(a);a.removeClass("disabled");a.attr("tabindex",a.data("tab-index"));a.attr("aria-hidden","false")};
DKI.PlayerNavigation.prototype.hideTranscriptButton=function(){this.transcriptButton.css("display","none")};DKI.PlayerNavigation.prototype.showTranscriptButton=function(){this.transcriptButton.css("display","")};DKI.PlayerNavigation.prototype.disableTranscriptButton=function(){this.disableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.enableTranscriptButton=function(){this.enableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.hideAudioButton=function(){this.disableButton(this.audioButton)};
DKI.PlayerNavigation.prototype.showAudioButton=function(){this.enableButton(this.audioButton)};DKI.PlayerNavigation.prototype.hideBackButton=function(){this.disableButton(this.backButton)};DKI.PlayerNavigation.prototype.showBackButton=function(){this.enableButton(this.backButton)};DKI.PlayerNavigation.prototype.hideForwardButton=function(){this.disableButton(this.forwardButton)};DKI.PlayerNavigation.prototype.showForwardButton=function(){this.enableButton(this.forwardButton)};
DKI.PlayerNavigation.prototype.hideMenuButton=function(){this.disableButton(this.menuButton)};DKI.PlayerNavigation.prototype.showMenuButton=function(){this.enableButton(this.menuButton)};DKI.PlayerNavigation.prototype.hideReloadButton=function(){this.disableButton(this.replayButton)};DKI.PlayerNavigation.prototype.showReloadButton=function(){this.enableButton(this.replayButton)};
DKI.PlayerNavigation.prototype.showScreenCountDisplay=function(){$("#screenCount").css("display","");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","")};DKI.PlayerNavigation.prototype.hideScreenCountDisplay=function(){$("#screenCount").css("display","none");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","none")};DKI.PlayerNavigation.prototype.hideGlossaryButton=function(){this.glossaryButton.css("display","none")};
DKI.PlayerNavigation.prototype.showGlossaryButton=function(){this.glossaryButton.css("display","")};DKI.PlayerNavigation.prototype.disableGlossaryButton=function(){this.disableButton(this.glossaryButton)};DKI.PlayerNavigation.prototype.enableGlossaryButton=function(){this.enableButton(this.glossaryButton)};DKI.PlayerNavigation.prototype.disableResourceButton=function(){this.disableButton(this.resourceButton)};DKI.PlayerNavigation.prototype.enableResourceButton=function(){this.enableButton(this.resourceButton)};
DKI.PlayerNavigation.prototype.disableMenuButton=function(){this.disableButton(this.menuButton)};DKI.PlayerNavigation.prototype.enableMenuButton=function(){this.enableButton(this.menuButton)};DKI.PlayerNavigation.prototype.setTotalScreens=function(a){$("#totalScreens,.totalScreens").text(a)};DKI.PlayerNavigation.prototype.setCurrentScreen=function(a){$("#currentScreen,.currentScreen").text(a)};DKI.PlayerNavigation.prototype.setModuleName=function(a){$("#moduleName").text(a)};
DKI.PlayerNavigation.prototype.setObjectName=function(a){$("#objectName").text(a)};DKI.PlayerNavigation.prototype.setMenuState=function(a){this.menuState=a};DKI.PlayerNavigation.prototype.setGlossaryState=function(a){this.glossaryState=a};DKI.PlayerNavigation.prototype.setResourceState=function(a){this.resourceState=a};DKI.PlayerNavigation.prototype.setBibliographyState=function(a){this.BibliographyState=a};
DKI.PlayerNavigation.prototype.contentMode=function(){this.showAudioButton();this.showReloadButton();this.showMenuButton();this.showScreenCountDisplay()};DKI.PlayerNavigation.prototype.testMode=function(a){a?(this.showForwardButton(),this.showBackButton()):(this.hideForwardButton(),this.hideBackButton());this.showAudioButton();this.hideReloadButton();this.hideMenuButton();this.showScreenCountDisplay()};
DKI.PlayerNavigation.prototype.endMode=function(){this.hideForwardButton();this.hideBackButton();this.hideReloadButton();this.hideAudioButton();this.hideMenuButton();this.hideScreenCountDisplay();this.setObjectName("");this.setModuleName("")};
DKI.PlayerNavigation.prototype.onListClick=function(){this.menuState=!1;$(this).trigger(DKI.PlayerNavigation.events.menuClose);this.moreState?(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1):(this.moreButtons.css("display","block"),this.moreOverlay.css("display","block"),this.moreState=!0)};
DKI.PlayerNavigation.prototype.hideMore=function(){this.moreState&&(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1)};DKI.PlayerNavigation.events={audioToggle:"audioToggle",back:"back",forward:"forward",menuToggle:"menuToggle",menuClose:"menuClose",reload:"reload",exit:"exit",transcriptToggle:"transcriptToggle",glossaryToggle:"glossaryToggle",resourceToggle:"resourceToggle",bibliographyToggle:"bibliographyToggle"};
DKI.Marker={scoreQuestion:function(a,c,b){b="undefined"===typeof b?0:b;if("1"==a.type)b=this.scoreTrueFalse(c,a.options);else if("2"==a.type)b=this.scoreMultipleChoice(c,a.options);else if("3"==a.type)b=this.scoreFreeForm(c,a.options);else if("4"==a.type)b=this.scoreFillBlanks(c,a.options);else if("5"==a.type)b=this.scoreMultiplePulldown(c,a.options);else if("6"==a.type)b=this.scoreDragDrop(c,a.options);else if("7"==a.type)b=this.scoreCustom(c,a.options,b);else throw"Invalid question type: "+a.type;
(0==a.parameters.scoringType&&!playerBehaviour.partialScoring||2==a.parameters.scoringType)&&100>b&&(b=0);return isNaN(b)?0:b},scoreTrueFalse:function(a,c){return c[0].parameters.correct&&1==a[0]?100:c[1].parameters.correct&&1==a[1]?100:0},scoreMultipleChoice:function(a,c){for(var b=0,k=0,l=0,p=0;p<c.length;p++)c[p].parameters.correct?(b++,a[p]&&1==a[p].checked&&k++):a[p]&&1==a[p].checked&&l++;k-=l;return 0<k?Math.round(k/b*100):0},scoreFillBlanks:function(a,c){for(var b,k=0,l=0,p=0;p<c.length;p++){l++;
b=c[p].parameters.correctValues;for(var m=0;m<b.length;m++){var q=$.trim(b[m].toString().toLowerCase()),h=$.trim(a[p].toString().toLowerCase());$.isNumeric(q)?(q=parseFloat(q),h=parseFloat(h.replace(/\,|\s/g,""))):q=$("\x3cspan\x3e"+q+"\x3c/span\x3e").text().trim();if(h===q){k++;break}}}return Math.round(k/l*100)},scoreMultiplePulldown:function(a,c){for(var b=0,k=0,l,p=0;p<c.length;p++)l=$('\x3cselect\x3e\x3coption value\x3d"'+escape(c[p].parameters.correctValue)+'"\x3e'+c[p].parameters.correctValue+
"\x3c/option\x3e\x3c/select\x3e"),k++,l=l.value().trim(),escape(a[p].toString()).toLowerCase()===l.toString().toLowerCase()&&b++;return Math.round(b/k*100)},scoreFreeForm:function(a){return""!==a[0].trim()?100:0},scoreDragDrop:function(a,c){if(0==a.length&&0==c.length)return 0;for(var b=0,k=c.length,l,p,m=0;m<a.length;m++){l=!1;p=null;for(var q=0;q<c.length;q++)if(c[q].element_id==a[m].elementId){p=c[q];break}for(q=0;q<p.parameters.correctTargets.length;q++)a[m].target.id&&a[m].target.id.toString().toLowerCase()==
p.parameters.correctTargets[q].toString().toLowerCase()&&(l=!0);a[m].target.id||0!=p.parameters.correctTargets.length||(l=!0);l&&b++}return Math.round(b/k*100)},scoreCustom:function(a,c,b){try{if(isNaN(b))throw"Invalid data. Please provide a numeric score.";b=parseInt(b,10);b=0>b?0:b;return 100<b?100:b}catch(k){return 0}}};
DKI.browserWarning=function(){return{init:function(a){a.warnBrowser&&(dkiUA.firefox&&4>dkiUA.firefoxVersion||dkiUA.ie&&8>dkiUA.ieVersion||dkiUA.safari&&(dkiUA.windows||5>dkiUA.safariVersion))&&(a=$(Handlebars.compile(DKI.templates.browserWarning)({strings:DKI.strings})),$("body").append(a),a.modal("show"),dkiUA.windows?$("#browserWarning_downloads").addClass("windows"):dkiUA.mac?$("#browserWarning_downloads").addClass("mac"):dkiUA.android?$("#browserWarning_downloads").addClass("android"):dkiUA.iOS&&
$("#browserWarning_downloads").addClass("iOS"))}}}();
DKI.glossary=function(){var a={},c=[],b={},k=null,l=function(a,b,c){a=DKI.calculateCoords(a,b,c);12>a.y&&(a.y=12);return a},p=function(a,b){b=b.find("#glossaryPopupSource");a.attribution?b.html("Source: "+a.attribution):a.citation_id?b.html("Source: "+DKI.reference.getFullCitationText(a.citation_id)):(b.html(""),b[0].tabIndex=-1)},m=function(b){b=l(b,a.wrapper,5);a.wrapper.css({top:b.y+"px",left:b.x+"px"});b=$("#glossaryPopupDefinitionContainer");150<b.height()&&b.height(150)},q=DKI.func.debounce(function(b,
c){if("show"==b){if(!a.wrapper.is(":visible")){var h=n($(c).data("id")),k=this;if(h){b=DKI.stripHTML(h.definition);b=50<b.length?b.substr(0,47)+"...":b;a.hoverDefinition.html("\x3cp style\x3d'display:inline;'\x3e"+b+"\x3c/p\x3e");c=l(c,a.hoverDefinition,5);a.hoverDefinition.css({top:c.y+"px",left:c.x+"px"});var m=a.hoverDefinition.parent();a.hoverDefinition.detach();setTimeout(function(){a.hoverDefinition.css("display","block");m.append(a.hoverDefinition);$(player).trigger(k.events.definitionShown,
h)},100)}}}else"hide"==b&&(a.hoverDefinition.hide(),c&&(h=n($(c).data("id")),$(player).trigger(this.events.definitionHidden,h)))},100,!1),h=function(a,b){q.call(this,"hide",b)},n=function(a){for(var b=0;b<c.length;b++)if(c[b].glossaryid==a)return c[b]},t={tooltip:{enabled:!0,config:{}}};Handlebars.registerHelper("DKI_templates_glossary_list",function(a){var h=DKI.applyIf(a.hash,t);a=Handlebars.compile(DKI.templates.glossary.list)({strings:DKI.strings,config:h,terms:c});$(document).on(b.clickEvent,
".dki-glossary-list-term",function(a){a=$(this);var c=n(a.data("id"));if(h.tooltip.enabled){c.definition=c.definition.replace(/\&nbsp\;/g," ");var k=Handlebars.compile(DKI.templates.glossary.term_tooltip)({term:c,strings:DKI.strings});a.hasClass("tooltipstered")||(a.tooltipster(DKI.applyIf(DKI.clone(h.tooltip.config),{contentAsHTML:!0,content:k,functionBefore:function(a,b){a.addClass("tooltip-open");b()},functionReady:function(a,h){var k=$(h);$(a);k.parent();dkiUA.mobile&&requirejs(["hammer"],function(){new Hammer($(h).find(".dki-glossary-term-tooltip-close")[0],
{domEvents:!0,touchAction:"auto"})});$(h).find(".dki-glossary-term-tooltip-close").on(b.clickEvent,function(){$(a).tooltipster("hide");a[0].focus()});var l=$(h).find(".dki-glossary-term-content-source");l.text()?l.attr("tabindex","1"):l.attr("tabindex","-1");a.data("tooltipster-ns");setTimeout(function(){var a=$("html")[0].scrollTop;if(k.offset().top+k.height()>window.innerHeight+a){var b=window.innerHeight+a-k.height();k.css("top",b)}0>k.offset().top&&k.height()<=window.innerHeight&&k.css("top",
0);k.offset().top<a&&k.height()<=window.innerHeight&&k.css("top",a);k.find("#dki-glossary-term-title")[0].focus()},25);$(window).one("scroll",function(){$(a).tooltipster("hide")});$(".dki-glossary-list").one("scroll",function(){$(a).tooltipster("hide")});$(player).trigger(DKI.glossary.events.popupShown,c)},functionAfter:function(a){a.removeClass("tooltip-open")},trigger:"click",onlyOne:!1,theme:"tooltipster-claro glossary-tooltip",interactive:!0,contentCloning:!1,position:"right",positionTracker:!1,
updateAnimation:!1})),a.trigger("click"))}else $(document).trigger("dki-glossary-list-term-clicked",c)});return a});return{init:function(l){c=l.terms;b=l.settings;language=l.languageString;l=Handlebars.compile(DKI.templates.glossaryPopup)();$("#contentFrame").append(l);a.wrapper=$("#glossaryPopup");a.term=$("#glossaryPopupTerm");a.definition=$("#glossaryPopupDefinition");a.definitionContainer=$("#glossaryPopupDefinitionContainer");a.attribution=$("#glossaryPopupSource");a.close=$("#glossaryPopupClose").attr("title",
playerStrings.buttonLabelClose);a.hoverDefinition=$("#glossaryHoverDefinition");a.hoverDefinition.attr("role","alert");a.hoverDefinition.attr("aria-live","polite");a.viewBrowserLink=$("#viewBrowserLink");a.viewBrowserLink.attr("title",language.viewTermTooltip);a.close.on(b.clickEvent,function(){k&&k.focus();a.wrapper.hide()});$(window).on(b.resizeEvent,function(b){k&&m(k);a.wrapper.is(":visible")&&a.wrapper.closest(".fancybox-wrap").length&&a.wrapper.closest(".fancybox-wrap").centerInWindow()});a.hoverDefinition.on("mouseleave",
function(a){h(a)})},showPopup:function(c){a.wrapper.is(":visible")&&b.selectedTerm&&b.selectedTerm.glossaryid==$(this).data("id")?(a.wrapper.hide(),k.focus(),k=null):(b.selectedTerm=n($(this).data("id")),b.selectedTerm?(h(),a.term.text(b.selectedTerm.term),a.definition.html(b.selectedTerm.definition),a.viewBrowserLink.show(),a.viewBrowserLink.attr("href",'javascript:DKI.glossaryBrowse.selectTerm("'+b.selectedTerm.id+'")'),k=c.currentTarget,c=a.wrapper.find(".glossaryPopupBody").clone(),c.find("*[tabindex]").attr("tabindex",
1),p(b.selectedTerm,c),contentApi.showPopup({id:"glossary_"+b.selectedTerm.id,html:c.html(),modal:!1,returnFocus:this,autoFocus:!0,tabContent:!1,popupType:{type:"pop",mod:"noModal",modal:!0},title:b.selectedTerm.term,onHide:function(){this.find("#glossaryPopupDefinitionContainer").remove()}}),a.term[0].clientWidth<a.term[0].scrollWidth&&a.term.attr("title",b.selectedTerm.term),a.definitionContainer.scrollTop(0),$(player).trigger(DKI.glossary.events.popupShown,b.selectedTerm)):b.inPreview&&(h(),a.term.text("Untranslated term"),
a.definition.html("This glossary term has not been translated"),a.viewBrowserLink.hide(),m(c.currentTarget),k=c.currentTarget,a.wrapper.show(),a.definition[0].focus()))},showDefinition:function(a,b){q.call(this,"show",b)},hideDefinition:h,events:{definitionShown:"glossaryDefinitionShown",definitionHidden:"glossaryDefinitionHidden",popupShown:"glossaryPopupShown",popupHidden:"glossaryPopupHidden"}}}();DKI.Reference||(DKI.Reference={});
DKI.Reference.playerReferenceUIInterface=function(a){var c={},b={},k={},l={},p=!1,m=null,q={citationRegistered:"citationRegistered",referenceRegistered:"referenceRegistered",referenceShown:"referenceShown",referenceHovered:"referenceHovered",bibliographyShown:"bibliographyShown"},h={},n=function(){for(var a in DKI.references.citations)$(document).trigger(q.citationRegistered,[DKI.references.citations[a]])},t=function(a,b){l.currentElement=a;!0===p&&l.selectedCitations&&"referencePopup"!=a.id&&0==
$(a).parents("#referencePopup").length&&l.selectedTextLinkId!=$(a).data("citationid")&&l.selectedElementId!=$(a).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")&&(p=!1);b&&!p?(y(a),b=l.selectedCitations[l.currentIdx],x(a),c.wrapper.show(),b&&$(document).trigger(this.events.referenceHovered,b)):b||p||c.wrapper.hide()},y=function(a){l.currentIdx=0;l.selectedTextLinkId=$(a).data("citationid");l.selectedElementId=$(a).closest(".dki-authoring-element, .dki-authoring-element-element").data("id");
l.selectedCitations=E(l.selectedTextLinkId,l.selectedElementId);c.next.removeClass("disable");c.previous.addClass("disable")},x=function(){var a=l.currentIdx;citation=l.selectedCitations[a];1>=l.selectedCitations.length?c.nav.hide():(c.nav.show(),0>=a?c.previous.addClass("disable"):c.previous.removeClass("disable"),a>=l.selectedCitations.length-1?c.next.addClass("disable"):c.next.removeClass("disable"),c.counter.html(a+1+" / "+l.selectedCitations.length));citation&&(a=D(citation.referenceId),a="\x3cspan class\x3d'refNum'\x3e"+
F(citation.id)+".\x3c/span\x3e "+DKI.Reference.makeRefText(a,h.txtReferenceLink,citation),c.refText.html(a));z(l.currentElement)},z=function(a){a=DKI.calculateCoords(a,c.wrapper,0);12>a.y&&(a.y=12);c.wrapper.css({top:a.y+"px",left:a.x+"px"});a=$("#referencePopupText");150<a.height()&&a.height(150)},r=function(){w();DKI.centerInPlayer(b.wrapper,!0);b.wrapper.show();$(document).trigger(DKI.Reference.playerReferenceUIInterface.events.bibliographyShown);$("*[tabindex][tabindex!\x3d'-1']",b.content).each(function(){if($(this).is(":visible"))return this.focus(),
!1});player.navigation.setBibliographyState(!0)},C=function(){b.wrapper.hide();player.navigation.setBibliographyState(!1)},A=function(a){k=a;a=k.referenceOrder;for(var c="\x3cul class\x3d'rf-Bibliography'\x3e",l=0;l<a.length;l++){var m=k.references[a[l]];$(document).trigger(q.referenceRegistered,[m]);var n=DKI.Reference.makeRefText(m,h.txtReferenceLink),c=c+("\x3cli tabindex\x3d'0'\x3e \x3cspan class\x3d'refIndex'\x3e"+H(m)+".\x3c/span\x3e "+n+"\x3c/li\x3e")}b.content.html(c+"\x3c/ul\x3e")},w=function(){c.wrapper.hide();
p=!1},B=function(a){if(k.citations[a])return k.citations[a]},E=function(a,b){var c=[],h;for(h in k.citations)k.citations[h].textLinkId==a&&k.citations[h].elementId==b&&c.push(k.citations[h]);c.sort(function(a,b){return a.order<b.order?-1:a.order>b.order?1:0});return c},D=function(a){if(k.references[a])return k.references[a]},F=function(a){a=B(a);var b=D(a.referenceId),b=H(b);"#"!=b&&a.alphaOrder&&(b+=a.alphaOrder);return b},H=function(a){var b="#";a.refIndex&&(b=parseInt(a.refIndex,10));return b},
G=function(a){$(".dki-citation-link",a).each(function(a,b){if(0==$(b).has("sup.refSup").length){a=E($(b).data("citationid"),$(b).closest("div.dki-authoring-element, div.dki-authoring-element-element").data("id"));for(var c="",h=0;h<a.length;h++)c+=F(a[h].id)+" ";c=c.substring(0,c.length-1);jQuery("\x3csup /\x3e",{html:c,"class":"refSup"}).appendTo(b)}})};return{strings:h,showReference:function(a){l.currentElement=a;C();!0===p&&l.selectedCitations&&l.selectedTextLinkId==$(a).data("citationid")&&l.selectedElementId==
$(a).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")?(c.wrapper.hide(),m=null,p=!1):(p=!0,y(a),x(a,0),m=a,c.wrapper.show(),(a=l.selectedCitations[l.currentIdx])&&$(document).trigger(this.events.referenceShown,a),$("*[tabindex][tabindex!\x3d'-1']",c.content).each(function(){if($(this).is(":visible"))return this.focus(),!1}))},hoverReference:t,hideReference:w,showBibliography:r,hideBibliography:C,courseHasReferences:function(){return void 0===k.referenceOrder?!1:0<k.referenceOrder.length?
!0:!1},toggleBibliography:function(){"none"==b.wrapper.css("display")?this.showBibliography():this.hideBibliography()},getFullCitationText:function(a){var b=B(a),c=D(b.referenceId);return"\x3cspan class\x3d'refNum'\x3e"+F(a)+".\x3c/span\x3e "+DKI.Reference.makeRefText(c,h.txtReferenceLink,b)},loadReferences:function(a){A(a)},events:q,init:function(a){l=a.settings;h=a.languageString;var k={strings:DKI.strings},k=Handlebars.compile(DKI.templates.citationPopup)(k),p={strings:DKI.strings,windowContent:"",
id:"bibliographyContainer",windowTitle:DKI.strings.references.bibliographyWindowTitle,contentId:"bibliographyContentContainer"},p=Handlebars.compile(DKI.templates.window)(p);$("#contentFrame").append(k);$("body").append(p);c.wrapper=$("#referencePopup");c.wrapper.hide();c.refText=$("#referenceTextContainer");c.content=$(".referencePopupBody",c.wrapper);c.close=$("#referencePopupClose");c.nav=$("#referencePopup div.nav");c.next=$("#referencePopup span.next");c.previous=$("#referencePopup span.previous");
c.counter=$("#referencePopup span.counter");c.viewBibliographyLink=$("#viewBibliographyLink");b.wrapper=$("#bibliographyContainer");b.content=b.wrapper.find(".browserContentContainer");b.close=b.wrapper.find(".browserCloseButton");A(a.references);contentApi.playerEvent.on("pageLoaded",w);c.next.on(l.clickEvent,function(a){$(this).hasClass("disable")||(l.currentIdx++,x())});c.previous.on(l.clickEvent,function(a){$(this).hasClass("disable")||(l.currentIdx--,x())});c.close.on(l.clickEvent,function(){w()});
b.close.on(l.clickEvent,function(){b.wrapper.hide()});c.viewBibliographyLink.on(l.clickEvent,function(){r()});c.wrapper.draggable({handle:$("#referenceTextContainer"),containment:".dkiContentFrame.current"});b.wrapper.draggable({handle:b.wrapper.find(".browserHeader"),containment:"body"});$(document).on(DKI.ContentPage.events.ready,function(a,b,c){G(c)});$(window).resize(function(){m&&z(m)});c.wrapper.on("mouseleave",function(a){t(a.target,!1)});n()}}}();
DKI.Reference.makeRefText=function(a,c,b){var k=a.refText;b&&b.label&&(k+=" ("+b.label+")");a.URL&&(k+=" (\x3ca tabindex\x3d'1' href\x3d'"+a.URL+"' target\x3d'_refTarget'\x3e"+c+"\x3c/a\x3e)");return k};
DKI.glossaryBrowse=function(){var a=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,c={},b=[],k=function(){c.container.show();"undefined"!=typeof player&&player.navigation.setGlossaryState(!0);0!==c.termList.termElements.length&&0!==c.termList.termElements[0].length&&c.termList.termElements[0][0].focus()},l=function(){pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");c.container.hide();"undefined"!=typeof player&&player.navigation.setGlossaryState(!1)},p=function(a){b=
a;c.termList.container.html("");$.each(b,function(a,b){a=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;var k=b.term,l="";a&&(k="\x3cspan class\x3d'termIcon'\x3e\x3c/span\x3e"+b.term,l+="mobile");k=$("\x3cli/\x3e",{id:b.id,html:k,"class":l,tabindex:0});l=function(){var a=b.id;pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");h(a)};if(a)k.find("span").on(settings.clickEvent,l);else k.on(settings.clickEvent,l);c.termList.container.append(k);c.termList.termElements.push(k);b.citation_id&&
"undefined"!==typeof dataStorage&&dataStorage.setRelationship("citationGlossary",b.citation_id,b.glossaryid);$(document).trigger(DKI.glossaryBrowse.events.glossaryRegistered,[b])});$("#glossaryBrowserContainer #glossaryManagePronunciation_player").jPlayer({swfPath:settings.swfPath,cssSelectorAncestor:"#glossaryManagePronunciation",ready:function(){pronunciationPlayer=$(this);c.container.css("visibility","visible");c.container.removeClass("loading");contentApi.playerEvent.on("pageLoaded",function(){c.container.hide()});
if("undefined"!==typeof player)player.navigation.forwardButton.on(settings.clickEvent,function(){l()})},supplied:"mp3",autohide:!1,loop:!1,preload:"auto",solution:"html, flash",size:{width:"0px",height:"0px"},muted:!1,volume:1})},m=function(a){for(var c=0;c<b.length;c++)if(b[c].id==a)return b[c]},q=function(a){0==a?c.termList.container.show():c.termDetails.container.show();c.contentContainer.animate({left:a},200,function(){0==a?c.termDetails.container.hide():c.termList.container.hide();c.container.trigger("shifted")})},
h=function(b){k();$("#termDetails .detailsContent").show();$("#termDetails").css("visibility","visible");var h=m(b);t(b);c.termDetails.termTitle.html(h.term);c.termDetails.termDefinition.html(h.definition);n(h);h.pronunciation_asset_filename?(c.player.show(),pronunciationPlayer.jPlayer("setMedia",{mp3:settings.assetURL+h.pronunciation_asset_filename})):c.player.hide();a?(c.container.on("shifted",function(){c.termDetails.termDefinition[0].focus();c.container.off("shifted")}),q(-1*c.termList.container.parent().outerWidth()),
c.back.fadeIn(200)):c.termDetails.termDefinition[0].focus()},n=function(a){a.attribution?c.termDetails.attribution.html("Source: "+a.attribution):a.citation_id?c.termDetails.attribution.html("Source: "+DKI.reference.getFullCitationText(a.citation_id)):c.termDetails.attribution.html("")},t=function(a){$("#termList li").removeClass("selected");$("#"+a).addClass("selected")};return{getTerms:function(){return b},getTerm:m,initialize:function(b){settings=b.settings;language=b.languageStrings;pronunciationPlayer=
{};var h=Handlebars.compile(DKI.templates.glossaryBrowser)({strings:DKI.strings,mobile:a,audioSimpleAncestorId:"glossaryManagePronunciation",audioSimplePlayerId:"glossaryManagePronunciation_player"}),h=Handlebars.compile(DKI.templates.window)({windowContent:h,id:"glossaryBrowserContainer",windowTitle:DKI.strings.glossary.titleText,afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:a}),contentId:"glossaryContentContainer"});$("body").append(h);c.container=$("#glossaryBrowserContainer");
c.contentContainer=$("#glossaryContentContainer");c.player=$("#glossaryManagePronunciation");c.close=c.container.find(".browserCloseButton");c.back=c.container.find(".backButton");a&&c.container.addClass("phone");c.termList={container:$("#termUl"),termElements:[]};c.termDetails={termTitle:$("#term"),termDefinition:$("#definition"),attribution:$("#attribution"),container:$("#termDetails")};p(b.terms);c.close.on(settings.clickEvent,function(){l()});if(a)c.back.on(settings.clickEvent,function(){c.container.on("shifted",
function(){var a=$(".terms li.selected");a.length?a[0].focus():0!==c.termList.termElements.length&&0!==c.termList.termElements[0].length&&c.termList.termElements[0][0].focus();c.container.off("shifted")});c.back.fadeOut(200);q(0)});c.container.draggable({handle:$("#browserHeader"),containment:"body"})},show:k,hide:l,selectTerm:h,isEmpty:function(){return 0<b.length?!1:!0},toggle:function(){"none"==c.container.css("display")?this.show():this.hide()},loadTerms:function(a){p(a)},events:{glossaryRegistered:"glossaryRegistered"}}}();
(function(a){a.fn.jsonSearch=function(c){var b;c=a.extend({url:"",data:[],minCharacters:1,maxResults:void 0,wildCard:"",caseSensitive:!1,notCharacter:"!",maxHeight:350,highlightMatches:!0,onSelect:void 0,width:void 0,searchKey:"text"},c);return this.each(function(){function k(a,b){var c="/.*+?|()[]{}\\".split("");if(b)for(var h=0;h<c.length;h++)c[h]===b&&c.splice(h,1);b=new RegExp("(\\"+c.join("|\\")+")","g");return a.replace(b,"\\$1")}function l(b){a("li",n).removeClass("resultHover");b&&a(b).addClass("resultHover");
t=b}function p(b,h){h="("+h+")";var k=!0,m=0,p=c.caseSensitive?new RegExp(h,"g"):new RegExp(h,"ig");a(n).html("").hide();for(h=0;h<b.length;h+=1){var x=a("\x3cli /\x3e"),y=b[h][c.searchKey];!0===c.highlightMatches&&(y=y.replace(p,"\x3cstrong\x3e$1\x3c/strong\x3e"));a(x).append('\x3ca class\x3d"ui-corner-all"\x3e'+y+"\x3c/a\x3e");"string"===typeof b[h].image&&a("\x3ea",x).prepend('\x3cimg src\x3d"'+b[h].image+'" /\x3e');"string"===typeof b[h].extra&&a("\x3ea",x).append("\x3csmall\x3e"+b[h].extra+"\x3c/small\x3e");
a(x).addClass("ui-menu-item").addClass(k?"odd":"even").attr("role","menuitem").click(function(h){return function(){var k=b[h];q.val(k.text);a(n).html("").hide();if("function"===typeof c.onSelect)c.onSelect(k)}}(h)).mouseover(function(a){return function(){l(a)}}(x));a(n).append(x);k=!k;m+=1;if("number"===typeof c.maxResults&&m>=c.maxResults)break}0<a("li",n).length&&(t=void 0,a(n).show().css("height","auto"),a(n).height()>c.maxHeight&&a(n).css({overflow:"auto",height:c.maxHeight+"px"}))}function m(l){l=
function(b){if(this.value.length<c.minCharacters)return a(n).html("").hide(),!1;var l=[],m=c.wildCard?k(this.value,c.wildCard).replace(h,".*"):k(this.value),r=!0,q,t;c.notCharacter&&0===m.indexOf(c.notCharacter)&&(m=m.substr(c.notCharacter.length,m.length),0<m.length&&(r=!1));m=m||".*";m=c.wildCard?"^"+m:m;q=c.caseSensitive?new RegExp(m):new RegExp(m,"i");for(t=0;t<b.length;t+=1)q.test(b[t][c.searchKey])===r&&l.push(b[t]);p(l,m)};if(c.data&&c.data.length)l.apply(this,[c.data]);else if(c.url&&"string"===
typeof c.url){var m=this.value;a(n).html('\x3cli class\x3d"ui-menu-item ajaxSearching"\x3e\x3ca class\x3d"ui-corner-all"\x3eSearching...\x3c/a\x3e\x3c/li\x3e').show().css("height","auto");b=window.clearTimeout(b);b=window.setTimeout(function(){a.getJSON(c.url,{search:m},function(b){b?p(b,m):a(n).html("").hide()})},500)}}var q=a(this),h=new RegExp(k(c.wildCard||""),"g"),n=a("\x3cul /\x3e"),t,y,x;a(n).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role",
"listbox").css({top:q.position().top+q.outerHeight()+"px",left:q.position().left+"px","z-index":999}).hide();q.after(n).keyup(function(b){switch(b.keyCode){case 13:return a(t).trigger("click"),!1;case 40:return t="undefined"===typeof t?a("li:first",n).get(0):a(t).next().get(0),l(t),t&&a(n).scrollTop(t.offsetTop),!1;case 38:return t="undefined"===typeof t?a("li:last",n).get(0):a(t).prev().get(0),l(t),t&&a(n).scrollTop(t.offsetTop),!1;default:m.apply(this,[b])}}).keydown(function(b){if(9===b.keyCode&&
t)return a(t).trigger("click"),!0}).blur(function(b){b=a(n).offset();b.bottom=b.top+a(n).height();b.right=b.left+a(n).width();(x<b.top||x>b.bottom||y<b.left||y>b.right)&&a(n).hide()}).focus(function(b){a(n).css({top:q.position().top+q.outerHeight()+"px",left:q.position().left+"px"});0<a("li",n).length&&a(n).show()}).attr("autocomplete","off");a(window).mousemove(function(a){y=a.pageX;x=a.pageY});c.notCharacter=k(c.notCharacter||"");c.data&&"string"===typeof c.data&&(c.data=a.parseJSON(c.data))})}})(jQuery);
DKI.resourceBrowser=function(){var a=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,c={},b={},k=[],l=null,p={},m=[],q={},h={},n={},t={},y,x=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",z=function(a){for(var b={},c=0;c<a.length;c++){var h=a[c].type;h in b?b[h].push(a[c]):b[h]=[a[c]]}return b},r=function(){var a=z(b),c=DKI.getObjectKeys(a),h=$("#resourceList #list"),m,p,r,q=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;l&&(m=$("\x3cli /\x3e",{text:n.txtPrintableVersionHeader}),
p=$("\x3cul /\x3e",{"class":"sublist"}),r=$("\x3cli /\x3e",{id:"documentVersion","class":"subItem ",title:n.txtPrintableVersionTitle,html:"\x3cspan class\x3d'icon document'\x3e\x3c/span\x3e"+l.name}),r.on(y.clickEvent,H),p.append(r),m.append(p),h.append(m));c.sort();$.each(c,function(b,c){b=a[c];c=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:t[c]}));var k=$("\x3cul /\x3e",{"class":"subList"});b.sort(C);$.each(b,function(a,b){a="\x3e";b.elementLink&&(a="title\x3d'"+
n.txtElementLinkTitle+"'\x3e\x3cspan class\x3d'linkIcon'\x3e\x3c/span\x3e");a="\x3cspan class\x3d'icon "+b.type+"'"+a+"\x3c/span\x3e"+b.title;var c="";q&&(a+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",c+="mobile");a=$("\x3cli /\x3e",{id:b.id,"class":"subItem "+c,title:b.title,html:a,tabIndex:0});c=function(){G(b.id)};if(q)a.find("span").on(y.clickEvent,c);else a.on(y.clickEvent,c);k.append(a);$(document).trigger(J.resourceRegistered,[b])});c.append(k);h.append(c)});c=playerBehaviour.removeWebLinks;
0<k.length&&!c&&(m=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:n.txtLinksHeader})),p=$("\x3cul /\x3e",{"class":"subList"}),$.each(k,function(a,b){if(!b.parameters.notIncludedInResources){a="\x3cspan class\x3d'icon link'\x3e\x3c/span\x3e"+(""===b.parameters.title?b.parameters.url:b.parameters.title);var c="";q&&(a+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",c+="mobile");r=$("\x3cli /\x3e",{id:b.id,"class":"subItem link "+c,title:b.parameters.url,html:a,tabIndex:0});
a=function(){L(b.id)};if(q)r.find("span").on(y.clickEvent,a);else r.on(y.clickEvent,a);p.append(r)}}),m.append(p),h.append(m))},C=function(a,b){return a.title<b.title?-1:a.title>b.title?1:0},A=function(a,b){var c=$("#resourceView").innerHeight()-$("#resourceDetails .assetProperties").outerHeight()-30,h=$("#resourceView").innerWidth()-45,k=c-b,l=h-a,m=a/b;0>k&&k<l?(b=c,a=m*c):0>l&&l<k?(b=h/m,a=h):b=parseInt(b,10);c=0;200>b&&(c=(200-b)/2);return{width:a,height:b,top:c}},w=function(a,b){$("#resourceVideo_player").jPlayer({swfPath:y.swfPath,
cssSelectorAncestor:"#resourceVideo_container",ready:function(){p=$(this);p.jPlayer("setMedia",a.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#resourceVideo_container .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#resourceVideo_container .jp-interface").show()});$(this).bind($.jPlayer.event.click,function(a){a.jPlayer.status.paused?$(this).jPlayer("play"):
$(this).jPlayer("pause")});$("#resourceContent").off("keypress").on("keypress",function(b){var c=p.data().jPlayer,h=c.status,c=c.options;32==b.which||13==b.which?h.paused?p.jPlayer("play"):p.jPlayer("pause"):102==b.which?$(".jp-full-screen",this).click():27==b.which?$(".jp-restore-screen",this).click():116==b.which&&""!=a.transcript?contentApi.showPopup({html:a.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==b.which?c.muted?p.jPlayer("unmute"):p.jPlayer("mute"):61==b.which||43==b.which?p.jPlayer("volume",
c.volume+.1):45!=b.which&&95!=b.which||p.jPlayer("volume",c.volume-.1)})},solution:x,volume:1,supplied:a.supplied,autohide:!0,size:{width:b.width+"px",height:b.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:y.nativeVideoControls})},B=function(a){$("#resourceAudio_player").jPlayer({swfPath:y.swfPath,cssSelectorAncestor:"#resourceAudio",ready:function(){q=$(this);q.jPlayer("setMedia",a.media);h=q},supplied:a.supplied,solution:x})},E=function(a){var b=0;for(a=parseInt(a,10);1024<=a;)a/=1024,
b++;return a.toFixed(1)+" "+["B","kB","MB"][b]},D=function(a,b){var h=a.title;if("html"!==a.type)if(playerBehaviour.allowResourceDownload)var h=a.title,k=b.split("."),h=h+("."+k[k.length-1]),h="\x3ca download\x3d'"+h+"' target\x3d'_blank' href\x3d'"+b+"' title\x3d'"+n.txtSaveAs+"'\x3e"+a.title+" \x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e("+E(a.size)+")\x3c/a\x3e";else h="\x3cspan\x3e"+a.title+"\x3c/span\x3e";b=$(h);$("#resourceTitle").html("").append(b);$("#resourceSize").html(E(a.size));$("#resourceDescription").html(a.description);
c.detailsContainer.is(":hidden")&&c.detailsContainer.show()},F=function(a){var b=null,h=a.parameters.title,k=a.parameters.description,b=n.txtNewWindowTitle;""===h&&(h=a.parameters.url);a.parameters.isWebsite?(b=$("\x3ca href\x3d'#' class\x3d'resourceLinkLabel link website' title\x3d'"+b+"'\x3e"+h+"\x3c/a\x3e"),b.on(y.clickEvent,function(){a.parameters.target&&"modal"===a.parameters.target?contentApi.openModal(a.parameters.url):window.open(a.parameters.url,"_blank").focus()})):(h+="\x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e",
b=n.txtSaveAs,b=$("\x3ca download target\x3d'_blank' href\x3d'"+a.parameters.url+"' class\x3d'resourceLinkLabel link download' title\x3d'"+b+"'\x3e"+h+"\x3c/a\x3e"));playerBehaviour.allowResourceDownload||(b=$("\x3cspan\x3e"+h+"\x3c/span\x3e"));$("#resourceTitle").html("").append(b);$("#resourceSize").html("");$("#resourceDescription").html(k);c.detailsContainer.is(":hidden")&&c.detailsContainer.show()},H=function(){var b=$("#resourceContent"),h=player.rootURL+"assets/"+l.name,k=A(100,100),m=$(document.createElement("div"));
m.css({margin:"0px auto",width:k.width,height:k.height,padding:k.top+"px 0px"});m.html("\x3cdiv class\x3d'docImg doc'\x3e\x3c/div\x3e");b.html("");b.append(m);D({title:l.name,description:"",size:l.size},h);$("#resourceList li").removeClass("selected");$("#documentVersion").addClass("selected");a&&(N(-250),c.back.fadeIn(200))},G=function(b){var h=I(b),k=$("#resourceContent"),l=h.filePath;D(h,l);var m,n=$("\x3cdiv/\x3e"),p;k.html("");switch(h.type){case "audio":m=A(225,50);k=l;l=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"resourceAudio",
audioPlayerId:"resourceAudio_player"});$("#resourceContent").append(n.html(l));l={};h="mp4"===h.extension?"m4a":h.extension;l[h]=k;B({media:l,supplied:h});break;case "video":m=A(h.w,h.h);k=l;l=m;p=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"resourceVideo_container",videoPlayerId:"resourceVideo_player"});$("#resourceContent").append(n.html(p));p={};h="mp4"===h.extension||"mov"===h.extension?"m4v":h.extension;p[h]=k;w({media:p,supplied:h},l);break;case "image":m=A(h.w,h.h);k.append(n.html("\x3cimg src\x3d'"+
l+"' width\x3d'100%' height \x3d '100%'/\x3e"));break;case "flash":m=A(h.w,h.h);k.append(n.html('\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"flash_previewer"\x3e\x3cparam name\x3d"movie" value\x3d"'+l+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+
l+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'));
break;case "html":m=A(h.w,h.h);l=h.filePath?l+"/"+h.parameters.LAUNCHFILE:h.assetURL.substring(0,h.assetURL.length-1)+"/"+h.parameters.LAUNCHFILE;p=h.parameters.scrolling;switch(p){case "off":p="no";break;case "on":p="yes";break;default:p="auto"}k.append(n.html("\x3ciframe src\x3d'"+l+"' frameborder\x3d'"+h.parameters.border+"' scrolling\x3d'"+p+"'/\x3e"));break;default:m=A(100,100),k.append(n.html("\x3cdiv class\x3d'docImg "+h.extension+"'\x3e\x3c/div\x3e"))}n.css({margin:"0px auto",width:m.width,
height:m.height,padding:m.top+"px 0px"});$("#resourceList li").removeClass("selected");$("#"+b).addClass("selected");a&&(N(-250),c.back.fadeIn(200))},L=function(b){var h;a:{for(h=0;h<k.length;h++)if(k[h].id==b){h=k[h];break a}h=void 0}if(""!=h.parameters.description){var l=$("#resourceContent");l.html("");var m=$("\x3cdiv/\x3e");F(h);h.parameters.isWebsite&&(m.html("\x3ciframe style\x3d'margin:0;padding:0;width: 100%; height: 290px;' src\x3d'"+h.parameters.url+"' frameborder\x3d'0' scrolling\x3d'auto'/\x3e"),
m.css({margin:"0px auto",width:"100%",height:"290px"}),l.append(m));$("#resourceList li").removeClass("selected");$("#"+b).addClass("selected");a&&(N(-250),c.back.fadeIn(200))}else h.parameters.target&&"modal"===h.parameters.target?contentApi.openModal(h.parameters.url):window.open(h.parameters.url,"_blank").focus()},I=function(a){for(var c=0;c<b.length;c++)if(b[c].id==a)return b[c]},N=function(a){0==a?c.resourceList.list.show():c.detailsContainer.show();c.contentContainer.animate({left:a},300,function(){if(0==
a){var b=$(".selected[tabindex]:first",c.resourceList.list);0<b.length?b[0].focus():$("*[tabindex]:first",c.resourceList.list)[0].focus();c.detailsContainer.hide()}else c.resourceList.list.hide(),$("*[tabindex]:first",c.detailsContainer)[0].focus()})},O=function(){c.container.hide();"undefined"!=typeof player&&player.navigation.setResourceState(!1)},J={resourceRegistered:"resourceRegistered",resourceOpened:"resourceOpened",resourceDownloaded:"resourceDownloaded"},Y={fancybox:{enabled:!0}};Handlebars.registerHelper("DKI_templates_resource_list",
function(a){var c={image:"image",video:"inline",audio:"inline",html:"iframe",flash:"swf"};a=DKI.applyIf(a.hash,Y);var h={strings:DKI.strings,config:a,categories:function(){var a={};$.each(b,function(){this.allowResourceDownload=playerBehaviour.allowResourceDownload;this.filePath=this.filePath?player.rootURL+this.filePath:this.assetURL;"html"==this.type&&(this.filePath+="/"+this.parameters.LAUNCHFILE);this.fancybox={type:c[this.type],href:this.filePath,inline_content:"",group:this.type,title:this.title};
if("video"==this.type||"audio"==this.type){var b="inline_resource_"+this.id;this.fancybox.href="#"+b;this.fancybox.inline_content=Handlebars.compile("video"==this.type?DKI.templates.resource.video_content:DKI.templates.resource.audio_content)({id:b,resource_id:this.id,player_id:this.type+"_player_"+this.id,ancestor_id:this.type+"_ancestor_"+this.id})}if(this.allowResourceDownload||"document"!=this.type)a[this.type]?a[this.type].resources.push(this):a[this.type]={title:t[this.type],resources:[this]}});
return a}(),links:function(){var a={title:DKI.strings.resources.txtLinksHeader,resources:[]};$.each(k,function(){if(this.parameters.notIncludedInResources)return!0;""==this.parameters.title&&(this.parameters.title=this.parameters.url);a.resources.push(this)});return 0<a.resources.length?a:!1}()},h=Handlebars.compile(DKI.templates.resource.list)(h);if(a.fancybox.enabled)$(document).on("dki_theme_ready",function(){$(".dki-resource-asset-list-item-download").each(function(){$(this).on("keypress",function(a){32==
a.which&&dkiUA.ie&&(window.open($(this).attr("href")),$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,I($(this).data("id"))))});this.addEventListener(y.clickEvent,function(a){$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,I($(this).data("id")));DKI.EVENT_CANCEL_BUBBLE(a)},!0)});$(".dki-resource-list-item.fancy-box-item").click(function(){var a=null,b=null,c=DKI.func.debounce(function(){h()},75,!1),h=function(){var a=$(".fancybox-item.fancybox-close",b),c=$(".fancybox-stage .fancybox-content",
b),h=c.offset().top-window.pageYOffset-9,c=c.offset().left+c.outerWidth()-$(window).width()-25;a.css({top:h+"px",left:c+"px"})},k=this,l=$("\x3cdiv\x3e");$.fancybox.open(l,{src:$(this).data("fancybox-href"),caption:$(this).data("fancyboxTitle"),type:$(this).data("fancybox-type"),buttons:["close"],btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+player.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},fitToView:!0,autoSize:!1,
autoCenter:!0,margin:[20,60,20,60],afterShow:function(){$(".fancybox-stage",b).after($(".fancybox-toolbar",b).remove());h();var a=this;this.$slide.closest(".fancybox-inner").closest(".fancybox-overlay").on(y.clickEvent,function(a){return!1});$(document).trigger(J.resourceOpened,I($(k).data("id")));if("inline"==this.type){$("[data-fancybox-close]",this.$slide).remove();var c=I($(k).data("id")),l="mp4"===c.extension||"mov"===c.extension?"m4v":c.extension;"audio"==c.type&&(l="mp4"===c.extension?"m4a":
c.extension);var m={};m[l]=c.filePath;this.$slide.find("#"+c.type+"_player_"+c.id).jPlayer({swfPath:y.swfPath,cssSelectorAncestor:"#"+c.type+"_ancestor_"+c.id,ready:function(){var b=$(this);b.jPlayer("setMedia",m);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$(".jp-interface",a.$slide).hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$(".jp-interface",a.$slide).show()});$(this).bind($.jPlayer.event.click,
function(a){a.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});a.$slide.off("keypress").on("keypress",function(a){var h=b.data().jPlayer,k=h.status,h=h.options;32==a.which||13==a.which?k.paused?b.jPlayer("play"):b.jPlayer("pause"):102==a.which?$(".jp-full-screen",this).click():27==a.which?$(".jp-restore-screen",this).click():116==a.which&&""!=c.transcript?contentApi.showPopup({html:c.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==a.which?h.muted?b.jPlayer("unmute"):
b.jPlayer("mute"):61==a.which||43==a.which?b.jPlayer("volume",h.volume+.1):45!=a.which&&95!=a.which||b.jPlayer("volume",h.volume-.1)});h()},solution:x,volume:1,supplied:l,autohide:"video"==c.type?{restored:!0,hold:500}:{},size:{width:function(){var b="video"==c.type?c.w+"px":"";c.w>a.width&&(b="100%");return b}(),height:function(){var b="video"==c.type?c.h+"px":"";c.h>a.height&&(b="100%");return b}(),cssClass:function(){var b="";"video"==c.type&&c.h>a.height&&(b="jp-over-max");return b}()},sizeFull:{height:"600px"},
nativeVideoControls:y.nativeVideoControls})}},beforeShow:function(h,k,l){k=this.$slide.closest(".fancybox-inner");a=h;b=k;a.$refs.container.on("onUpdate.fb",c)},afterClose:function(){a.$refs.container.off("onUpdate.fb",null,c);b=a=null}})})});return h});return{init:function(p){var q;n=p.languageString;t={document:n.documentType,html:n.htmlType,audio:n.audioType,video:n.videoType,image:n.imageType,flash:n.flashType};b=p.resources;for(q=0;q<b.length;q++)m.push({id:b[q].id,title:b[q].title,type:"resource"});
for(q=0;q<p.actions.length;q++)"http"==p.actions[q].type&&0==$.grep(k,function(a){return a.parameters.url==p.actions[q].parameters.url}).length&&(k.push(p.actions[q]),m.push({id:p.actions[q].id,title:p.actions[q].parameters.title,type:"link"}));y=p.settings;l=p.documentVersion;var w={strings:DKI.strings,mobile:a},w=Handlebars.compile(DKI.templates.resourceBrowser)(w),w=Handlebars.compile(DKI.templates.window)({windowContent:w,id:"resourceWindowContainer",windowTitle:DKI.strings.resources.resourceBrowserTitle,
afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:a}),contentId:"resourceContentContainer"});$("body").append(w);c.container=$("#resourceWindowContainer");c.contentContainer=$("#resourceContentContainer");c.close=c.container.find(".browserCloseButton");c.back=c.container.find(".backButton");c.detailsContainer=$("#resourceView");a&&c.container.addClass("phone");c.resourceList={container:$("#resourceList"),list:$("#resourceList #list"),termElements:[]};c.resourceDetails={resourceTitle:$("#resources")};
r();c.container.hide();c.container.css("visibility","visibile");if(a)c.back.on(y.clickEvent,function(){c.back.fadeOut(200);N(0);h&&h.jPlayer&&h.jPlayer("stop")});c.close.on(y.clickEvent,function(){O()});c.container.draggable({handle:c.container.find(".browserHeader"),containment:"body"});c.container.find(".searchInput").jsonSearch({data:m,searchKey:"title",onSelect:function(a){"resource"==a.type?G(a.id):"link"==a.type&&L(a.id)}})},show:function(){c.container.show();"undefined"!=typeof player&&player.navigation.setResourceState(!0);
$("*[tabindex]:first",c.resourceList.list)[0]&&$("*[tabindex]:first",c.resourceList.list)[0].focus()},hide:O,toggle:function(){"none"==c.container.css("display")?this.show():this.hide()},isEmpty:function(){var a=0,c;l&&(a=1);for(c in b)b.hasOwnProperty(c)&&a++;for(c in k)k.hasOwnProperty(c)&&a++;return 0===a},setLaunchMethod:function(a){},events:J,hasResources:function(){return 0<k.length||DKI.resources&&0<DKI.resources.length}}}();
DKI.disabler=function(a){this.config=a;DKI.applyIf(this.config,{text:"",onClick:function(){},showSpinner:!1,className:""});this.disabler=$("\x3cdiv /\x3e",{"class":"disablerWrapper "+this.config.className});this.spinner=$("\x3cdiv /\x3e",{"class":"disabler"});this.disabler.append(this.spinner);this.disabler.on(dkiUA.android?"click":settings.clickEvent,$.proxy(function(){this.config.onClick(this)},this));this.text=$("\x3cp /\x3e",{"class":"disablerMessage",html:this.config.text});""!=this.config.text&&
this.text.attr("tabindex","0");this.disabler.append(this.text);this.config.showSpinner&&this.spinner.addClass("spinner");$("body").append(this.disabler);return this};DKI.disabler.prototype.show=function(){this.disabler.show();this.spinner.show();this.text[0].focus()};DKI.disabler.prototype.hide=function(a){a?this.disabler.fadeOut():this.disabler.hide()};DKI.disabler.prototype.setText=function(a){this.config.text=a;this.text.html(a)};
DKI.search||(DKI.search={events:{show:"searchUiShow",hide:"searchUiHide",search:"searchUiSearch",filterClicked:"searchFilterClicked",loadedProperties:"searchLoadedProperties"},isSupportedLanguage:function(a){a=a?a:contentApi.getCourseLanguage();return 0<=$.inArray(a.toLowerCase(),["en-us","en-gb","en-au","en-ca"])}});
(function(){var a={enabled:!0,indexes:{},itemStore:[],memberMap:{pages:{transcript:"transcript.body",title:"title",keysFlat:"keysFlat",description:"Description",note:"pageNote.body"}},supportedAssetTypes:["video","audio","image","flash","html"],supportedElementTypes:["htm","authoringButton","table","videoembed","tab"],memberRules:{elements:function(a){a.elementMeta=DKI.stripHTML(a.meta);a.keysFlat=a.keywords?a.keywords.join(" "):""},objects:function(a){a.keysFlat=a.keywords.join(" ")},assets:function(a){a.keysFlat=
a.keywords.join(" ")},pages:function(a){a.keysFlat=a.keywords.join(" ")}}},c={init:function(b){DKI.apply(a,b);a.enabled&&(c.initIndexes(),c.initSubscribers())},alterPipelines:function(a){DKI.search.isSupportedLanguage()||(a.pipeline.remove(lunr.stemmer),a.pipeline.remove(lunr.stopWordFilter),a.pipeline.remove(lunr.trimmer),a.pipeline.add(function(a,b,c){if(""!=a)return a}))},initSubscribers:function(){$(document).on(DKI.courseStore.events.courseRegistered,function(a,b){c.registerAssets()});$(document).on(DKI.courseStore.events.moduleRegistered,
function(a,b){c.addToIndex(b,"modules")});$(document).on(DKI.courseStore.events.loRegistered,function(a,b){c.addToIndex(b,"objects")});$(document).on(DKI.courseStore.events.pageRegistered,function(a,b){c.addToIndex(b,"pages")});$(document).on(DKI.courseStore.events.elementRegistered,function(b,l,p){if(!p&&(0<=$.inArray(l.elementtype,a.supportedElementTypes)&&c.addToIndex(l,"elements"),l.parameters.labels))for(b=0;b<l.parameters.labels.length;b++)if(p=dataStorage.getAsset(l.upload_id))p.labels+=" "+
l.parameters.labels[b].text});$(document).on(DKI.glossaryBrowse.events.glossaryRegistered,function(a,b){c.addToIndex(b,"glossaries")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.referenceRegistered,function(a,b){c.addToIndex(b,"references")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.citationRegistered,function(a,b){c.addToIndex(b,"citations")})},initIndexes:function(){a.indexes={elements:lunr(function(){this.ref("idx");this.field("elementMeta",{boost:12.5});
this.field("txt",{boost:12.5});this.field("description",{boost:10});this.field("keysFlat",{boost:10});c.alterPipelines(this)}),pages:lunr(function(){this.ref("idx");this.field("transcript",{boost:10});this.field("note",{boost:10});this.field("title",{boost:50});this.field("description",{boost:25});this.field("keysFlat",{boost:10});c.alterPipelines(this)}),assets:lunr(function(){this.ref("idx");this.field("title",{boost:12.5});this.field("description",{boost:10});this.field("transcript",{boost:10});
this.field("labels",{boost:10});this.field("keysFlat",{boost:10});c.alterPipelines(this)}),citations:lunr(function(){this.ref("idx");this.field("label",{boost:10});c.alterPipelines(this)}),references:lunr(function(){this.ref("idx");this.field("refText",{boost:10});c.alterPipelines(this)}),glossaries:lunr(function(){this.ref("idx");this.field("term",{boost:12.5});this.field("definition",{boost:10});this.field("attribution",{boost:7.5});c.alterPipelines(this)})}},registerAssets:function(){for(var b in a.dataStorage.store.assets){var l=
a.dataStorage.store.assets[b];0<=$.inArray(l.type,a.supportedAssetTypes)&&c.addToIndex(l,"assets")}},addToIndex:function(b,c){if(a.indexes[c]){b.idx=a.itemStore.length;b.smSearchType=c;var p=b;if(a.memberRules[c])a.memberRules[c](p);if(a.memberMap[c]){var p={idx:b.idx},m;for(m in a.memberMap[c])p[m]=a.memberMap[c][m].split(".").reduce(function(a,b){return a[b]?a[b]:{}},b)}a.itemStore.push(b);a.indexes[c].add(p);return b.idx}},search:function(b,l){var p=[],m;for(m in a.indexes)l&&DKI.isArray(l)&&0<=
l.indexOf(m)||(p=p.concat(a.indexes[m].search(b)));return p.map(function(b){b.obj=a.itemStore[b.ref];return b}).sort(c.sortResults)},sortResults:function(a,b){return a.score<b.score?1:a.score>b.score?-1:0},runAsync:function(a){setTimeout(a,0)}},b={search:function(a,b){return c.search(a,b)},isEnabled:function(){return a.enabled},getItemByStoreIndex:function(b){return a.itemStore[b]}};DKI.search.Manager=function(a){c.init(a);jQuery.extend(this,b);return this}})();
DKI.search.Window=function(){var a=!0,c=$("html").hasClass("csstransforms")?500:0,b=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,k={},l={},p,m=!1,q={categories:{top:[],image:[],video:[],audio:[],reference:[],glossary:[],page:[],text:[],richMedia:[]}},h={},n=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",t={},y=function(a){return'\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"search_flash"\x3e\x3cparam name\x3d"movie" value\x3d"'+
a+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+a+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'},
x=function(a){return $("\x3cdiv class\x3d'widgetPlaceholder'\x3e\x3c/div\x3e").on(p.clickEvent,function(b){DKI.Modal.show({url:a,name:"widgetPreview",method:"GET"})})},z=function(a){var b=k.search.val(),c=dataStorage.searchManager.search(b);$(document).trigger(DKI.search.events.search,[b,c]);populateResults(c,b,a)};showVideoPlayer=function(a,b,c,h){var k={},l="mp4"===a.extension||"mov"===a.extension?"m4v":a.extension;k[l]=b;renderVideoPlayer({media:k,supplied:l},h,c,a)};showAudioPlayer=function(a,
b,c){var h={};a="mp4"===a.extension?"m4a":a.extension;h[a]=b;renderAudioPlayer({media:h,supplied:a},c)};renderAudioPlayer=function(a,b){$(b).find("#search_audioPlayer").jPlayer({swfPath:p.swfPath,cssSelectorAncestor:"#search_audioAncestor",ready:function(){$(this).jPlayer("setMedia",a.media)},supplied:a.supplied,solution:n})};renderVideoPlayer=function(a,b,c,h){$(c).find("#search_vidPlayer").jPlayer({swfPath:p.swfPath,cssSelectorAncestor:"#search_vidAncestor",ready:function(){videoPlayer=$(this);
videoPlayer.jPlayer("setMedia",a.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#searchBrowserContainer .vidContainer .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#searchBrowserContainer .vidContainer .jp-interface").show()});$(this).bind($.jPlayer.event.click,function(a){a.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});$(".jp-transcript",
this.parentNode).on(p.clickEvent,function(){contentApi.showPopup({html:h.transcript,modal:!1,title:playerStrings.transcriptLabel})});c.off("keypress").on("keypress",function(b){var c=videoPlayer.data().jPlayer,h=c.status,c=c.options;32==b.which||13==b.which?h.paused?videoPlayer.jPlayer("play"):videoPlayer.jPlayer("pause"):102==b.which?$(".jp-full-screen",this).click():27==b.which?$(".jp-restore-screen",this).click():116==b.which&&""!=a.transcript?contentApi.showPopup({html:a.transcript,modal:!1,autoFocus:!0,
returnFocus:this}):109==b.which?c.muted?videoPlayer.jPlayer("unmute"):videoPlayer.jPlayer("mute"):61==b.which||43==b.which?videoPlayer.jPlayer("volume",c.volume+.1):45!=b.which&&95!=b.which||videoPlayer.jPlayer("volume",c.volume-.1)})},solution:n,volume:1,supplied:a.supplied,autohide:!0,size:{width:b.width+"px",height:b.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:p.nativeVideoControls})};getType=function(a){switch(a.smSearchType){case "assets":return"flash"==a.type||"html"==a.type?
["richMedia"]:[a.type];case "glossaries":return["glossary","text"];case "references":return["reference","text"];case "citations":return["reference","text"];case "pages":return["page"];case "elements":return"videoembed"==a.elementtype?["video"]:["text"];case "objects":return["objects"]}};setObjects=function(a){var b=function(a,b){var c=dataStorage.locatePage(a);a=courseStructure.modules[c.module].objects[c.object];c=a.subeos[c.page];h.objects[a.eoid]?h.objects[a.eoid].push({obj:b,subeoId:c.subeoid}):
h.objects[a.eoid]=[{obj:b,subeoId:c.subeoid}]},c=[];switch(a.smSearchType){case "assets":c=dataStorage.getRelationship("assetElement",a.upload_id);break;case "glosariees":c=dataStorage.getRelationship("glossaryElement",a.glossary_id);break;case "citations":a.elementId?c=[a.elementId]:(termId=dataStorage.getRelationship("citationGlossary",a.id),c=dataStorage.getRelationship("glossaryElement",termId));break;case "pages":b(a.pageid,a);break;case "elements":c=[a.elementid]}for(var k=0;k<c.length;k++){var l=
dataStorage.getElement(c[k]);b(l.pageid,a)}};populateResults=function(a,b,c){k.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+l.back+"\x3c/span\x3e\x3c/div\x3e");h=DKI.clone(q);h.objects={};b=!1;for(var m=0;m<a.length;m++){var n=a[m];if(testForSequential(n)){h.categories.top.push(n);for(var p=getType(n.obj),t=0;t<p.length;t++)h.categories[p[t]].push(n)}else b=!0}b?k.sequential.show():k.sequential.hide();setFilterResults(h.categories,
c)};getResultElements=function(a,b){b=[];var c=getType(a)[0];if("assets"==a.smSearchType)b=dataStorage.getRelationship("assetElement",a.id);else if("reference"==c)if(c=function(a){var b=[];a.elementId?b.push(a.elementId):(termId=dataStorage.getRelationship("citationGlossary",a.id),b=dataStorage.getRelationship("glossaryElement",termId));return b},"citations"==a.smSearchType)b=c(a);else for(var h in DKI.references.citations)DKI.references.citations[h].referenceId==a.id&&(b=b.concat(c(DKI.references.citations[h])));
else"glossaries"==a.smSearchType?b=dataStorage.getRelationship("glossaryElement",a.glossaryid):"elements"==a.smSearchType&&b.push(a.elementid);return b};testForSequential=function(a){var b=[];if(!m)return!0;var c=getType(a.obj)[0];if("page"==c)b.push(a.obj.pageid);else{if("objects"==c)for(b=dataStorage.findObject(a.obj.id),a=0;a<b.subeos.length;a++){if(b.subeos[a].complete)return!0}else for(b=getResultElements(a.obj),a=0;a<b.length;a++)if(dataStorage.getSubeoFromPage(dataStorage.getElement(b[a]).pageid).complete)return!0;
return!1}};getTitle=function(a){switch(a.smSearchType){case "citations":a=a.label;break;case "glossaries":a=a.term;break;case "elements":a="text"==getType(a)[0]?50<a.elementMeta.length?a.elementMeta.substr(0,47)+"...":a.elementMeta:a.title;break;default:a=a.title}return a};getDescription=function(a){switch(a.smSearchType){case "glossaries":return a.definition;case "citations":return DKI.Reference.playerReferenceUIInterface.getFullCitationText(a.id);case "references":return a.refText;case "pages":return a.description;
case "elements":return"text"==getType(a)[0]?a.elementMeta:a.description;default:return a.description}};getItemId=function(a){return a.id};setFilterResults=function(a,c){var h=k.filters.parent(),l=k.filters.detach(),m=k.sequential.detach(),n=!1,p;for(p in a){var q=k.filters.find("li[data-filter\x3d'"+p+"']");if(q){var t=!1;0<a[p].length&&(q.find("span.resCount").html(a[p].length),t=!0,q.data("istextitem")&&(n=!0));t?q.show():q.hide()}}n?k.filters.find("li.division").show():k.filters.find("li.division").hide();
h.append(l);h.append(m);!b&&c&&filterClicked.call(k.filters.find("li[data-filter\x3d'top']")[0])};filterClicked=function(a){a=$(this).data("filter");$(document).trigger(DKI.search.events.filterClicked,a);k.filters.find("li").removeClass("selected");k.container.trigger("filterClicked",[a]);0<h.categories[a].length&&$(this).addClass("selected");k.container.addClass("shift");k.details.detailsPanel.removeClass("properties").addClass("list")};loadAsset=function(a,b){var c={width:$(b).width(),height:$(b).height()};
switch(a.type){case "video":showVideoPlayer(a,getAssetUrl(a),b,c);break;case "audio":c.height=50,$(b).css("height","50px"),showAudioPlayer(a,getAssetUrl(a),b)}};loadListPanel=function(a){var b=h.categories[a];k.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+l.back+"\x3c/span\x3e\x3c/div\x3e");for(var c=0;c<b.length;c++){var n=b[c].obj,q=getType(n)[0];if("objects"!=q||!h.objects[n.eoid]||h.objects[n.eoid][0].subeoId){if("page"==
q){if("undefined"==typeof dataStorage.getSubeoFromPage(n.pageid))continue}else if(elements=getResultElements(n,null),0==elements.length)continue;n="image"!=a?generateListItem(b[c]):generateImageItem(b[c]);k.details.listPanel.append(n);n.on(p.clickEvent,function(){var a=dataStorage.searchManager.getItemByStoreIndex($(this).data("ref"));dataStorage.getCurrentQuestion();var b=getType(a)[0];"objects"==b&&h.objects[a.eoid]?contentApi.jumpToSubeo(h.objects[a.eoid][0].subeoId,!1):("page"==b?a=dataStorage.getSubeoFromPage(a.pageid):
(a=getResultElements(a,null),a=dataStorage.getSubeoFromPage(dataStorage.getElement(a[0]).pageid)),(a.complete&&m||!m)&&contentApi.jumpToSubeo(a.subeoid,!1))})}}0==b.length&&k.details.listPanel.find(".backNav").trigger("click");k.details.detailsPanel.append(k.details.switchContainer);k.details.listPanel.find("*[tabindex]:visible")[0].focus()};generateListItem=function(a,b){var c=a.obj,h=$("\x3cdiv class\x3d'itemContainer' tabindex\x3d'0'\x3e\x3cspan class\x3d'iconContainer'\x3e\x3cspan class\x3d'icon'\x3e\x3c/span\x3e \x3c/span\x3e\x3cspan class\x3d'chevronContainer'\x3e\x3cspan class\x3d'icon chevron'\x3e\x3c/span\x3e\x3c/span\x3e\x3cdiv class\x3d'metaContainer'\x3e\x3ch3\x3e\x3c/h3\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");
h.data("ref",a.ref);h.find("h3").html(getTitle(c));h.find("p").html(getDescription(c));h.find(".iconContainer .icon").addClass(getType(c)[0]);b&&(a="page"==getType(c)[0]?"Jump to this page":"Jump to the page containing this result",h.find(".chevron").removeClass("chevron").addClass("jump").attr("title",a));return h};getAssetUrl=function(a){return a.filePath?player.rootURL+a.filePath:a.assetURL};generateImageItem=function(a){var b=$("\x3cdiv tabindex\x3d'0' class\x3d'imageThumb' data-ref\x3d'"+a.ref+
"'\x3e\x3c/div\x3e");b.css("background-image","url("+getAssetUrl(a.obj)+")");return b};loadPropertiesPanel=function(a){var b=k.details.propertiesPanel,h=getType(a)[0];$(document).trigger(DKI.search.events.loadedProperties,[a,h]);k.details.overflow=k.details.overflow.detach();var l=k.details.overflow.find(".propertiesContent");l.html("").append("\x3cdiv tabindex\x3d'0' class\x3d'preview'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesMeta'\x3e\x3c/div\x3e");if("image"!=h&&"video"!=h&&"audio"!=h&&"richMedia"!=
h)var m=l.find(".preview").hide();else switch(m=l.find(".preview").show(),m.css("height",("assets"==a.smSearchType?a.h:a.height)+"px"),h){case "image":m.css({"background-image":"url("+getAssetUrl(a)+")","background-position":"center","background-size":"contain","background-repeat":"no-repeat"});break;case "video":"assets"==a.smSearchType?(h=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"search_vidAncestor",videoPlayerId:"search_vidPlayer"}),m.html(h),m.off(),m.on("detailsLoaded",function(){loadAsset(a,
this)})):(m.off(),setTimeout(function(){"dynamic"==a.meta2?(m.append("\x3ciframe frameborder\x3d'0' scrolling\x3d'no' src\x3d'"+DKI.getVideoEmbedURL(a.elementid)+"'\x3e\x3c/iframe\x3e"),m.find("iframe").load(function(){$("object",$(this).contents()).css({"max-width":m.css("max-width"),"max-height":m.css("max-height")})})):m.html(a.meta);m.find("iframe").css({width:"100%",height:"100%"})},c));break;case "audio":h=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"search_audioAncestor",audioPlayerId:"search_audioPlayer"});
m.html(h);m.off();m.on("detailsLoaded",function(){loadAsset(a,this)});break;case "richMedia":"flash"==a.type?m.html(y(getAssetUrl(a))):(m.css("height","96px"),h=getAssetUrl(a),h=a.filePath?h:h.substring(0,h.length-1),h+="/"+a.parameters.LAUNCHFILE,m.html(x(h)))}l.find(".propertiesMeta").html("\x3ch3 tabindex\x3d'0'\x3e"+getTitle(a)+"\x3c/h3\x3e\x3cp tabindex\x3d'0'\x3e"+getDescription(a)+"\x3c/p\x3e");h=loadPageLinks(k.details.linksContainer.detach(),a);b.append(k.details.overflow);l.append(h);m.trigger("detailsLoaded");
k.details.detailsPanel.removeClass("list").addClass("properties")};unloadPreview=function(){k.details.overflow=k.details.overflow.detach()};loadPageLinks=function(a,b){dataStorage.getCurrentQuestion();var c=[],k=getType(b)[0],l=a.find(".links");l.html("");var n=a.find("h3.linksTitle").html("");if("objects"==k&&h.objects[b.eoid])for(n.html("See Also:"),k=0;k<h.objects[b.eoid].length;k++){var q=h.objects[b.eoid][k],q=generateListItem({obj:q.obj,ref:q.subeoId},!0);q.on(p.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),
!1)});l.append(q)}else if("page"==k){if(q=dataStorage.getSubeoFromPage(b.pageid),q.complete&&m||!m)n.html("Found Locations:"),q=generateListItem({obj:b,ref:q.subeoid},!0),q.on(p.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),l.append(q)}else c=getResultElements(b,l);0<c.length&&n.html("Found Locations:");b=[];for(k=0;k<c.length;k++)q=dataStorage.getSubeoFromPage(dataStorage.getElement(c[k]).pageid),(q.complete&&m||!m)&&q&&0>$.inArray(q.subeoid,b)&&(n=q.page,b.push(q.subeoid),
q=generateListItem({obj:n,ref:q.subeoid},!0),q.on(p.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),l.append(q));return a};show=function(b){$(document).trigger(DKI.search.events.show,b);if(a){k.container.show();var c=k.search[0];c&&(c.focus(),"undefined"!==typeof b&&k.search.val(b),z(),c=k.filters.find("li.selected"),"undefined"!==typeof b?(c=c[0]?c:k.filters.find("li[data-filter\x3d'top']"),c.addClass("selected"),k.container.trigger("filterClicked",[c.data("filter")])):c[0]&&
k.container.trigger("filterClicked",[c.data("filter")]),k.details.detailsPanel.hasClass("properties")&&k.details.propertiesPanel.append(k.details.overflow))}else!a&&p.inPreview&&(DKI.search.isSupportedLanguage()?alert("Course searching is not supported in your browser. Please upgrade your internet browser if you wish to use this feature."):alert("Search is not supported in this language."))};hide=function(){if(a){var b=k.search[0];k.container.is(":visible")&&$(document).trigger(DKI.search.events.hide);
b&&b.blur();k.container.hide();unloadPreview()}};toggle=function(){a&&("none"==k.container.css("display")?this.show():this.hide())};parseToBasic=function(a){return{title:getTitle(a),description:getDescription(a),id:getItemId(a)}};return{init:function(h){a=!(dkiUA.isIE()&&8>=dkiUA.ieVersion)&&DKI.search.isSupportedLanguage();m=playerBehaviour.forceSequential&&playerBehaviour.enableCourseSearchSequential;l=h.languageString;p=h.settings;documentVersion=h.documentVersion;a&&(h=Handlebars.compile(DKI.templates.window)({windowContent:Handlebars.compile(DKI.templates.search)({strings:DKI.strings}),
id:"searchBrowserContainer",windowTitle:DKI.strings.courseSearch.title}),$("body").append(h),k={container:$("#searchBrowserContainer"),details:{detailsPanel:$("#searchBrowserContainer .panel.details"),listPanel:$("#searchBrowserContainer .listPanel"),propertiesPanel:$("#searchBrowserContainer .propertiesPanel"),propertiesContent:$("#searchBrowserContainer .propertiesPanel .propertiesContent"),switchContainer:$("#searchBrowserContainer .switchContainer"),backNav:$("#searchBrowserContainer .propertiesPanel .backNav"),
linksContainer:$("#searchBrowserContainer .propertiesPanel .linksContainer"),overflow:$("#searchBrowserContainer .propertiesPanel .overflowContainer")},close:$("#searchBrowserContainer .browserCloseButton").attr("title",playerStrings.buttonLabelClose),back:$("#searchBrowserContainer .backButton"),search:$("#searchBrowserContainer .searchInput"),filters:$("#searchBrowserContainer .resultList"),sequential:$("#searchBrowserContainer .sequential")},t=DKI.func.debounce(z,200,!1,this),$("#searchBrowserContainer").on(p.clickEvent,
".backNav",function(){setTimeout(unloadPreview,c);k.details.detailsPanel.hasClass("properties")?k.details.detailsPanel.removeClass("properties").addClass("list"):k.container.removeClass("shift")}),k.close.on(p.clickEvent,function(){hide()}),$(k.filters).on(p.clickEvent,"li",filterClicked),$(document.body).on(p.clickEvent,".searchPageJump",function(a){contentApi.jumpToSubeo($(this).data("id"),!1)}),$(document).on(DKI.ContentPage.events.ready,function(){hide()}),$(document).on(DKI.EndCourse.events.ready,
function(){hide()}),$(document).on(DKI.EndModule.events.ready,function(){hide()}),$(document).on(DKI.EndTest.events.ready,function(){hide()}),k.search.on("input",function(){t(!0)}),k.container.on("filterClicked",function(a,b){loadListPanel(b)}),$(window).on(p.resizeEvent,$.proxy(function(){k.container.css("left",($(".bgRepeater").outerWidth()-k.container.outerWidth())/2);$("body").hasClass("responsive")&&(480>=$(window).width()?(b=!0,k.container.removeClass("shift")):b=!1)},this)))},show:show,hide:hide,
toggle:toggle,parseToBasic:parseToBasic}}();
(function(a){function c(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var c=a.originalEvent.changedTouches[0],h=document.createEvent("MouseEvents");h.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(h)}}a.support.touch="ontouchend"in document;if(a.support.touch){var b=a.ui.mouse.prototype,k=b._mouseInit,l;b._touchStart=function(a){!l&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(l=!0,this._touchMoved=!1,
c(a,"mouseover"),c(a,"mousemove"),c(a,"mousedown"))};b._touchMove=function(a){l&&(this._touchMoved=!0,c(a,"mousemove"))};b._touchEnd=function(a){l&&(c(a,"mouseup"),c(a,"mouseout"),this._touchMoved||c(a,"click"),l=!1)};b._mouseInit=function(){this.element.bind("touchstart",a.proxy(this,"_touchStart")).bind("touchmove",a.proxy(this,"_touchMove")).bind("touchend",a.proxy(this,"_touchEnd"));k.call(this)}}})(jQuery);var requirejs,require,define;
!function(a,c){function b(a,b){return b||""}function k(a){return"[object Function]"===S.call(a)}function l(a){return"[object Array]"===S.call(a)}function p(a,b){var c;if(a)for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}function m(a,b){var c;if(a)for(c=a.length-1;-1<c&&(!a[c]||!b(a[c],c,a));--c);}function q(a,b){return Q.call(a,b)}function h(a,b){return q(a,b)&&a[b]}function n(a,b){for(var c in a)if(q(a,c)&&b(a[c],c))break}function t(a,b,c,h){return b&&n(b,function(b,m){!c&&q(a,m)||(!h||"object"!=
typeof b||!b||l(b)||k(b)||b instanceof RegExp?a[m]=b:(a[m]||(a[m]={}),t(a[m],b,c,h)))}),a}function y(a,b){return function(){return b.apply(a,arguments)}}function x(a){throw a;}function z(b){if(!b)return b;var c=a;return p(b.split("."),function(a){c=c[a]}),c}function r(a,b,c,h){b=Error(b+"\nhttps://requirejs.org/docs/errors.html#"+a);return b.requireType=a,b.requireModules=h,c&&(b.originalError=c),b}function C(b){function B(a,b,c){var k,l,m,n,p,q,r,t;b=b&&b.split("/");var w=W.map,u=w&&w["*"];if(a){l=
(a=a.split("/")).length-1;W.nodeIdCompat&&Y.test(a[l])&&(a[l]=a[l].replace(Y,""));"."===a[0].charAt(0)&&b&&(a=b.slice(0,b.length-1).concat(a));l=a;for(m=0;m<l.length;m++)"."===(n=l[m])?(l.splice(m,1),--m):".."!==n||0===m||1===m&&".."===l[2]||".."===l[m-1]||0<m&&(l.splice(m-1,2),m-=2);a=a.join("/")}if(c&&w&&(b||u)){l=(c=a.split("/")).length;a:for(;0<l;--l){if(n=c.slice(0,l).join("/"),b)for(m=b.length;0<m;--m)if((k=h(w,b.slice(0,m).join("/")))&&(k=h(k,n))){p=k;q=l;break a}!r&&u&&h(u,n)&&(r=h(u,n),t=
l)}!p&&r&&(p=r,q=t);p&&(c.splice(0,q,p),a=c.join("/"))}return h(W.pkgs,a)||a}function A(a){T&&p(document.getElementsByTagName("script"),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===ba.contextName)return b.parentNode.removeChild(b),!0})}function E(a){var b=h(W.paths,a);if(b&&l(b)&&1<b.length)return b.shift(),ba.require.undef(a),ba.makeRequire(null,{skipMap:!0})([a]),!0}function D(a){var b,c=a?a.indexOf("!"):-1;return-1<c&&(b=a.substring(0,c),a=a.substring(c+
1,a.length)),[b,a]}function C(a,b,c,k){var l,m,n,p,q=null,r=b?b.name:null,t=a,w=!0,u="";return a||(w=!1,a="_@r"+(Aa+=1)),q=(p=D(a))[0],a=p[1],q&&(q=B(q,r,k),m=h(fa,q)),a&&(q?u=c?a:m&&m.normalize?m.normalize(a,function(a){return B(a,r,k)}):-1===a.indexOf("!")?B(a,r,k):a:(q=(p=D(u=B(a,r,k)))[0],u=p[1],c=!0,l=ba.nameToUrl(u))),{prefix:q,name:u,parentMap:b,unnormalized:!!(n=!q||m||c?"":"_unnormalized"+(ra+=1)),url:l,originalName:t,isDefine:w,id:(q?q+"!"+u:u)+n}}function F(a){var b=a.id,c=h(M,b);return c||
(c=M[b]=new ba.Module(a)),c}function H(a,b,c){var k=a.id,l=h(M,k);!q(fa,k)||l&&!l.defineEmitComplete?(l=F(a)).error&&"error"===b?c(l.error):l.on(b,c):"defined"===b&&c(fa[k])}function I(a,b){var c=a.requireModules,k=!1;b?b(a):(p(c,function(b){(b=h(M,b))&&(b.error=a,b.events.error&&(k=!0,b.emit("error",a)))}),k||w.onError(a))}function J(){da.length&&(p(da,function(a){var b=a[0];"string"==typeof b&&(ba.defQueueMap[b]=!0);ca.push(a)}),da=[])}function L(a){delete M[a];delete va[a]}function u(){var a,b,
k=1E3*W.waitSeconds,l=k&&ba.startTime+k<(new Date).getTime(),m=[],q=[],t=!1,w=!0;if(!S){if(S=!0,n(va,function(a){var c=a.map,h=c.id;if(a.enabled&&(c.isDefine||q.push(a),!a.error))if(!a.inited&&l)E(h)?t=b=!0:(m.push(h),A(h));else if(!a.inited&&a.fetched&&c.isDefine&&(t=!0,!c.prefix))return w=!1}),l&&m.length)return(a=r("timeout","Load timeout for modules: "+m,null,m)).contextName=ba.contextName,I(a);w&&p(q,function(a){!function Sa(a,b,c){var k=a.map.id;a.error?a.emit("error",a.error):(b[k]=!0,p(a.depMaps,
function(k,l){k=k.id;var m=h(M,k);!m||a.depMatched[l]||c[k]||(h(b,k)?(a.defineDep(l,fa[k]),a.check()):Sa(m,b,c))}),c[k]=!0)}(a,{},{})});l&&!b||!t||!T&&!R||la||(la=c(function(){la=0;u()},50));S=!1}}function N(a){q(fa,a[0])||F(C(a[0],null,!0)).init(a[1],a[2])}function O(a){a=a.currentTarget||a.srcElement;var b=ba.onScriptLoad;a.detachEvent&&!Z?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=ba.onScriptError;a.detachEvent&&!Z||a.removeEventListener("error",b,!1);return{node:a,
id:a&&a.getAttribute("data-requiremodule")}}function Q(){var a;for(J();ca.length;){if(null===(a=ca.shift())[0])return I(r("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));N(a)}ba.defQueueMap={}}var S,X,ba,aa,la,W={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},M={},va={},oa={},ca=[],fa={},ya={},wa={},Aa=1,ra=1;return aa={require:function(a){return a.require?a.require:a.require=ba.makeRequire(a.map)},exports:function(a){if(a.usingExports=!0,a.map.isDefine)return a.exports?
fa[a.map.id]=a.exports:a.exports=fa[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return h(W.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},(X=function(a){this.events=h(oa,a.id)||{};this.map=a;this.shim=h(W.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0}).prototype={init:function(a,b,c,h){h=h||{};this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=
y(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=h.ignore,h.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;ba.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();ba.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||
[],y(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;ya[a]||(ya[a]=!0,ba.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,h=this.depExports,l=this.exports,m=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(k(m)){if(this.events.error&&this.map.isDefine||w.onError!==x)try{l=ba.execCb(c,m,h,l)}catch(n){a=
n}else l=ba.execCb(c,m,h,l);if(this.map.isDefine&&void 0===l&&((b=this.module)?l=b.exports:this.usingExports&&(l=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",I(this.error=a)}else l=m;if(this.exports=l,this.map.isDefine&&!this.ignore&&(fa[c]=l,w.onResourceLoad)){var r=[];p(this.depMaps,function(a){r.push(a.normalizedMap||a)});w.onResourceLoad(ba,this.map,r)}L(c);this.defined=!0}this.defining=!1;
this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else q(ba.defQueueMap,c)||this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,c=C(a.prefix);this.depMaps.push(c);H(c,"defined",y(this,function(c){var k,l,m,p=h(wa,this.map.id),t=this.map.name,u=this.map.parentMap?this.map.parentMap.name:null,x=ba.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(c.normalize&&(t=c.normalize(t,function(a){return B(a,
u,!0)})||""),H(l=C(a.prefix+"!"+t,this.map.parentMap,!0),"defined",y(this,function(a){this.map.normalizedMap=l;this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),void((m=h(M,l.id))&&(this.depMaps.push(l),this.events.error&&m.on("error",y(this,function(a){this.emit("error",a)})),m.enable()))):p?(this.map.url=ba.nameToUrl(p),void this.load()):((k=y(this,function(a){this.init([],function(){return a},null,{enabled:!0})})).error=y(this,function(a){this.inited=!0;(this.error=a).requireModules=
[b];n(M,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&L(a.map.id)});I(a)}),k.fromText=y(this,function(c,h){var l=a.name,m=C(l),n=U;h&&(c=h);n&&(U=!1);F(m);q(W.config,b)&&(W.config[l]=W.config[b]);try{w.exec(c)}catch(p){return I(r("fromtexteval","fromText eval for "+b+" failed: "+p,p,[b]))}n&&(U=!0);this.depMaps.push(m);ba.completeLoad(l);x([l],k)}),void c.load(a.name,x,k,W))}));ba.enable(c,this);this.pluginMaps[c.id]=c},enable:function(){this.enabling=(va[this.map.id]=this).enabled=!0;p(this.depMaps,
y(this,function(a,b){var c,k;if("string"==typeof a){if(a=C(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,c=h(aa,a.id))return void(this.depExports[b]=c(this));this.depCount+=1;H(a,"defined",y(this,function(a){this.undefed||(this.defineDep(b,a),this.check())}));this.errback?H(a,"error",y(this,this.errback)):this.events.error&&H(a,"error",y(this,function(a){this.emit("error",a)}))}c=a.id;k=M[c];q(aa,c)||!k||k.enabled||ba.enable(a,this)}));n(this.pluginMaps,y(this,
function(a){var b=h(M,a.id);b&&!b.enabled&&ba.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){p(this.events[a],function(a){a(b)});"error"===a&&delete this.events[a]}},(ba={config:W,contextName:b,registry:M,defined:fa,urlFetched:ya,defQueue:ca,defQueueMap:{},Module:X,makeModuleMap:C,nextTick:w.nextTick,onError:I,configure:function(a){if(a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/"),
"string"==typeof a.urlArgs){var b=a.urlArgs;a.urlArgs=function(a,c){return(-1===c.indexOf("?")?"?":"\x26")+b}}var c=W.shim,h={paths:!0,bundles:!0,config:!0,map:!0};n(a,function(a,b){h[b]?(W[b]||(W[b]={}),t(W[b],a,!0,!0)):W[b]=a});a.bundles&&n(a.bundles,function(a,b){p(a,function(a){a!==b&&(wa[a]=b)})});a.shim&&(n(a.shim,function(a,b){l(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=ba.makeShimExports(a));c[b]=a}),W.shim=c);a.packages&&p(a.packages,function(a){var b;b=(a="string"==
typeof a?{name:a}:a).name;a.location&&(W.paths[b]=a.location);W.pkgs[b]=a.name+"/"+(a.main||"main").replace(V,"").replace(Y,"")});n(M,function(a,b){a.inited||a.map.unnormalized||(a.map=C(b,null,!0))});(a.deps||a.callback)&&ba.require(a.deps||[],a.callback)},makeShimExports:function(b){return function(){var c;return b.init&&(c=b.init.apply(a,arguments)),c||b.exports&&z(b.exports)}},makeRequire:function(a,c){function l(h,m,n){var p,t;return c.enableBuildCallback&&m&&k(m)&&(m.__requireJsBuild=!0),"string"==
typeof h?k(m)?I(r("requireargs","Invalid require call"),n):a&&q(aa,h)?aa[h](M[a.id]):w.get?w.get(ba,h,a,l):(p=C(h,a,!1,!0).id,q(fa,p)?fa[p]:I(r("notloaded",'Module name "'+p+'" has not been loaded yet for context: '+b+(a?"":". Use require([])")))):(Q(),ba.nextTick(function(){Q();(t=F(C(null,a))).skipMap=c.skipMap;t.init(h,m,n,{enabled:!0});u()}),l)}return c=c||{},t(l,{isBrowser:T,toUrl:function(b){var c,h=b.lastIndexOf("."),k=b.split("/")[0];return-1!==h&&(!("."===k||".."===k)||1<h)&&(c=b.substring(h,
b.length),b=b.substring(0,h)),ba.nameToUrl(B(b,a&&a.id,!0),c,!0)},defined:function(b){return q(fa,C(b,a,!1,!0).id)},specified:function(b){return b=C(b,a,!1,!0).id,q(fa,b)||q(M,b)}}),a||(l.undef=function(b){J();var c=C(b,a,!0),k=h(M,b);k.undefed=!0;A(b);delete fa[b];delete ya[c.url];delete oa[b];m(ca,function(a,c){a[0]===b&&ca.splice(c,1)});delete ba.defQueueMap[b];k&&(k.events.defined&&(oa[b]=k.events),L(b))}),l},enable:function(a){h(M,a.id)&&F(a).enable()},completeLoad:function(a){var b,c,k,l=h(W.shim,
a)||{},m=l.exports;for(J();ca.length;){if(null===(c=ca.shift())[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);N(c)}if(ba.defQueueMap={},k=h(M,a),!b&&!q(fa,a)&&k&&!k.inited){if(!(!W.enforceDefine||m&&z(m)))return E(a)?void 0:I(r("nodefine","No define call for "+a,null,[a]));N([a,l.deps||[],l.exportsFn])}u()},nameToUrl:function(a,b,c){var k,m,n,p;k=h(W.pkgs,a);if(k&&(a=k),k=h(wa,a))return ba.nameToUrl(k,b,c);if(w.jsExtRegExp.test(a))k=a+(b||"");else{k=W.paths;for(n=(m=a.split("/")).length;0<n;--n)if(p=
h(k,m.slice(0,n).join("/"))){l(p)&&(p=p[0]);m.splice(0,n,p);break}k=m.join("/");k=("/"===(k+=b||(/^data\:|^blob\:|\?/.test(k)||c?"":".js")).charAt(0)||k.match(/^[\w\+\.\-]+:/)?"":W.baseUrl)+k}return W.urlArgs&&!/^blob\:/.test(k)?k+W.urlArgs(a,k):k},load:function(a,b){w.load(ba,a,b)},execCb:function(a,b,c,h){return b.apply(h,c)},onScriptLoad:function(a){if("load"===a.type||K.test((a.currentTarget||a.srcElement).readyState))G=null,a=O(a),ba.completeLoad(a.id)},onScriptError:function(a){var b=O(a);if(!E(b.id)){var c=
[];return n(M,function(a,h){0!==h.indexOf("_@r")&&p(a.depMaps,function(a){if(a.id===b.id)return c.push(h),!0})}),I(r("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}}).require=ba.makeRequire(),ba}function A(){return G&&"interactive"===G.readyState||m(document.getElementsByTagName("script"),function(a){if("interactive"===a.readyState)return G=a}),G}var w,B,E,D,F,H,G,L,I,N,O=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,J=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
Y=/\.js$/,V=/^\.\//;B=Object.prototype;var S=B.toString,Q=B.hasOwnProperty,T=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),R=!T&&"undefined"!=typeof importScripts,K=T&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Z="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),X={},aa={},da=[],U=!1;if(void 0===define){if(void 0!==requirejs){if(k(requirejs))return;aa=requirejs;requirejs=void 0}void 0===require||k(require)||(aa=require,require=
void 0);w=requirejs=function(a,b,c,k){var m,n,p="_";return l(a)||"string"==typeof a||(n=a,l(b)?(a=b,b=c,c=k):a=[]),n&&n.context&&(p=n.context),(m=h(X,p))||(m=X[p]=w.s.newContext(p)),n&&m.configure(n),m.require(a,b,c)};w.config=function(a){return w(a)};w.nextTick=void 0!==c?function(a){c(a,4)}:function(a){a()};require||(require=w);w.version="2.3.6";w.jsExtRegExp=/^\/|:|\?|\.js$/;w.isBrowser=T;B=w.s={contexts:X,newContext:C};w({});p(["toUrl","undef","defined","specified"],function(a){w[a]=function(){var b=
X._;return b.require[a].apply(b,arguments)}});T&&(E=B.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0],D&&(E=B.head=D.parentNode));w.onError=x;w.createNode=function(a,b,c){b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b};w.load=function(a,b,h){var k,l=a&&a.config||{};if(T)return(k=w.createNode(l,b,h)).setAttribute("data-requirecontext",
a.contextName),k.setAttribute("data-requiremodule",b),!k.attachEvent||k.attachEvent.toString&&0>k.attachEvent.toString().indexOf("[native code")||Z?(k.addEventListener("load",a.onScriptLoad,!1),k.addEventListener("error",a.onScriptError,!1)):(U=!0,k.attachEvent("onreadystatechange",a.onScriptLoad)),k.src=h,l.onNodeCreated&&l.onNodeCreated(k,l,b,h),L=k,D?E.insertBefore(k,D):E.appendChild(k),L=null,k;if(R)try{c(function(){},0),importScripts(h),a.completeLoad(b)}catch(m){a.onError(r("importscripts",
"importScripts failed for "+b+" at "+h,m,[b]))}};T&&!aa.skipDataMain&&m(document.getElementsByTagName("script"),function(a){if(E||(E=a.parentNode),F=a.getAttribute("data-main"))return I=F,aa.baseUrl||-1!==I.indexOf("!")||(I=(H=I.split("/")).pop(),N=H.length?H.join("/")+"/":"./",aa.baseUrl=N),I=I.replace(Y,""),w.jsExtRegExp.test(I)&&(I=F),aa.deps=aa.deps?aa.deps.concat(I):[I],!0});define=function(a,c,h){var m,n;"string"!=typeof a&&(h=c,c=a,a=null);l(c)||(h=c,c=null);!c&&k(h)&&(c=[],h.length&&(h.toString().replace(O,
b).replace(J,function(a,b){c.push(b)}),c=(1===h.length?["require"]:["require","exports","module"]).concat(c)));U&&(m=L||A())&&(a||(a=m.getAttribute("data-requiremodule")),n=X[m.getAttribute("data-requirecontext")]);n?(n.defQueue.push([a,c,h]),n.defQueueMap[a]=!0):da.push([a,c,h])};define.amd={jQuery:!0};w.exec=function(a){return eval(a)};w(aa)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout);DKI=DKI||{};
DKI.Events={TestQuestion:{exportSubmitted:"TESTQUESTION_EXPORT_SUBMITTED",submitted:"TESTQUESTION_SUBMITTED",nextClicked:"TESTQUESTION_NEXT_CLICKED",forceEnd:"TESTQUESTION_FORCE_END",correct:"TESTQUESTION_CORRECT",incorrect:"TESTQUESTION_INCORRECT",partiallyCorrect:"TESTQUESTION_PARTIALLY_CORRECT",attemptSubmitted:"PRACTICE_QUESTION_ATTEMPT_SUBMITTED",attemptIncorrect:"PRACTICE_QUESTION_ATTEMPT_INCORRECT",attemptPartiallyCorrect:"PRACTICE_QUESTION_ATTEMPT_PARTIALLY_CORRECT",questionInReview:"TESTQUESTION_REVIEW",
feedbackShown:"TESTQUESTION_FEEDBACK_SHOWN",dragStarted:"TESTQUESTION_DRAG_STARTED",dragStopped:"TESTQUESTION_DRAG_STOPPED"}};
!function(a){var c=function(b,c){this.options=c;this.parent=this.options.parentSelector?a(a(b).closest(this.options.parentSelector)):a(b).parent();this.state={current:0};a(b).addClass("dki-radialgauge");return this};c.DEFAULTS={parentSelector:"",startingPosition:0,halfGauge:!1,showText:!1,asPercent:!1,ringSize:0,current:function(){return this.rg.state.current}};c.prototype={setText:function(a){if(this.rg.options.showText)this.$.find(".overlay .text").html(this.rg.options.showText);else{var c=this.rg.options.current.call(this);
a=""==c||isNaN(c/100)?a:c;this.$.find(".overlay .text").html(a+(this.rg.options.asPercent&&!isNaN(a)?"%":""));isNaN(a)||(this.$.find(".overlay .text").attr("role","progressbar"),this.$.find(".overlay .text").attr("aria-valuenow",a),this.$.find(".overlay .text").attr("aria-valuemax",100),this.$.find(".overlay .text").attr("aria-valuemin",0))}},setRotation:function(a,c){var l=Math.round(a/100*360),p=this.rg.options.startingPosition,l=l/2;p&&this.$.find(".mask.half").css("transform","rotate("+p+"deg)");
this.rg.options.halfGauge&&(this.$.css("clip","rect(0px 100px 50px 0px"),l/=2);this.$.find(".fill").css("transform","rotate("+l+"deg)");this.$.find(".mask.full").css("transform","rotate("+(l+p)+"deg)");this.$.find(".fill.fix").css("transform","rotate("+2*l+"deg)");this.rg.state.current=a;c&&c(this.$,this.rg);this.rg.setText.call(this,Math.floor(a))},resize:function(a){a&&(this.rg.options.width=a);a=2*Math.round((this.rg.options.width?this.rg.options.width:this.rg.parent.outerWidth())/2);var c=2*(parseInt(this.rg.parent.css("padding"),
10)||0);a=height=a-c;height=this.rg.options.halfGauge?height/2:height;this.rg.parent.css({height:height+c+"px"});this.$.css("width",a).css("height",height);var c="0px "+height+"px "+height+"px "+height/2+"px",l="0px "+height/2+"px "+height+"px 0px";a=this.$.find(".overlay");this.$.find(".mask").css("clip","rect("+c+")");this.$.find(".fill").css("clip","rect("+l+")");this.rg.options.ringSize&&(c=2*Math.round(height*(1-this.rg.options.ringSize)/2),a.height(c),a.width(c),a.css("margin",(height-c)/2));
a.css("font-size",a.innerWidth()/3+"px").css("line-height",a.innerWidth()+"px")},shown:function(){this.$.RadialGauge("resize")}};a.fn.RadialGauge=function(b){var k=b,l=Array.prototype.slice.call(arguments,1);return this.each(function(){var p=a(this),m=a(this).data("dki.RadialGauge");options=a.extend({},c.DEFAULTS,"object"===typeof k&&k);m?"string"===typeof b&&(p=a(this).data("dki.RadialGauge"))&&p[b]&&p[b].apply({$:a(this),rg:a(this).data("dki.RadialGauge")},l):p.data("dki.RadialGauge",new c(this,
options))})};a.fn.RadialGauge.Constructor=c}(window.jQuery);
var objectFitImages=function(){function a(a){if(a.srcset&&!z&&window.picturefill){var b=window.picturefill._;a[b.ns]&&a[b.ns].evaled||b.fillImg(a,{reselect:!0});a[b.ns].curSrc||(a[b.ns].supported=!1,b.fillImg(a,{reselect:!0}));a.currentSrc=a[b.ns].curSrc||a.src}}function c(a){for(var b=getComputedStyle(a).fontFamily,c={};null!==(a=h.exec(b));)c[a[1]]=a[2];return c}function b(a,b,c){b="data:image/svg+xml,%3Csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'"+(b||1)+"' height\x3d'"+(c||0)+"'%3E%3C/svg%3E";
r.call(a,"src")!==b&&C.call(a,"src",b)}function k(a,b){a.naturalWidth?b(a):setTimeout(k,100,a,b)}function l(h){var l=c(h),m=h[q];if(l["object-fit"]=l["object-fit"]||"fill",!m.img)if("fill"===l["object-fit"]||!m.skipTest&&t&&!l["object-position"])return;if(!m.img){m.img=new Image(h.width,h.height);m.img.srcset=r.call(h,"data-ofi-srcset")||h.srcset;m.img.src=r.call(h,"data-ofi-src")||h.src;C.call(h,"data-ofi-src",h.src);h.srcset&&C.call(h,"data-ofi-srcset",h.srcset);b(h,h.naturalWidth||h.width,h.naturalHeight||
h.height);h.srcset&&(h.srcset="");try{p(h)}catch(n){}}a(m.img);h.style.backgroundImage='url("'+(m.img.currentSrc||m.img.src).replace(/"/g,'\\"')+'")';h.style.backgroundPosition=l["object-position"]||"center";h.style.backgroundRepeat="no-repeat";h.style.backgroundOrigin="content-box";/scale-down/.test(l["object-fit"])?k(m.img,function(){m.img.naturalWidth>h.width||m.img.naturalHeight>h.height?h.style.backgroundSize="contain":h.style.backgroundSize="auto"}):h.style.backgroundSize=l["object-fit"].replace("none",
"auto").replace("fill","100% 100%");k(m.img,function(a){b(h,a.naturalWidth,a.naturalHeight)})}function p(a){var b={get:function(b){return a[q].img[b?b:"src"]},set:function(b,c){return a[q].img[c?c:"src"]=b,C.call(a,"data-ofi-"+c,b),l(a),b}};Object.defineProperty(a,"src",b);Object.defineProperty(a,"currentSrc",{get:function(){return b.get("currentSrc")}});Object.defineProperty(a,"srcset",{get:function(){return b.get("srcset")},set:function(a){return b.set(a,"srcset")}})}function m(a,b){var c=!A&&!a;
if(b=b||{},a=a||"img",y&&!b.skipTest||!x)return!1;"img"===a?a=document.getElementsByTagName("img"):"string"==typeof a?a=document.querySelectorAll(a):"length"in a||(a=[a]);for(var h=0;h<a.length;h++)a[h][q]=a[h][q]||{skipTest:b.skipTest},l(a[h]);c&&(document.body.addEventListener("load",function(a){"IMG"===a.target.tagName&&m(a.target,{skipTest:b.skipTest})},!0),A=!0,a="img");b.watchMQ&&window.addEventListener("resize",m.bind(null,a,{skipTest:b.skipTest}))}var q="bfred-it:object-fit-images",h=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,
n="undefined"==typeof Image?{style:{"object-position":1}}:new Image,t="object-fit"in n.style,y="object-position"in n.style,x="background-size"in n.style,z="string"==typeof n.currentSrc,r=n.getAttribute,C=n.setAttribute,A=!1;return m.supportsObjectFit=t,m.supportsObjectPosition=y,function(){function a(b,c){return b[q]&&b[q].img&&("src"===c||"srcset"===c)?b[q].img:b}y||(HTMLImageElement.prototype.getAttribute=function(b){return r.call(a(this,b),b)},HTMLImageElement.prototype.setAttribute=function(b,
c){return C.call(a(this,b),b,String(c))})}(),m}();